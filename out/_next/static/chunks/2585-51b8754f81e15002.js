(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2585],{81316:function(t,r,s){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ParsedMessage=void 0;let i=n(s(34750)),o=n(s(26198)),a=s(85508),l=`
sign-in-with-ethereum =
    domain %s" wants you to sign in with your Ethereum account:" LF
    address LF
    LF
    [ statement LF ]
    LF
    %s"URI: " URI LF
    %s"Version: " version LF
    %s"Chain ID: " chain-id LF
    %s"Nonce: " nonce LF
    %s"Issued At: " issued-at
    [ LF %s"Expiration Time: " expiration-time ]
    [ LF %s"Not Before: " not-before ]
    [ LF %s"Request ID: " request-id ]
    [ LF %s"Resources:"
    resources ]

domain = authority

address = "0x" 40*40HEXDIG
    ; Must also conform to captilization
    ; checksum encoding specified in EIP-55
    ; where applicable (EOAs).

statement = 1*( reserved / unreserved / " " )
    ; The purpose is to exclude LF (line breaks).

version = "1"

nonce = 8*( ALPHA / DIGIT )

issued-at = date-time
expiration-time = date-time
not-before = date-time

request-id = *pchar

chain-id = 1*DIGIT
    ; See EIP-155 for valid CHAIN_IDs.

resources = *( LF resource )

resource = "- " URI

; ------------------------------------------------------------------------------
; RFC 3986

URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]

hier-part     = "//" authority path-abempty
              / path-absolute
              / path-rootless
              / path-empty

scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )

authority     = [ userinfo "@" ] host [ ":" port ]
userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
host          = IP-literal / IPv4address / reg-name
port          = *DIGIT

IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"

IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )

IPv6address   =                            6( h16 ":" ) ls32
              /                       "::" 5( h16 ":" ) ls32
              / [               h16 ] "::" 4( h16 ":" ) ls32
              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
              / [ *4( h16 ":" ) h16 ] "::"              ls32
              / [ *5( h16 ":" ) h16 ] "::"              h16
              / [ *6( h16 ":" ) h16 ] "::"

h16           = 1*4HEXDIG
ls32          = ( h16 ":" h16 ) / IPv4address
IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
dec-octet     = DIGIT                 ; 0-9
                 / %x31-39 DIGIT         ; 10-99
                 / "1" 2DIGIT            ; 100-199
                 / "2" %x30-34 DIGIT     ; 200-249
                 / "25" %x30-35          ; 250-255

reg-name      = *( unreserved / pct-encoded / sub-delims )

path-abempty  = *( "/" segment )
path-absolute = "/" [ segment-nz *( "/" segment ) ]
path-rootless = segment-nz *( "/" segment )
path-empty    = 0pchar

segment       = *pchar
segment-nz    = 1*pchar

pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"

query         = *( pchar / "/" / "?" )

fragment      = *( pchar / "/" / "?" )

pct-encoded   = "%" HEXDIG HEXDIG

unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
reserved      = gen-delims / sub-delims
gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
              / "*" / "+" / "," / ";" / "="

; ------------------------------------------------------------------------------
; RFC 3339

date-fullyear   = 4DIGIT
date-month      = 2DIGIT  ; 01-12
date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
                          ; month/year
time-hour       = 2DIGIT  ; 00-23
time-minute     = 2DIGIT  ; 00-59
time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
                          ; rules
time-secfrac    = "." 1*DIGIT
time-numoffset  = ("+" / "-") time-hour ":" time-minute
time-offset     = "Z" / time-numoffset

partial-time    = time-hour ":" time-minute ":" time-second
                  [time-secfrac]
full-date       = date-fullyear "-" date-month "-" date-mday
full-time       = partial-time time-offset

date-time       = full-date "T" full-time

; ------------------------------------------------------------------------------
; RFC 5234

ALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z
LF             =  %x0A
                  ; linefeed
DIGIT          =  %x30-39
                  ; 0-9
HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`;let GrammarApi=class GrammarApi{static generateApi(){let t=new i.default(l);if(t.generate(),t.errors.length)throw console.error(t.errorsToAscii()),console.error(t.linesToAscii()),console.log(t.displayAttributeErrors()),Error("ABNF grammar has errors");return t.toObject()}};GrammarApi.grammarObj=GrammarApi.generateApi(),r.ParsedMessage=class{constructor(t){let r=new o.default.parser;r.ast=new o.default.ast;let s=o.default.ids;r.ast.callbacks.domain=function(t,r,n,i,a){let l=s.SEM_OK;return t===s.SEM_PRE&&(a.domain=o.default.utils.charsToString(r,n,i)),l},r.ast.callbacks.address=function(t,r,n,i,a){let l=s.SEM_OK;return t===s.SEM_PRE&&(a.address=o.default.utils.charsToString(r,n,i)),l},r.ast.callbacks.statement=function(t,r,n,i,a){let l=s.SEM_OK;return t===s.SEM_PRE&&(a.statement=o.default.utils.charsToString(r,n,i)),l},r.ast.callbacks.uri=function(t,r,n,i,a){let l=s.SEM_OK;return t!==s.SEM_PRE||a.uri||(a.uri=o.default.utils.charsToString(r,n,i)),l},r.ast.callbacks.version=function(t,r,n,i,a){let l=s.SEM_OK;return t===s.SEM_PRE&&(a.version=o.default.utils.charsToString(r,n,i)),l},r.ast.callbacks["chain-id"]=function(t,r,n,i,l){let c=s.SEM_OK;return t===s.SEM_PRE&&(l.chainId=(0,a.parseIntegerNumber)(o.default.utils.charsToString(r,n,i))),c},r.ast.callbacks.nonce=function(t,r,n,i,a){let l=s.SEM_OK;return t===s.SEM_PRE&&(a.nonce=o.default.utils.charsToString(r,n,i)),l},r.ast.callbacks["issued-at"]=function(t,r,n,i,a){let l=s.SEM_OK;return t===s.SEM_PRE&&(a.issuedAt=o.default.utils.charsToString(r,n,i)),l},r.ast.callbacks["expiration-time"]=function(t,r,n,i,a){let l=s.SEM_OK;return t===s.SEM_PRE&&(a.expirationTime=o.default.utils.charsToString(r,n,i)),l},r.ast.callbacks["not-before"]=function(t,r,n,i,a){let l=s.SEM_OK;return t===s.SEM_PRE&&(a.notBefore=o.default.utils.charsToString(r,n,i)),l},r.ast.callbacks["request-id"]=function(t,r,n,i,a){let l=s.SEM_OK;return t===s.SEM_PRE&&(a.requestId=o.default.utils.charsToString(r,n,i)),l},r.ast.callbacks.resources=function(t,r,n,i,a){let l=s.SEM_OK;return t===s.SEM_PRE&&(a.resources=o.default.utils.charsToString(r,n,i).slice(3).split("\n- ")),l};let n=r.parse(GrammarApi.grammarObj,"sign-in-with-ethereum",t);if(!n.success)throw Error(`Invalid message: ${JSON.stringify(n)}`);let i={};for(let[t,s]of(r.ast.translate(i),Object.entries(i)))this[t]=s;if(0===this.domain.length)throw Error("Domain cannot be empty.");if(!(0,a.isEIP55Address)(this.address))throw Error("Address not conformant to EIP-55.")}}},22484:function(t,r,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,r,s,n){void 0===n&&(n=s);var i=Object.getOwnPropertyDescriptor(r,s);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[s]}}),Object.defineProperty(t,n,i)}:function(t,r,s,n){void 0===n&&(n=s),t[n]=r[s]}),i=this&&this.__exportStar||function(t,r){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(r,s)||n(r,t,s)};Object.defineProperty(r,"__esModule",{value:!0}),r.ParsedMessage=void 0;let o=s(81316);Object.defineProperty(r,"ParsedMessage",{enumerable:!0,get:function(){return o.ParsedMessage}}),i(s(85508),r)},85508:function(t,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseIntegerNumber=r.isEIP55Address=void 0;let n=s(29749),i=s(17452);r.isEIP55Address=t=>{if(42!=t.length)return!1;let r=`${t}`.toLowerCase().replace("0x","");for(var s=(0,i.bytesToHex)((0,n.keccak_256)(r)),o="0x",a=0;a<r.length;a++)parseInt(s[a],16)>=8?o+=r[a].toUpperCase():o+=r[a];return t===o},r.parseIntegerNumber=t=>{let r=parseInt(t);if(r===1/0)throw Error("Invalid number.");return r}},34750:function(t,r,s){t.exports=function(t){let r;let{Buffer:n}=s(67133),i="api.js: ",o=this,a=s(26198),l=s(62803),c=s(34881),h=new(s(17473)),{attributes:d,showAttributes:u,showAttributeErrors:m,showRuleDependencies:g}=s(30397),T=s(40367),abnfToHtml=function(t,r,s){let n;let i=`<span class="${a.style.CLASS_CTRLCHAR}">`,o="</span>",l=`<span class="${a.style.CLASS_NOMATCH}">`,c="</span>",h="";for(;Array.isArray(t)&&0!==t.length;){if("number"!=typeof r)throw Error("abnfToHtml: beg must be type number");if(r>=t.length)break;n="number"!=typeof s||r+s>=t.length?t.length:r+s;let d=0;for(let s=r;s<n;s+=1){let r=t[s];if(r>=32&&r<=126)switch(1===d?(h+=o,d=0):2===d&&(h+=c,d=0),r){case 32:h+="&nbsp;";break;case 60:h+="&lt;";break;case 62:h+="&gt;";break;case 38:h+="&amp;";break;case 34:h+="&quot;";break;case 39:h+="&#039;";break;case 92:h+="&#092;";break;default:h+=String.fromCharCode(r)}else 9===r||10===r||13===r?(0===d?(h+=i,d=1):2===d&&(h+=c+i,d=1),9===r&&(h+="TAB"),10===r&&(h+="LF"),13===r&&(h+="CR")):(0===d?(h+=l,d=2):1===d&&(h+=o+l,d=2),h+=`\\x${a.utils.charToHex(r)}`)}2===d&&(h+=c),1===d&&(h+=o);break}return h},abnfToAscii=function(t,r,s){let n="";for(let i=r;i<r+s;i+=1){let r=t[i];if(r>=32&&r<=126)n+=String.fromCharCode(r);else switch(r){case 9:n+="\\t";break;case 10:n+="\\n";break;case 13:n+="\\r";break;default:n+="\\unknown"}}return n},linesToAscii=function(t){let r="Annotated Input Grammar";return t.forEach(t=>{r+=`
line no: ${t.lineNo} : char index: ${t.beginChar} : length: ${t.length} : abnf: ${abnfToAscii(o.chars,t.beginChar,t.length)}`}),r+="\n"},linesToHtml=function(t){let r="";return r+=`<table class="${a.style.CLASS_GRAMMAR}">
<caption>Annotated Input Grammar</caption>
<tr><th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th></tr>
`,t.forEach(t=>{r+=`<tr><td>${t.lineNo}</td><td>${t.beginChar}</td><td>${t.length}</td><td>${abnfToHtml(o.chars,t.beginChar,t.length)}</td></tr>
`}),r+="</table>\n"},errorsToHtml=function(t,r,s,n){let[i]=a,o="",l=`<span class="${i.CLASS_NOMATCH}">&raquo;</span>`;return o+=`<p><table class="${i.CLASS_GRAMMAR}">
`,n&&"string"==typeof n&&(o+=`<caption>${n}</caption>
`),o+="<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>\n",t.forEach(t=>{let n,i,c,h,d;let u="",m="";0===r.length?(d=l,i=0):(c=(n=r[t.line]).beginChar,t.char>c&&(u=abnfToHtml(s,c,t.char-c)),(c=t.char)<(h=n.beginChar+n.length)&&(m=abnfToHtml(s,c,h-c)),d=u+l+m,i=t.char-n.beginChar,o+=`<tr><td>${t.line}</td><td>${n.beginChar}</td><td>${i}</td><td>${d}</td></tr>
<tr><td colspan="3"></td><td>&uarr;:&nbsp;${a.utils.stringToAsciiHtml(t.msg)}</td></tr>
`)}),o+="</table></p>\n"},errorsToAscii=function(t,r,s){let n,i,o,a;return n="",t.forEach(t=>{i=r[t.line],n+=`${i.lineNo}: ${i.beginChar}: ${t.char-i.beginChar}: `,o=i.beginChar,a=t.char-i.beginChar,n+=abnfToAscii(s,o,a)+" >> ",o=t.char,a=i.beginChar+i.length-t.char,n+=abnfToAscii(s,o,a)+"\n"+`${i.lineNo}: `+`${i.beginChar}: `+`${t.char-i.beginChar}: `+"error: "+t.msg+"\n"}),n},E=!1,A=!1,x=!1,k=!1,C=0;if(this.errors=[],n.isBuffer(t))this.chars=l.decode("BINARY",t);else if(Array.isArray(t))this.chars=t.slice();else if("string"==typeof t)this.chars=l.decode("STRING",t);else throw Error(`${i}input source is not a string, byte Buffer or character array`);this.sabnf=l.encode("STRING",this.chars),this.scan=function(t,r){this.lines=c(this.chars,this.errors,t,r),E=!0},this.parse=function(t,r,s){if(!E)throw Error(`${i}grammar not scanned`);h.syntax(this.chars,this.lines,this.errors,t,r,s),A=!0},this.translate=function(){if(!A)throw Error(`${i}grammar not scanned and parsed`);let t=h.semantic(this.chars,this.lines,this.errors);0===this.errors.length&&(this.rules=t.rules,this.udts=t.udts,r=t.lineMap,x=!0)},this.attributes=function(){if(!x)throw Error(`${i}grammar not scanned, parsed and translated`);return C=d(this.rules,this.udts,r,this.errors),k=!0,C},this.generate=function(t){if(this.lines=c(this.chars,this.errors,t),this.errors.length||(h.syntax(this.chars,this.lines,this.errors,t),this.errors.length))return;let s=h.semantic(this.chars,this.lines,this.errors);this.errors.length||(this.rules=s.rules,this.udts=s.udts,r=s.lineMap,C=d(this.rules,this.udts,r,this.errors),k=!0)},this.displayRules=function(t="index"){if(!x)throw Error(`${i}grammar not scanned, parsed and translated`);return T(this.rules,this.udts,t)},this.displayRuleDependencies=function(t="index"){if(!k)throw Error(`${i}no attributes - must be preceeded by call to attributes()`);return g(t)},this.displayAttributes=function(t="index"){if(!k)throw Error(`${i}no attributes - must be preceeded by call to attributes()`);return C&&m(t),u(t)},this.displayAttributeErrors=function(){if(!k)throw Error(`${i}no attributes - must be preceeded by call to attributes()`);return m()},this.toSource=function(t,r){if(!k)throw Error(`${i}can't generate parser source - must be preceeded by call to attributes()`);if(C)throw Error(`${i}can't generate parser source - attributes have ${C} errors`);return h.generateSource(this.chars,this.lines,this.rules,this.udts,t,r)},this.toObject=function(){if(!k)throw Error(`${i}can't generate parser source - must be preceeded by call to attributes()`);if(C)throw Error(`${i}can't generate parser source - attributes have ${C} errors`);return h.generateObject(this.sabnf,this.rules,this.udts)},this.errorsToAscii=function(){return errorsToAscii(this.errors,this.lines,this.chars)},this.errorsToHtml=function(t){return errorsToHtml(this.errors,this.lines,this.chars,t)},this.linesToAscii=function(){return linesToAscii(this.lines)},this.linesToHtml=function(){return linesToHtml(this.lines)}}},30397:function(t,r,s){t.exports=function(){let t=s(33874),{ruleAttributes:r,showAttributes:n,showAttributeErrors:i}=s(55150),{ruleDependencies:o,showRuleDependencies:a}=s(29726);let State=class State{constructor(t,r){this.rules=t,this.udts=r,this.ruleCount=t.length,this.udtCount=r.length,this.startRule=0,this.dependenciesComplete=!1,this.attributesComplete=!1,this.isMutuallyRecursive=!1,this.ruleIndexes=this.indexArray(this.ruleCount),this.ruleAlphaIndexes=this.indexArray(this.ruleCount),this.ruleTypeIndexes=this.indexArray(this.ruleCount),this.udtIndexes=this.indexArray(this.udtCount),this.udtAlphaIndexes=this.indexArray(this.udtCount),this.attrsErrorCount=0,this.attrs=[],this.attrsErrors=[],this.attrsWorking=[],this.ruleDeps=[];for(let r=0;r<this.ruleCount;r+=1)this.attrs.push(this.attrGen(this.rules[r])),this.attrsWorking.push(this.attrGen(this.rules[r])),this.ruleDeps.push(this.rdGen(t[r],this.ruleCount,this.udtCount));this.compRulesAlpha=this.compRulesAlpha.bind(this),this.compUdtsAlpha=this.compUdtsAlpha.bind(this),this.compRulesType=this.compRulesType.bind(this),this.compRulesGroup=this.compRulesGroup.bind(this)}attrGen(t){return{left:!1,nested:!1,right:!1,empty:!1,finite:!1,cyclic:!1,leaf:!1,isOpen:!1,isComplete:!1,rule:t}}attrInit(t){t.left=!1,t.nested=!1,t.right=!1,t.empty=!1,t.finite=!1,t.cyclic=!1,t.leaf=!1,t.isOpen=!1,t.isComplete=!1}attrCopy(t,r){t.left=r.left,t.nested=r.nested,t.right=r.right,t.empty=r.empty,t.finite=r.finite,t.cyclic=r.cyclic,t.leaf=r.leaf,t.isOpen=r.isOpen,t.isComplete=r.isComplete,t.rule=r.rule}rdGen(r,s,n){let i={rule:r,recursiveType:t.ATTR_N,groupNumber:-1,refersTo:this.falseArray(s),refersToUdt:this.falseArray(n),referencedBy:this.falseArray(s)};return i}typeToString(r){switch(r){case t.ATTR_N:return" N";case t.ATTR_R:return" R";case t.ATTR_MR:return"MR";default:return"UNKNOWN"}}falseArray(t){let r=[];if(t>0)for(let s=0;s<t;s+=1)r.push(!1);return r}falsifyArray(t){for(let r=0;r<t.length;r+=1)t[r]=!1}indexArray(t){let r=[];if(t>0)for(let s=0;s<t;s+=1)r.push(s);return r}compRulesAlpha(t,r){return this.rules[t].lower<this.rules[r].lower?-1:this.rules[t].lower>this.rules[r].lower?1:0}compUdtsAlpha(t,r){return this.udts[t].lower<this.udts[r].lower?-1:this.udts[t].lower>this.udts[r].lower?1:0}compRulesType(t,r){return this.ruleDeps[t].recursiveType<this.ruleDeps[r].recursiveType?-1:this.ruleDeps[t].recursiveType>this.ruleDeps[r].recursiveType?1:0}compRulesGroup(r,s){if(this.ruleDeps[r].recursiveType===t.ATTR_MR&&this.ruleDeps[s].recursiveType===t.ATTR_MR){if(this.ruleDeps[r].groupNumber<this.ruleDeps[s].groupNumber)return -1;if(this.ruleDeps[r].groupNumber>this.ruleDeps[s].groupNumber)return 1}return 0}};return{attributes:function(t=[],s=[],n=[],i=[]){let a=new State(t,s);return o(a),r(a),a.attrsErrorCount&&i.push({line:0,char:0,msg:`${a.attrsErrorCount} attribute errors`}),a.attrsErrorCount},showAttributes:n,showAttributeErrors:i,showRuleDependencies:a}}()},17473:function(t,r,s){t.exports=function(){let t=s(26198),r=t.ids,n=new(s(40110)),i=new(s(1638)),o=new(s(83954)),a=new t.parser;a.ast=new t.ast,a.callbacks=n.callbacks,a.ast.callbacks=i.callbacks;let findLine=function(t,r,s){if(r<0||r>=s)return -1;for(let s=0;s<t.length;s+=1)if(r>=t[s].beginChar&&r<t[s].beginChar+t[s].length)return s;return -1},translateIndex=function(t,r){let s=-1;if(r<t.length){for(let n=r;n<t.length;n+=1)if(null!==t[n]){s=t[n];break}}return s},reduceOpcodes=function(t){t.forEach(t=>{let s=[],n=[],i=0;t.opcodes.forEach(t=>{t.type===r.ALT&&1===t.children.length?n.push(null):t.type===r.CAT&&1===t.children.length?n.push(null):t.type===r.REP&&1===t.min&&1===t.max?n.push(null):(n.push(i),s.push(t),i+=1)}),n.push(i),s.forEach(t=>{if(t.type===r.ALT||t.type===r.CAT)for(let r=0;r<t.children.length;r+=1)t.children[r]=translateIndex(n,t.children[r])}),t.opcodes=s})};this.syntax=function(t,r,s,n,i,l){if(l){if("traceObject"!==l.traceObject)throw TypeError("parser: trace argument is not a trace object");a.trace=l}let c={};c.errors=s,c.strict=!!n,c.lite=!!i,c.lines=r,c.findLine=findLine,c.charsLength=t.length,c.ruleCount=0;let h=a.parse(o,"file",t,c);h.success||s.push({line:0,char:0,msg:"syntax analysis of input grammar failed"})},this.semantic=function(t,r,s){let n={};return(n.errors=s,n.lines=r,n.findLine=findLine,n.charsLength=t.length,a.ast.translate(n),s.length)?null:(reduceOpcodes(n.rules),{rules:n.rules,udts:n.udts,lineMap:n.rulesLineMap})},this.generateSource=function(t,s,n,i,o,a){let l,c,h,d,u="",m=0,g=1/0,T=0,E=[],A=[],x=0,k=0,C=0,w=0,M=0,O=0,L=0,N=0,R=0,B=0,_=0,v=0,I=0,D=0,P=0;return n.forEach(t=>{E.push(t.lower),m+=t.opcodes.length,t.opcodes.forEach(t=>{switch(t.type){case r.ALT:x+=1;break;case r.CAT:k+=1;break;case r.RNM:C+=1;break;case r.UDT:w+=1;break;case r.REP:M+=1;break;case r.AND:O+=1;break;case r.NOT:L+=1;break;case r.BKA:v+=1;break;case r.BKN:I+=1;break;case r.BKR:_+=1;break;case r.ABG:D+=1;break;case r.AEN:P+=1;break;case r.TLS:for(N+=1,l=0;l<t.string.length;l+=1)t.string[l]<g&&(g=t.string[l]),t.string[l]>T&&(T=t.string[l]);break;case r.TBS:for(R+=1,l=0;l<t.string.length;l+=1)t.string[l]<g&&(g=t.string[l]),t.string[l]>T&&(T=t.string[l]);break;case r.TRG:B+=1,t.min<g&&(g=t.min),t.max>T&&(T=t.max);break;default:throw Error("generateSource: unrecognized opcode")}})}),E.sort(),i.length>0&&(i.forEach(t=>{A.push(t.lower)}),A.sort()),u+="// copyright: Copyright (c) 2023 Lowell D. Thomas, all rights reserved<br>\n//   license: BSD-2-Clause (https://opensource.org/licenses/BSD-2-Clause)<br>\n//\n// Generated by apg-js, Version 4.3.0 [apg-js](https://github.com/ldthomas/apg-js)\n",a&&"string"==typeof a?u+=`const ${a} = function grammar(){
`:o?u+="export default function grammar(){\n":u+=`module.exports = function grammar(){
`,u+=`  // \`\`\`
  // SUMMARY
  //      rules = ${n.length}
  //       udts = ${i.length}
  //    opcodes = ${m}
  //        ---   ABNF original opcodes
  //        ALT = ${x}
  //        CAT = ${k}
  //        REP = ${M}
  //        RNM = ${C}
  //        TLS = ${N}
  //        TBS = ${R}
  //        TRG = ${B}
  //        ---   SABNF superset opcodes
  //        UDT = ${w}
  //        AND = ${O}
  //        NOT = ${L}
`,o||(u+=`  //        BKA = ${v}
  //        BKN = ${I}
  //        BKR = ${_}
  //        ABG = ${D}
  //        AEN = ${P}
`),u+="  // characters = [",N+R+B===0?u+=" none defined ]":u+=`${g} - ${T}]`,w>0&&(u+=" + user defined"),u+="\n  // ```\n",o||(u+="  /* OBJECT IDENTIFIER (for internal parser use) */\n  this.grammarObject = 'grammarObject';\n"),u+="\n  /* RULES */\n  this.rules = [];\n",n.forEach((t,r)=>{let s="  this.rules[";s+=r+"] = {name: '"+t.name+"', lower: '"+t.lower+"', index: "+t.index+", isBkr: "+t.isBkr+"};\n",u+=s}),u+="\n  /* UDTS */\n  this.udts = [];\n",i.length>0&&i.forEach((t,r)=>{let s="  this.udts[";s+=r+"] = {name: '"+t.name+"', lower: '"+t.lower+"', index: "+t.index+", empty: "+t.empty+", isBkr: "+t.isBkr+"};\n",u+=s}),u+="\n  /* OPCODES */\n",n.forEach((t,s)=>{s>0&&(u+="\n"),u+=`  /* ${t.name} */
  this.rules[${s}].opcodes = [];
`,t.opcodes.forEach((t,o)=>{let a;switch(t.type){case r.ALT:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}, children: [${t.children.toString()}]};// ALT
`;break;case r.CAT:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}, children: [${t.children.toString()}]};// CAT
`;break;case r.RNM:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}, index: ${t.index}};// RNM(${n[t.index].name})
`;break;case r.BKR:t.index>=n.length?(c=i[t.index-n.length].name,h=i[t.index-n.length].lower):(c=n[t.index].name,h=n[t.index].lower),a="%i",t.bkrCase===r.BKR_MODE_CS&&(a="%s"),t.bkrMode===r.BKR_MODE_UM?a+="%u":a+="%p",c=a+c,u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}, index: ${t.index}, lower: '${h}', bkrCase: ${t.bkrCase}, bkrMode: ${t.bkrMode}};// BKR(\\${c})
`;break;case r.UDT:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}, empty: ${t.empty}, index: ${t.index}};// UDT(${i[t.index].name})
`;break;case r.REP:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}, min: ${t.min}, max: ${t.max}};// REP
`;break;case r.AND:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}};// AND
`;break;case r.NOT:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}};// NOT
`;break;case r.ABG:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}};// ABG(%^)
`;break;case r.AEN:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}};// AEN(%$)
`;break;case r.BKA:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}};// BKA
`;break;case r.BKN:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}};// BKN
`;break;case r.TLS:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}, string: [${t.string.toString()}]};// TLS
`;break;case r.TBS:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}, string: [${t.string.toString()}]};// TBS
`;break;case r.TRG:u+=`  this.rules[${s}].opcodes[${o}] = {type: ${t.type}, min: ${t.min}, max: ${t.max}};// TRG
`;break;default:throw Error("parser.js: ~143: unrecognized opcode")}})}),u+='\n  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n  this.toString = function toString(){\n    let str = "";\n',s.forEach(r=>{let s=r.beginChar+r.length;d="",u+='    str += "';for(let n=r.beginChar;n<s;n+=1){switch(t[n]){case 9:d=" ";break;case 10:d="\\n";break;case 13:d="\\r";break;case 34:d='\\"';break;case 92:d="\\\\";break;default:d=String.fromCharCode(t[n])}u+=d}u+='";\n'}),u+="    return str;\n  }\n}\n"},this.generateObject=function(t,r,s){let n={},i=[],o=[],a=t.slice(0);return n.grammarObject="grammarObject",r.forEach(t=>{i.push(t.lower)}),i.sort(),s.length>0&&(s.forEach(t=>{o.push(t.lower)}),o.sort()),n.callbacks=[],i.forEach(t=>{n.callbacks[t]=!1}),s.length>0&&o.forEach(t=>{n.callbacks[t]=!1}),n.rules=r,n.udts=s,n.toString=function(){return a},n}}},55150:function(t,r,s){t.exports=function(){let t=s(33874),r=null;function isEmptyOnly(t){return!t.left&&!t.nested&&!t.right&&!t.cyclic&&t.empty}function isRecursive(t){return!!t.left||!!t.nested||!!t.right||!!t.cyclic}let truth=t=>t?"t":"f",tError=t=>t?"e":"f",fError=t=>t?"t":"e",showAttr=(s,n,i,o)=>`${s}:${n}:`+(`${tError(i.left)} ${truth(i.nested)} ${truth(i.right)} ${tError(i.cyclic)} ${fError(i.finite)} ${truth(i.empty)}:${r.typeToString(o.recursiveType)}:`+(o.recursiveType===t.ATTR_MR?o.groupNumber:"-"))+`:${i.rule.name}
`,showLegend=()=>"LEGEND - t=true, f=false, e=error\nsequence:rule index:left nested right cyclic finite empty:type:group number:rule name\n",show=t=>{let s=0,n=0,i=null,o=null,a="",{ruleIndexes:l}=r;for(97===t?l=r.ruleAlphaIndexes:116===t&&(l=r.ruleTypeIndexes),s=0;s<r.ruleCount;s+=1)n=l[s],i=r.attrs[n],o=r.ruleDeps[n],a+=showAttr(s,n,i,o);return a};return{ruleAttributes:s=>{r=s;let n=0,i=0,o=r.attrGen();for(n=0;n<r.ruleCount;n+=1){for(i=0;i<r.ruleCount;i+=1)r.attrInit(r.attrsWorking[i]);r.startRule=n,function ruleAttrsEval(r,s,n){let i=r.attrsWorking[s];i.isComplete?r.attrCopy(n,i):i.isOpen?s===r.startRule?s===r.startRule&&(n.left=!0,n.right=!0,n.cyclic=!0,n.leaf=!0):n.finite=!0:(i.isOpen=!0,function opEval(r,s,n,i){r.attrInit(i);let o=s[n];switch(o.type){case t.ALT:!function(t,r,s,n){let i=0,o=r[s],a=o.children.length,l=[];for(i=0;i<a;i+=1)l.push(t.attrGen());for(i=0;i<a;i+=1)opEval(t,r,o.children[i],l[i]);for(i=0,n.left=!1,n.right=!1,n.nested=!1,n.empty=!1,n.finite=!1,n.cyclic=!1;i<a;i+=1)l[i].left&&(n.left=!0),l[i].nested&&(n.nested=!0),l[i].right&&(n.right=!0),l[i].empty&&(n.empty=!0),l[i].finite&&(n.finite=!0),l[i].cyclic&&(n.cyclic=!0)}(r,s,n,i);break;case t.CAT:!function(t,r,s,n){let i=0,o=r[s],a=o.children.length,l=[];for(i=0;i<a;i+=1)l.push(t.attrGen());for(i=0;i<a;i+=1)opEval(t,r,o.children[i],l[i]);n.left=function(t,r){for(let s=0;s<r;s+=1){if(t[s].left)return!0;if(!t[s].empty)break}return!1}(l,a),n.right=function(t,r){for(let s=r-1;s>=0;s-=1){if(t[s].right)return!0;if(!t[s].empty)break}return!1}(l,a),n.nested=function(t,r){let s=0,n=0,i=0;for(s=0;s<r;s+=1)if(t[s].nested)return!0;for(s=0;s<r;s+=1)if(t[s].right&&!t[s].leaf){for(n=s+1;n<r;n+=1)if(!isEmptyOnly(t[n]))return!0}for(s=r-1;s>=0;s-=1)if(t[s].left&&!t[s].leaf){for(n=s-1;n>=0;n-=1)if(!isEmptyOnly(t[n]))return!0}for(s=0;s<r;s+=1)if(!t[s].empty&&!isRecursive(t[s])){for(n=s+1;n<r;n+=1)if(isRecursive(t[n])){for(i=n+1;i<r;i+=1)if(!t[i].empty&&!isRecursive(t[i]))return!0}}return!1}(l,a),n.empty=function(t,r){for(let s=0;s<r;s+=1)if(!t[s].empty)return!1;return!0}(l,a),n.finite=function(t,r){for(let s=0;s<r;s+=1)if(!t[s].finite)return!1;return!0}(l,a),n.cyclic=function(t,r){for(let s=0;s<r;s+=1)if(!t[s].cyclic)return!1;return!0}(l,a)}(r,s,n,i);break;case t.REP:opEval(r,s,n+1,i),0===o.min&&(i.empty=!0,i.finite=!0);break;case t.RNM:ruleAttrsEval(r,s[n].index,i);break;case t.BKR:!function(t,r,s,n){let i=r[s];i.index>=t.ruleCount?(n.empty=t.udts[i.index-t.ruleCount].empty,n.finite=!0):(ruleAttrsEval(t,i.index,n),n.left=!1,n.nested=!1,n.right=!1,n.cyclic=!1)}(r,s,n,i);break;case t.AND:case t.NOT:case t.BKA:case t.BKN:opEval(r,s,n+1,i),i.empty=!0;break;case t.TLS:i.empty=!s[n].string.length,i.finite=!0,i.cyclic=!1;break;case t.TBS:case t.TRG:i.empty=!1,i.finite=!0,i.cyclic=!1;break;case t.UDT:i.empty=o.empty,i.finite=!0,i.cyclic=!1;break;case t.ABG:case t.AEN:i.empty=!0,i.finite=!0,i.cyclic=!1;break;default:throw Error(`unknown opcode type: ${o}`)}}(r,i.rule.opcodes,0,n),i.left=n.left,i.right=n.right,i.nested=n.nested,i.empty=n.empty,i.finite=n.finite,i.cyclic=n.cyclic,i.leaf=!1,i.isOpen=!1,i.isComplete=!0)}(r,n,o),r.attrCopy(r.attrs[n],r.attrsWorking[n])}r.attributesComplete=!0;let a=null;for(n=0;n<r.ruleCount;n+=1)if((a=r.attrs[n]).left||!a.finite||a.cyclic){let t=r.attrGen(a.rule);r.attrCopy(t,a),r.attrsErrors.push(t),r.attrsErrorCount+=1}},showAttributes:(t="index")=>{if(!r.attributesComplete)throw Error("rule-attributes.js:showAttributes: attributes not available");let s="",n="RULE ATTRIBUTES\n";return 97===t.charCodeAt(0)?s+="alphabetical by rule name\n"+n+showLegend()+show(97):116===t.charCodeAt(0)?s+="ordered by rule type\n"+n+showLegend()+show(116):s+="ordered by rule index\n"+n+showLegend()+show(),s},showAttributeErrors:()=>{let t=null,s=null,n="";if(n+="RULE ATTRIBUTES WITH ERRORS\n"+showLegend(),r.attrsErrorCount)for(let i=0;i<r.attrsErrorCount;i+=1)t=r.attrsErrors[i],s=r.ruleDeps[t.rule.index],n+=showAttr(i,t.rule.index,t,s);else n+="<none>\n";return n}}}()},29726:function(t,r,s){t.exports=(()=>{let t=s(33874),r=null,scan=(r,s,n,i)=>{let o=0,a=0,l=s[n];i[n]=!0;let c=l.rule.opcodes;for(o=0;o<c.length;o+=1){let n=c[o];if(n.type===t.RNM)for(l.refersTo[n.index]=!0,i[n.index]||scan(r,s,n.index,i),a=0;a<r;a+=1)s[n.index].refersTo[a]&&(l.refersTo[a]=!0);else n.type===t.UDT?l.refersToUdt[n.index]=!0:n.type!==t.BKR||(n.index<r?(l.refersTo[n.index]=!0,i[n.index]||scan(r,s,n.index,i)):l.refersToUdt[r-n.index]=!0)}},show=(t=null)=>{let s=0,n=0,i=0,o=0,a=r.ruleCount-1,l=r.udtCount-1,c="",h="",d=!1,u=null,{ruleIndexes:m}=r,{udtIndexes:g}=r;for(97===t?(m=r.ruleAlphaIndexes,g=r.udtAlphaIndexes):116===t&&(m=r.ruleTypeIndexes,g=r.udtAlphaIndexes),s=0;s<r.ruleCount;s+=1){for(u=r.ruleDeps[m[s]],h=`${m[s]}:${r.typeToString(u.recursiveType)}:`,r.isMutuallyRecursive&&(h+=(u.groupNumber>-1?u.groupNumber:"-")+":"),h+=" ",c+=`${h+r.rules[m[s]].name}
`,d=!0,i=0,o=c.length,c+=h,n=0;n<r.ruleCount;n+=1)u.refersTo[m[n]]&&(d?(d=!1,c+="=> "+r.ruleDeps[m[n]].rule.name):c+=`, ${r.ruleDeps[m[n]].rule.name}`,i+=1),c.length-o>100&&n!==a&&(c+=`
${h}=> `,o=c.length);if(r.udtCount)for(n=0;n<r.udtCount;n+=1)u.refersToUdt[g[n]]&&(d?(d=!1,c+="=> "+r.udts[g[n]].name):c+=`, ${r.udts[g[n]].name}`,i+=1),c.length-o>100&&n!==l&&(c+=`
${h}=> `,o=c.length);for(0===i&&(c+="=> <none>\n"),!1===d&&(c+="\n"),d=!0,i=0,o=c.length,c+=h,n=0;n<r.ruleCount;n+=1)u.referencedBy[m[n]]&&(d?(d=!1,c+="<= "+r.ruleDeps[m[n]].rule.name):c+=`, ${r.ruleDeps[m[n]].rule.name}`,i+=1),c.length-o>100&&n!==a&&(c+=`
${h}=> `,o=c.length);0===i&&(c+="<= <none>\n"),!1===d&&(c+="\n"),c+="\n"}return c};return{ruleDependencies:s=>{let n=0,i=0,o=0,a=null,l=null,c=!1;(r=s).dependenciesComplete=!1;let h=r.falseArray(r.ruleCount);for(n=0;n<r.ruleCount;n+=1)r.falsifyArray(h),scan(r.ruleCount,r.ruleDeps,n,h);for(n=0;n<r.ruleCount;n+=1)for(i=0;i<r.ruleCount;i+=1)n!==i&&r.ruleDeps[i].refersTo[n]&&(r.ruleDeps[n].referencedBy[i]=!0);for(n=0;n<r.ruleCount;n+=1)r.ruleDeps[n].recursiveType=t.ATTR_N,r.ruleDeps[n].refersTo[n]&&(r.ruleDeps[n].recursiveType=t.ATTR_R);for(n=0,o=-1;n<r.ruleCount;n+=1)if((a=r.ruleDeps[n]).recursiveType===t.ATTR_R)for(i=0,c=!0;i<r.ruleCount;i+=1)n!==i&&(l=r.ruleDeps[i]).recursiveType===t.ATTR_R&&a.refersTo[i]&&l.refersTo[n]&&(c&&(o+=1,a.recursiveType=t.ATTR_MR,a.groupNumber=o,c=!1),l.recursiveType=t.ATTR_MR,l.groupNumber=o);r.isMutuallyRecursive=o>-1,r.ruleAlphaIndexes.sort(r.compRulesAlpha),r.ruleTypeIndexes.sort(r.compRulesAlpha),r.ruleTypeIndexes.sort(r.compRulesType),r.isMutuallyRecursive&&r.ruleTypeIndexes.sort(r.compRulesGroup),r.udtCount&&r.udtAlphaIndexes.sort(r.compUdtsAlpha),r.dependenciesComplete=!0},showRuleDependencies:(t="index")=>{let s="RULE DEPENDENCIES(index:type:[group number:])\n";return s+="=> refers to rule names\n<= referenced by rule names\n",r.dependenciesComplete&&(97===t.charCodeAt(0)?s+="alphabetical by rule name\n"+show(97):116===t.charCodeAt(0)?s+="ordered by rule type\n"+show(116):s+="ordered by rule index\n"+show(null)),s}}})()},83954:function(t){t.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"File",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"BlankLine",lower:"blankline",index:1,isBkr:!1},this.rules[2]={name:"Rule",lower:"rule",index:2,isBkr:!1},this.rules[3]={name:"RuleLookup",lower:"rulelookup",index:3,isBkr:!1},this.rules[4]={name:"RuleNameTest",lower:"rulenametest",index:4,isBkr:!1},this.rules[5]={name:"RuleName",lower:"rulename",index:5,isBkr:!1},this.rules[6]={name:"RuleNameError",lower:"rulenameerror",index:6,isBkr:!1},this.rules[7]={name:"DefinedAsTest",lower:"definedastest",index:7,isBkr:!1},this.rules[8]={name:"DefinedAsError",lower:"definedaserror",index:8,isBkr:!1},this.rules[9]={name:"DefinedAs",lower:"definedas",index:9,isBkr:!1},this.rules[10]={name:"Defined",lower:"defined",index:10,isBkr:!1},this.rules[11]={name:"IncAlt",lower:"incalt",index:11,isBkr:!1},this.rules[12]={name:"RuleError",lower:"ruleerror",index:12,isBkr:!1},this.rules[13]={name:"LineEndError",lower:"lineenderror",index:13,isBkr:!1},this.rules[14]={name:"Alternation",lower:"alternation",index:14,isBkr:!1},this.rules[15]={name:"Concatenation",lower:"concatenation",index:15,isBkr:!1},this.rules[16]={name:"Repetition",lower:"repetition",index:16,isBkr:!1},this.rules[17]={name:"Modifier",lower:"modifier",index:17,isBkr:!1},this.rules[18]={name:"Predicate",lower:"predicate",index:18,isBkr:!1},this.rules[19]={name:"BasicElement",lower:"basicelement",index:19,isBkr:!1},this.rules[20]={name:"BasicElementErr",lower:"basicelementerr",index:20,isBkr:!1},this.rules[21]={name:"Group",lower:"group",index:21,isBkr:!1},this.rules[22]={name:"GroupError",lower:"grouperror",index:22,isBkr:!1},this.rules[23]={name:"GroupOpen",lower:"groupopen",index:23,isBkr:!1},this.rules[24]={name:"GroupClose",lower:"groupclose",index:24,isBkr:!1},this.rules[25]={name:"Option",lower:"option",index:25,isBkr:!1},this.rules[26]={name:"OptionError",lower:"optionerror",index:26,isBkr:!1},this.rules[27]={name:"OptionOpen",lower:"optionopen",index:27,isBkr:!1},this.rules[28]={name:"OptionClose",lower:"optionclose",index:28,isBkr:!1},this.rules[29]={name:"RnmOp",lower:"rnmop",index:29,isBkr:!1},this.rules[30]={name:"BkrOp",lower:"bkrop",index:30,isBkr:!1},this.rules[31]={name:"bkrModifier",lower:"bkrmodifier",index:31,isBkr:!1},this.rules[32]={name:"cs",lower:"cs",index:32,isBkr:!1},this.rules[33]={name:"ci",lower:"ci",index:33,isBkr:!1},this.rules[34]={name:"um",lower:"um",index:34,isBkr:!1},this.rules[35]={name:"pm",lower:"pm",index:35,isBkr:!1},this.rules[36]={name:"bkr-name",lower:"bkr-name",index:36,isBkr:!1},this.rules[37]={name:"rname",lower:"rname",index:37,isBkr:!1},this.rules[38]={name:"uname",lower:"uname",index:38,isBkr:!1},this.rules[39]={name:"ename",lower:"ename",index:39,isBkr:!1},this.rules[40]={name:"UdtOp",lower:"udtop",index:40,isBkr:!1},this.rules[41]={name:"udt-non-empty",lower:"udt-non-empty",index:41,isBkr:!1},this.rules[42]={name:"udt-empty",lower:"udt-empty",index:42,isBkr:!1},this.rules[43]={name:"RepOp",lower:"repop",index:43,isBkr:!1},this.rules[44]={name:"AltOp",lower:"altop",index:44,isBkr:!1},this.rules[45]={name:"CatOp",lower:"catop",index:45,isBkr:!1},this.rules[46]={name:"StarOp",lower:"starop",index:46,isBkr:!1},this.rules[47]={name:"AndOp",lower:"andop",index:47,isBkr:!1},this.rules[48]={name:"NotOp",lower:"notop",index:48,isBkr:!1},this.rules[49]={name:"BkaOp",lower:"bkaop",index:49,isBkr:!1},this.rules[50]={name:"BknOp",lower:"bknop",index:50,isBkr:!1},this.rules[51]={name:"AbgOp",lower:"abgop",index:51,isBkr:!1},this.rules[52]={name:"AenOp",lower:"aenop",index:52,isBkr:!1},this.rules[53]={name:"TrgOp",lower:"trgop",index:53,isBkr:!1},this.rules[54]={name:"TbsOp",lower:"tbsop",index:54,isBkr:!1},this.rules[55]={name:"TlsOp",lower:"tlsop",index:55,isBkr:!1},this.rules[56]={name:"TlsCase",lower:"tlscase",index:56,isBkr:!1},this.rules[57]={name:"TlsOpen",lower:"tlsopen",index:57,isBkr:!1},this.rules[58]={name:"TlsClose",lower:"tlsclose",index:58,isBkr:!1},this.rules[59]={name:"TlsString",lower:"tlsstring",index:59,isBkr:!1},this.rules[60]={name:"StringTab",lower:"stringtab",index:60,isBkr:!1},this.rules[61]={name:"ClsOp",lower:"clsop",index:61,isBkr:!1},this.rules[62]={name:"ClsOpen",lower:"clsopen",index:62,isBkr:!1},this.rules[63]={name:"ClsClose",lower:"clsclose",index:63,isBkr:!1},this.rules[64]={name:"ClsString",lower:"clsstring",index:64,isBkr:!1},this.rules[65]={name:"ProsVal",lower:"prosval",index:65,isBkr:!1},this.rules[66]={name:"ProsValOpen",lower:"prosvalopen",index:66,isBkr:!1},this.rules[67]={name:"ProsValString",lower:"prosvalstring",index:67,isBkr:!1},this.rules[68]={name:"ProsValClose",lower:"prosvalclose",index:68,isBkr:!1},this.rules[69]={name:"rep-min",lower:"rep-min",index:69,isBkr:!1},this.rules[70]={name:"rep-min-max",lower:"rep-min-max",index:70,isBkr:!1},this.rules[71]={name:"rep-max",lower:"rep-max",index:71,isBkr:!1},this.rules[72]={name:"rep-num",lower:"rep-num",index:72,isBkr:!1},this.rules[73]={name:"dString",lower:"dstring",index:73,isBkr:!1},this.rules[74]={name:"xString",lower:"xstring",index:74,isBkr:!1},this.rules[75]={name:"bString",lower:"bstring",index:75,isBkr:!1},this.rules[76]={name:"Dec",lower:"dec",index:76,isBkr:!1},this.rules[77]={name:"Hex",lower:"hex",index:77,isBkr:!1},this.rules[78]={name:"Bin",lower:"bin",index:78,isBkr:!1},this.rules[79]={name:"dmin",lower:"dmin",index:79,isBkr:!1},this.rules[80]={name:"dmax",lower:"dmax",index:80,isBkr:!1},this.rules[81]={name:"bmin",lower:"bmin",index:81,isBkr:!1},this.rules[82]={name:"bmax",lower:"bmax",index:82,isBkr:!1},this.rules[83]={name:"xmin",lower:"xmin",index:83,isBkr:!1},this.rules[84]={name:"xmax",lower:"xmax",index:84,isBkr:!1},this.rules[85]={name:"dnum",lower:"dnum",index:85,isBkr:!1},this.rules[86]={name:"bnum",lower:"bnum",index:86,isBkr:!1},this.rules[87]={name:"xnum",lower:"xnum",index:87,isBkr:!1},this.rules[88]={name:"alphanum",lower:"alphanum",index:88,isBkr:!1},this.rules[89]={name:"owsp",lower:"owsp",index:89,isBkr:!1},this.rules[90]={name:"wsp",lower:"wsp",index:90,isBkr:!1},this.rules[91]={name:"space",lower:"space",index:91,isBkr:!1},this.rules[92]={name:"comment",lower:"comment",index:92,isBkr:!1},this.rules[93]={name:"LineEnd",lower:"lineend",index:93,isBkr:!1},this.rules[94]={name:"LineContinue",lower:"linecontinue",index:94,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3,4]},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:4,index:2},this.rules[0].opcodes[4]={type:4,index:12},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,5,7]},this.rules[1].opcodes[1]={type:3,min:0,max:1/0},this.rules[1].opcodes[2]={type:1,children:[3,4]},this.rules[1].opcodes[3]={type:6,string:[32]},this.rules[1].opcodes[4]={type:6,string:[9]},this.rules[1].opcodes[5]={type:3,min:0,max:1},this.rules[1].opcodes[6]={type:4,index:92},this.rules[1].opcodes[7]={type:4,index:93},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[2].opcodes[1]={type:4,index:3},this.rules[2].opcodes[2]={type:4,index:89},this.rules[2].opcodes[3]={type:4,index:14},this.rules[2].opcodes[4]={type:1,children:[5,8]},this.rules[2].opcodes[5]={type:2,children:[6,7]},this.rules[2].opcodes[6]={type:4,index:89},this.rules[2].opcodes[7]={type:4,index:93},this.rules[2].opcodes[8]={type:2,children:[9,10]},this.rules[2].opcodes[9]={type:4,index:13},this.rules[2].opcodes[10]={type:4,index:93},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:2,children:[1,2,3]},this.rules[3].opcodes[1]={type:4,index:4},this.rules[3].opcodes[2]={type:4,index:89},this.rules[3].opcodes[3]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:5},this.rules[4].opcodes[2]={type:4,index:6},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:4,index:88},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:1,max:1/0},this.rules[6].opcodes[1]={type:1,children:[2,3]},this.rules[6].opcodes[2]={type:5,min:33,max:60},this.rules[6].opcodes[3]={type:5,min:62,max:126},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:1,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:9},this.rules[7].opcodes[2]={type:4,index:8},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:2},this.rules[8].opcodes[1]={type:5,min:33,max:126},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2]},this.rules[9].opcodes[1]={type:4,index:11},this.rules[9].opcodes[2]={type:4,index:10},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[61]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:6,string:[61,47]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:2,children:[1,6]},this.rules[12].opcodes[1]={type:3,min:1,max:1/0},this.rules[12].opcodes[2]={type:1,children:[3,4,5]},this.rules[12].opcodes[3]={type:5,min:32,max:126},this.rules[12].opcodes[4]={type:6,string:[9]},this.rules[12].opcodes[5]={type:4,index:94},this.rules[12].opcodes[6]={type:4,index:93},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:3,min:1,max:1/0},this.rules[13].opcodes[1]={type:1,children:[2,3,4]},this.rules[13].opcodes[2]={type:5,min:32,max:126},this.rules[13].opcodes[3]={type:6,string:[9]},this.rules[13].opcodes[4]={type:4,index:94},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2]},this.rules[14].opcodes[1]={type:4,index:15},this.rules[14].opcodes[2]={type:3,min:0,max:1/0},this.rules[14].opcodes[3]={type:2,children:[4,5,6]},this.rules[14].opcodes[4]={type:4,index:89},this.rules[14].opcodes[5]={type:4,index:44},this.rules[14].opcodes[6]={type:4,index:15},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:2,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:16},this.rules[15].opcodes[2]={type:3,min:0,max:1/0},this.rules[15].opcodes[3]={type:2,children:[4,5]},this.rules[15].opcodes[4]={type:4,index:45},this.rules[15].opcodes[5]={type:4,index:16},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:2,children:[1,3]},this.rules[16].opcodes[1]={type:3,min:0,max:1},this.rules[16].opcodes[2]={type:4,index:17},this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[16].opcodes[4]={type:4,index:21},this.rules[16].opcodes[5]={type:4,index:25},this.rules[16].opcodes[6]={type:4,index:19},this.rules[16].opcodes[7]={type:4,index:20},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:1,children:[1,5]},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:18},this.rules[17].opcodes[3]={type:3,min:0,max:1},this.rules[17].opcodes[4]={type:4,index:43},this.rules[17].opcodes[5]={type:4,index:43},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[18].opcodes[1]={type:4,index:49},this.rules[18].opcodes[2]={type:4,index:50},this.rules[18].opcodes[3]={type:4,index:47},this.rules[18].opcodes[4]={type:4,index:48},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]},this.rules[19].opcodes[1]={type:4,index:40},this.rules[19].opcodes[2]={type:4,index:29},this.rules[19].opcodes[3]={type:4,index:53},this.rules[19].opcodes[4]={type:4,index:54},this.rules[19].opcodes[5]={type:4,index:55},this.rules[19].opcodes[6]={type:4,index:61},this.rules[19].opcodes[7]={type:4,index:30},this.rules[19].opcodes[8]={type:4,index:51},this.rules[19].opcodes[9]={type:4,index:52},this.rules[19].opcodes[10]={type:4,index:65},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:1,max:1/0},this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[20].opcodes[2]={type:5,min:33,max:40},this.rules[20].opcodes[3]={type:5,min:42,max:46},this.rules[20].opcodes[4]={type:5,min:48,max:92},this.rules[20].opcodes[5]={type:5,min:94,max:126},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2,3]},this.rules[21].opcodes[1]={type:4,index:23},this.rules[21].opcodes[2]={type:4,index:14},this.rules[21].opcodes[3]={type:1,children:[4,5]},this.rules[21].opcodes[4]={type:4,index:24},this.rules[21].opcodes[5]={type:4,index:22},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:3,min:1,max:1/0},this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[22].opcodes[2]={type:5,min:33,max:40},this.rules[22].opcodes[3]={type:5,min:42,max:46},this.rules[22].opcodes[4]={type:5,min:48,max:92},this.rules[22].opcodes[5]={type:5,min:94,max:126},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,2]},this.rules[23].opcodes[1]={type:6,string:[40]},this.rules[23].opcodes[2]={type:4,index:89},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:4,index:89},this.rules[24].opcodes[2]={type:6,string:[41]},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3]},this.rules[25].opcodes[1]={type:4,index:27},this.rules[25].opcodes[2]={type:4,index:14},this.rules[25].opcodes[3]={type:1,children:[4,5]},this.rules[25].opcodes[4]={type:4,index:28},this.rules[25].opcodes[5]={type:4,index:26},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:3,min:1,max:1/0},this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[26].opcodes[2]={type:5,min:33,max:40},this.rules[26].opcodes[3]={type:5,min:42,max:46},this.rules[26].opcodes[4]={type:5,min:48,max:92},this.rules[26].opcodes[5]={type:5,min:94,max:126},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:6,string:[91]},this.rules[27].opcodes[2]={type:4,index:89},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2]},this.rules[28].opcodes[1]={type:4,index:89},this.rules[28].opcodes[2]={type:6,string:[93]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:4,index:88},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,4]},this.rules[30].opcodes[1]={type:6,string:[92]},this.rules[30].opcodes[2]={type:3,min:0,max:1},this.rules[30].opcodes[3]={type:4,index:31},this.rules[30].opcodes[4]={type:4,index:36},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]},this.rules[31].opcodes[1]={type:2,children:[2,3]},this.rules[31].opcodes[2]={type:4,index:32},this.rules[31].opcodes[3]={type:3,min:0,max:1},this.rules[31].opcodes[4]={type:1,children:[5,6]},this.rules[31].opcodes[5]={type:4,index:34},this.rules[31].opcodes[6]={type:4,index:35},this.rules[31].opcodes[7]={type:2,children:[8,9]},this.rules[31].opcodes[8]={type:4,index:33},this.rules[31].opcodes[9]={type:3,min:0,max:1},this.rules[31].opcodes[10]={type:1,children:[11,12]},this.rules[31].opcodes[11]={type:4,index:34},this.rules[31].opcodes[12]={type:4,index:35},this.rules[31].opcodes[13]={type:2,children:[14,15]},this.rules[31].opcodes[14]={type:4,index:34},this.rules[31].opcodes[15]={type:3,min:0,max:1},this.rules[31].opcodes[16]={type:1,children:[17,18]},this.rules[31].opcodes[17]={type:4,index:32},this.rules[31].opcodes[18]={type:4,index:33},this.rules[31].opcodes[19]={type:2,children:[20,21]},this.rules[31].opcodes[20]={type:4,index:35},this.rules[31].opcodes[21]={type:3,min:0,max:1},this.rules[31].opcodes[22]={type:1,children:[23,24]},this.rules[31].opcodes[23]={type:4,index:32},this.rules[31].opcodes[24]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:6,string:[37,115]},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:6,string:[37,105]},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:6,string:[37,117]},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:6,string:[37,112]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:1,children:[1,2,3]},this.rules[36].opcodes[1]={type:4,index:38},this.rules[36].opcodes[2]={type:4,index:39},this.rules[36].opcodes[3]={type:4,index:37},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:4,index:88},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2]},this.rules[38].opcodes[1]={type:6,string:[117,95]},this.rules[38].opcodes[2]={type:4,index:88},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2]},this.rules[39].opcodes[1]={type:6,string:[101,95]},this.rules[39].opcodes[2]={type:4,index:88},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:1,children:[1,2]},this.rules[40].opcodes[1]={type:4,index:42},this.rules[40].opcodes[2]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2]},this.rules[41].opcodes[1]={type:6,string:[117,95]},this.rules[41].opcodes[2]={type:4,index:88},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:2,children:[1,2]},this.rules[42].opcodes[1]={type:6,string:[101,95]},this.rules[42].opcodes[2]={type:4,index:88},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]},this.rules[43].opcodes[1]={type:2,children:[2,3,4]},this.rules[43].opcodes[2]={type:4,index:69},this.rules[43].opcodes[3]={type:4,index:46},this.rules[43].opcodes[4]={type:4,index:71},this.rules[43].opcodes[5]={type:2,children:[6,7]},this.rules[43].opcodes[6]={type:4,index:69},this.rules[43].opcodes[7]={type:4,index:46},this.rules[43].opcodes[8]={type:2,children:[9,10]},this.rules[43].opcodes[9]={type:4,index:46},this.rules[43].opcodes[10]={type:4,index:71},this.rules[43].opcodes[11]={type:4,index:46},this.rules[43].opcodes[12]={type:4,index:70},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:2,children:[1,2]},this.rules[44].opcodes[1]={type:6,string:[47]},this.rules[44].opcodes[2]={type:4,index:89},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:4,index:90},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:6,string:[42]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:6,string:[38]},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:6,string:[33]},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:6,string:[38,38]},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:6,string:[33,33]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:6,string:[37,94]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:6,string:[37,36]},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:2,children:[1,2]},this.rules[53].opcodes[1]={type:6,string:[37]},this.rules[53].opcodes[2]={type:1,children:[3,8,13]},this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]},this.rules[53].opcodes[4]={type:4,index:76},this.rules[53].opcodes[5]={type:4,index:79},this.rules[53].opcodes[6]={type:6,string:[45]},this.rules[53].opcodes[7]={type:4,index:80},this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[53].opcodes[9]={type:4,index:77},this.rules[53].opcodes[10]={type:4,index:83},this.rules[53].opcodes[11]={type:6,string:[45]},this.rules[53].opcodes[12]={type:4,index:84},this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]},this.rules[53].opcodes[14]={type:4,index:78},this.rules[53].opcodes[15]={type:4,index:81},this.rules[53].opcodes[16]={type:6,string:[45]},this.rules[53].opcodes[17]={type:4,index:82},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:2,children:[1,2]},this.rules[54].opcodes[1]={type:6,string:[37]},this.rules[54].opcodes[2]={type:1,children:[3,10,17]},this.rules[54].opcodes[3]={type:2,children:[4,5,6]},this.rules[54].opcodes[4]={type:4,index:76},this.rules[54].opcodes[5]={type:4,index:73},this.rules[54].opcodes[6]={type:3,min:0,max:1/0},this.rules[54].opcodes[7]={type:2,children:[8,9]},this.rules[54].opcodes[8]={type:6,string:[46]},this.rules[54].opcodes[9]={type:4,index:73},this.rules[54].opcodes[10]={type:2,children:[11,12,13]},this.rules[54].opcodes[11]={type:4,index:77},this.rules[54].opcodes[12]={type:4,index:74},this.rules[54].opcodes[13]={type:3,min:0,max:1/0},this.rules[54].opcodes[14]={type:2,children:[15,16]},this.rules[54].opcodes[15]={type:6,string:[46]},this.rules[54].opcodes[16]={type:4,index:74},this.rules[54].opcodes[17]={type:2,children:[18,19,20]},this.rules[54].opcodes[18]={type:4,index:78},this.rules[54].opcodes[19]={type:4,index:75},this.rules[54].opcodes[20]={type:3,min:0,max:1/0},this.rules[54].opcodes[21]={type:2,children:[22,23]},this.rules[54].opcodes[22]={type:6,string:[46]},this.rules[54].opcodes[23]={type:4,index:75},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[55].opcodes[1]={type:4,index:56},this.rules[55].opcodes[2]={type:4,index:57},this.rules[55].opcodes[3]={type:4,index:59},this.rules[55].opcodes[4]={type:4,index:58},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1},this.rules[56].opcodes[1]={type:1,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[37,105]},this.rules[56].opcodes[3]={type:7,string:[37,115]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:6,string:[34]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:6,string:[34]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:5,min:32,max:33},this.rules[59].opcodes[3]={type:5,min:35,max:126},this.rules[59].opcodes[4]={type:4,index:60},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:6,string:[9]},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:2,children:[1,2,3]},this.rules[61].opcodes[1]={type:4,index:62},this.rules[61].opcodes[2]={type:4,index:64},this.rules[61].opcodes[3]={type:4,index:63},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:6,string:[39]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:6,string:[39]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:0,max:1/0},this.rules[64].opcodes[1]={type:1,children:[2,3,4]},this.rules[64].opcodes[2]={type:5,min:32,max:38},this.rules[64].opcodes[3]={type:5,min:40,max:126},this.rules[64].opcodes[4]={type:4,index:60},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:4,index:67},this.rules[65].opcodes[3]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:6,string:[60]},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:1,children:[2,3,4]},this.rules[67].opcodes[2]={type:5,min:32,max:61},this.rules[67].opcodes[3]={type:5,min:63,max:126},this.rules[67].opcodes[4]={type:4,index:60},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:6,string:[62]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:72},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:72},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:4,index:72},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:1,max:1/0},this.rules[72].opcodes[1]={type:5,min:48,max:57},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:85},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:87},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:86},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:1,children:[1,2]},this.rules[76].opcodes[1]={type:6,string:[68]},this.rules[76].opcodes[2]={type:6,string:[100]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:6,string:[88]},this.rules[77].opcodes[2]={type:6,string:[120]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:1,children:[1,2]},this.rules[78].opcodes[1]={type:6,string:[66]},this.rules[78].opcodes[2]={type:6,string:[98]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:4,index:85},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:4,index:85},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:4,index:86},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:4,index:86},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:4,index:87},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:4,index:87},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:3,min:1,max:1/0},this.rules[85].opcodes[1]={type:5,min:48,max:57},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:3,min:1,max:1/0},this.rules[86].opcodes[1]={type:5,min:48,max:49},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:3,min:1,max:1/0},this.rules[87].opcodes[1]={type:1,children:[2,3,4]},this.rules[87].opcodes[2]={type:5,min:48,max:57},this.rules[87].opcodes[3]={type:5,min:65,max:70},this.rules[87].opcodes[4]={type:5,min:97,max:102},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:2,children:[1,4]},this.rules[88].opcodes[1]={type:1,children:[2,3]},this.rules[88].opcodes[2]={type:5,min:97,max:122},this.rules[88].opcodes[3]={type:5,min:65,max:90},this.rules[88].opcodes[4]={type:3,min:0,max:1/0},this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]},this.rules[88].opcodes[6]={type:5,min:97,max:122},this.rules[88].opcodes[7]={type:5,min:65,max:90},this.rules[88].opcodes[8]={type:5,min:48,max:57},this.rules[88].opcodes[9]={type:6,string:[45]},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:0,max:1/0},this.rules[89].opcodes[1]={type:4,index:91},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:3,min:1,max:1/0},this.rules[90].opcodes[1]={type:4,index:91},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[91].opcodes[1]={type:6,string:[32]},this.rules[91].opcodes[2]={type:6,string:[9]},this.rules[91].opcodes[3]={type:4,index:92},this.rules[91].opcodes[4]={type:4,index:94},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:2,children:[1,2]},this.rules[92].opcodes[1]={type:6,string:[59]},this.rules[92].opcodes[2]={type:3,min:0,max:1/0},this.rules[92].opcodes[3]={type:1,children:[4,5]},this.rules[92].opcodes[4]={type:5,min:32,max:126},this.rules[92].opcodes[5]={type:6,string:[9]},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:1,children:[1,2,3]},this.rules[93].opcodes[1]={type:6,string:[13,10]},this.rules[93].opcodes[2]={type:6,string:[10]},this.rules[93].opcodes[3]={type:6,string:[13]},this.rules[94].opcodes=[],this.rules[94].opcodes[0]={type:2,children:[1,5]},this.rules[94].opcodes[1]={type:1,children:[2,3,4]},this.rules[94].opcodes[2]={type:6,string:[13,10]},this.rules[94].opcodes[3]={type:6,string:[10]},this.rules[94].opcodes[4]={type:6,string:[13]},this.rules[94].opcodes[5]={type:1,children:[6,7]},this.rules[94].opcodes[6]={type:6,string:[32]},this.rules[94].opcodes[7]={type:6,string:[9]},this.toString=function(){return";\n; ABNF for JavaScript APG 2.0 SABNF\n; RFC 5234 with some restrictions and additions.\n; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation\n;  - accepts %s\"string\" as a case-sensitive string\n;  - accepts %i\"string\" as a case-insensitive string\n;  - accepts \"string\" as a case-insensitive string\n;\n; Some restrictions:\n;   1. Rules must begin at first character of each line.\n;      Indentations on first rule and rules thereafter are not allowed.\n;   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.\n;   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.\n;      However, a working parser cannot be generated from them.\n;\n; Super set (SABNF) additions:\n;   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.\n;      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found\n;      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found\n;      e.g. &%d13 or &rule or !(A / B)\n;   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.\n;      'name' is alpha followed by alpha/num/hyphen just like a rule name.\n;      u_name may be used as an element but no rule definition is given.\n;      e.g. rule = A / u_myUdt\n;           A = \"a\"\n;      would be a valid grammar.\n;   3. Case-sensitive, single-quoted strings are accepted.\n;      e.g. 'abc' would be equivalent to %d97.98.99\n;      (kept for backward compatibility, but superseded by %s\"abc\")  \n; New 12/26/2015\n;   4. Look-behind operators are accepted as element prefixes.\n;      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found\n;      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found\n;      e.g. &&%d13 or &&rule or !!(A / B)\n;   5. Back reference operators, i.e. \\rulename, are accepted.\n;      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts\n;      to match is a phrase previously matched by the rule 'rulename'.\n;      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.\n;      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.\n;      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.\n;      Back reference modifiers can be used to specify case and mode.\n;      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA\n;      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.\n;      Modifiers %u and %p determine universal mode and parent frame mode, respectively.\n;      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. \n;   7. String begin anchor, ABG(%^) matches the beginning of the input string location.\n;      Returns EMPTY or NOMATCH. Never consumes any characters.\n;   8. String end anchor, AEN(%$) matches the end of the input string location.\n;      Returns EMPTY or NOMATCH. Never consumes any characters.\n;\nFile            = *(BlankLine / Rule / RuleError)\nBlankLine       = *(%d32/%d9) [comment] LineEnd\nRule            = RuleLookup owsp Alternation ((owsp LineEnd)\n                / (LineEndError LineEnd))\nRuleLookup      = RuleNameTest owsp DefinedAsTest\nRuleNameTest    = RuleName/RuleNameError\nRuleName        = alphanum\nRuleNameError   = 1*(%d33-60/%d62-126)\nDefinedAsTest   = DefinedAs / DefinedAsError\nDefinedAsError  = 1*2%d33-126\nDefinedAs       = IncAlt / Defined\nDefined         = %d61\nIncAlt          = %d61.47\nRuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd\nLineEndError    = 1*(%d32-126 / %d9  / LineContinue)\nAlternation     = Concatenation *(owsp AltOp Concatenation)\nConcatenation   = Repetition *(CatOp Repetition)\nRepetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)\nModifier        = (Predicate [RepOp])\n                / RepOp\nPredicate       = BkaOp\n                / BknOp\n                / AndOp\n                / NotOp\nBasicElement    = UdtOp\n                / RnmOp\n                / TrgOp\n                / TbsOp\n                / TlsOp\n                / ClsOp\n                / BkrOp\n                / AbgOp\n                / AenOp\n                / ProsVal\nBasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)\nGroup           = GroupOpen  Alternation (GroupClose / GroupError)\nGroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\nGroupOpen       = %d40 owsp\nGroupClose      = owsp %d41\nOption          = OptionOpen Alternation (OptionClose / OptionError)\nOptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\nOptionOpen      = %d91 owsp\nOptionClose     = owsp %d93\nRnmOp           = alphanum\nBkrOp           = %d92 [bkrModifier] bkr-name\nbkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])\ncs              = '%s'\nci              = '%i'\num              = '%u'\npm              = '%p'\nbkr-name        = uname / ename / rname\nrname           = alphanum\nuname           = %d117.95 alphanum\nename           = %d101.95 alphanum\nUdtOp           = udt-empty\n                / udt-non-empty\nudt-non-empty   = %d117.95 alphanum\nudt-empty       = %d101.95 alphanum\nRepOp           = (rep-min StarOp rep-max)\n                / (rep-min StarOp)\n                / (StarOp rep-max)\n                / StarOp\n                / rep-min-max\nAltOp           = %d47 owsp\nCatOp           = wsp\nStarOp          = %d42\nAndOp           = %d38\nNotOp           = %d33\nBkaOp           = %d38.38\nBknOp           = %d33.33\nAbgOp           = %d37.94\nAenOp           = %d37.36\nTrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))\nTbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))\nTlsOp           = TlsCase TlsOpen TlsString TlsClose\nTlsCase         = [\"%i\" / \"%s\"]\nTlsOpen         = %d34\nTlsClose        = %d34\nTlsString       = *(%d32-33/%d35-126/StringTab)\nStringTab       = %d9\nClsOp           = ClsOpen ClsString ClsClose\nClsOpen         = %d39\nClsClose        = %d39\nClsString       = *(%d32-38/%d40-126/StringTab)\nProsVal         = ProsValOpen ProsValString ProsValClose\nProsValOpen     = %d60\nProsValString   = *(%d32-61/%d63-126/StringTab)\nProsValClose    = %d62\nrep-min         = rep-num\nrep-min-max     = rep-num\nrep-max         = rep-num\nrep-num         = 1*(%d48-57)\ndString         = dnum\nxString         = xnum\nbString         = bnum\nDec             = (%d68/%d100)\nHex             = (%d88/%d120)\nBin             = (%d66/%d98)\ndmin            = dnum\ndmax            = dnum\nbmin            = bnum\nbmax            = bnum\nxmin            = xnum\nxmax            = xnum\ndnum            = 1*(%d48-57)\nbnum            = 1*%d48-49\nxnum            = 1*(%d48-57 / %d65-70 / %d97-102)\n;\n; Basics\nalphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)\nowsp            = *space\nwsp             = 1*space\nspace           = %d32\n                / %d9\n                / comment\n                / LineContinue\ncomment         = %d59 *(%d32-126 / %d9)\nLineEnd         = %d13.10\n                / %d10\n                / %d13\nLineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)\n"}}},44406:function(t,r,s){let n=s(33874),i=s(59804),o=[];o.line=function(t,r,s,i,o){return t===n.SEM_PRE?(o.endLength=0,o.textLength=0,o.invalidCount=0):o.lines.push({lineNo:o.lines.length,beginChar:s,length:i,textLength:o.textLength,endType:o.endType,invalidChars:o.invalidCount}),n.SEM_OK},o["line-text"]=function(t,r,s,i,o){return t===n.SEM_PRE&&(o.textLength=i),n.SEM_OK},o["last-line"]=function(t,r,s,i,o){return t===n.SEM_PRE?(o.endLength=0,o.textLength=0,o.invalidCount=0):o.strict?(o.lines.push({lineNo:o.lines.length,beginChar:s,length:i,textLength:i,endType:"none",invalidChars:o.invalidCount}),o.errors.push({line:o.lineNo,char:s+i,msg:"no line end on last line - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})):(r.push(10),o.lines.push({lineNo:o.lines.length,beginChar:s,length:i+1,textLength:i,endType:"LF",invalidChars:o.invalidCount})),n.SEM_OK},o.invalid=function(t,r,s,o,a){return t===n.SEM_PRE&&a.errors.push({line:a.lineNo,char:s,msg:`invalid character found '\\x${i.charToHex(r[s])}'`}),n.SEM_OK},o.end=function(t,r,s,i,o){return t===n.SEM_POST&&(o.lineNo+=1),n.SEM_OK},o.lf=function(t,r,s,i,o){return t===n.SEM_PRE&&(o.endType="LF",o.strict&&o.errors.push({line:o.lineNo,char:s,msg:"line end character LF(\\n, \\x0A) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),n.SEM_OK},o.cr=function(t,r,s,i,o){return t===n.SEM_PRE&&(o.endType="CR",o.strict&&o.errors.push({line:o.lineNo,char:s,msg:"line end character CR(\\r, \\x0D) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),n.SEM_OK},o.crlf=function(t,r,s,i,o){return t===n.SEM_PRE&&(o.endType="CRLF"),n.SEM_OK},r.callbacks=o},93561:function(t){t.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"file",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"line",lower:"line",index:1,isBkr:!1},this.rules[2]={name:"line-text",lower:"line-text",index:2,isBkr:!1},this.rules[3]={name:"last-line",lower:"last-line",index:3,isBkr:!1},this.rules[4]={name:"valid",lower:"valid",index:4,isBkr:!1},this.rules[5]={name:"invalid",lower:"invalid",index:5,isBkr:!1},this.rules[6]={name:"end",lower:"end",index:6,isBkr:!1},this.rules[7]={name:"CRLF",lower:"crlf",index:7,isBkr:!1},this.rules[8]={name:"LF",lower:"lf",index:8,isBkr:!1},this.rules[9]={name:"CR",lower:"cr",index:9,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,3]},this.rules[0].opcodes[1]={type:3,min:0,max:1/0},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:3,min:0,max:1},this.rules[0].opcodes[4]={type:4,index:3},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:4,index:2},this.rules[1].opcodes[2]={type:4,index:6},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:0,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:4},this.rules[2].opcodes[3]={type:4,index:5},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3]},this.rules[3].opcodes[2]={type:4,index:4},this.rules[3].opcodes[3]={type:4,index:5},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:32,max:126},this.rules[4].opcodes[2]={type:6,string:[9]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[5].opcodes[1]={type:5,min:0,max:8},this.rules[5].opcodes[2]={type:5,min:11,max:12},this.rules[5].opcodes[3]={type:5,min:14,max:31},this.rules[5].opcodes[4]={type:5,min:127,max:4294967295},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3]},this.rules[6].opcodes[1]={type:4,index:7},this.rules[6].opcodes[2]={type:4,index:8},this.rules[6].opcodes[3]={type:4,index:9},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[13,10]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:6,string:[10]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[13]},this.toString=function(){return"file = *line [last-line]\nline = line-text end\nline-text = *(valid/invalid)\nlast-line = 1*(valid/invalid)\nvalid = %d32-126 / %d9\ninvalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff\nend = CRLF / LF / CR\nCRLF = %d13.10\nLF = %d10\nCR = %d13\n"}}},34881:function(t,r,s){t.exports=function(t,r,n,i){let o=s(26198),a=new(s(93561)),{callbacks:l}=s(44406),c=[],h=new o.parser;if(h.ast=new o.ast,h.ast.callbacks=l,i){if("traceObject"!==i.traceObject)throw TypeError("scanner.js: trace argument is not a trace object");h.trace=i}let d=h.parse(a,"file",t);if(!0!==d.success){r.push({line:0,char:0,msg:"syntax analysis error analyzing input SABNF grammar"});return}return h.ast.translate({lines:c,lineNo:0,errors:r,strict:!!n}),c}},1638:function(t,r,s){t.exports=function(){let t=s(26198),r=t.ids,NameList=function(){this.names=[],this.add=function(t){let r=-1,s=this.get(t);return -1===s&&(r={name:t,lower:t.toLowerCase(),index:this.names.length},this.names.push(r)),r},this.get=function(t){let r=-1,s=t.toLowerCase();for(let t=0;t<this.names.length;t+=1)if(this.names[t].lower===s){r=this.names[t];break}return r}},decnum=function(t,r,s){let n=0;for(let i=r;i<r+s;i+=1)n=10*n+t[i]-48;return n},binnum=function(t,r,s){let n=0;for(let i=r;i<r+s;i+=1)n=2*n+t[i]-48;return n},hexnum=function(t,r,s){let n=0;for(let i=r;i<r+s;i+=1){let r=t[i];if(r>=48&&r<=57)r-=48;else if(r>=65&&r<=70)r-=55;else if(r>=97&&r<=102)r-=87;else throw Error("hexnum out of range");n=16*n+r}return n};this.callbacks=[],this.callbacks.abgop=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&o.opcodes.push({type:r.ABG}),a},this.callbacks.aenop=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&o.opcodes.push({type:r.AEN}),a},this.callbacks.alternation=function(t,s,n,i,o){let a=r.SEM_OK;if(t===r.SEM_PRE)for(;;){if(null===o.definedas){a=r.SEM_SKIP;break}if(null===o.topStack){if("="===o.definedas){o.topStack={alt:{type:r.ALT,children:[]},cat:null},o.altStack.push(o.topStack),o.opcodes.push(o.topStack.alt);break}o.topStack={alt:o.opcodes[0],cat:null},o.altStack.push(o.topStack);break}o.topStack={alt:{type:r.ALT,children:[]},cat:null},o.altStack.push(o.topStack),o.opcodes.push(o.topStack.alt);break}else t===r.SEM_POST&&(o.altStack.pop(),o.altStack.length>0?o.topStack=o.altStack[o.altStack.length-1]:o.topStack=null);return a},this.callbacks.andop=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&o.opcodes.push({type:r.AND}),a},this.callbacks.bmax=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.max=binnum(s,n,i)),a},this.callbacks.bmin=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.min=binnum(s,n,i)),a},this.callbacks.bkaop=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&o.opcodes.push({type:r.BKA}),a},this.callbacks.bknop=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&o.opcodes.push({type:r.BKN}),a},this.callbacks.bkrop=function(s,n,i,o,a){let l=r.SEM_OK;return s===r.SEM_PRE?(a.ci=!0,a.cs=!1,a.um=!0,a.pm=!1):s===r.SEM_POST&&a.opcodes.push({type:r.BKR,bkrCase:!0===a.cs?r.BKR_MODE_CS:r.BKR_MODE_CI,bkrMode:!0===a.pm?r.BKR_MODE_PM:r.BKR_MODE_UM,index:{phraseIndex:a.bkrname.phraseIndex,name:t.utils.charsToString(n,a.bkrname.phraseIndex,a.bkrname.phraseLength)}}),l},this.callbacks["bkr-name"]=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.bkrname={phraseIndex:n,phraseLength:i}),a},this.callbacks.bstring=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&o.tbsstr.push(binnum(s,n,i)),a},this.callbacks.clsop=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(i<=2?o.opcodes.push({type:r.TLS,string:[]}):o.opcodes.push({type:r.TBS,string:s.slice(n+1,n+i-1)})),a},this.callbacks.ci=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.ci=!0),a},this.callbacks.cs=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.cs=!0),a},this.callbacks.um=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.um=!0),a},this.callbacks.pm=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.pm=!0),a},this.callbacks.concatenation=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_PRE?(o.topStack.alt.children.push(o.opcodes.length),o.topStack.cat={type:r.CAT,children:[]},o.opcodes.push(o.topStack.cat)):t===r.SEM_POST&&(o.topStack.cat=null),a},this.callbacks.defined=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.definedas="="),a},this.callbacks.dmax=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.max=decnum(s,n,i)),a},this.callbacks.dmin=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.min=decnum(s,n,i)),a},this.callbacks.dstring=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&o.tbsstr.push(decnum(s,n,i)),a},this.callbacks.file=function(t,s,n,i,o){let a=r.SEM_OK;if(t===r.SEM_PRE)o.ruleNames=new NameList,o.udtNames=new NameList,o.rules=[],o.udts=[],o.rulesLineMap=[],o.opcodes=[],o.altStack=[],o.topStack=null,o.topRule=null;else if(t===r.SEM_POST){let t;o.rules.forEach(s=>{s.isBkr=!1,s.opcodes.forEach(s=>{s.type===r.RNM&&(-1===(t=o.ruleNames.get(s.index.name))?(o.errors.push({line:o.findLine(o.lines,s.index.phraseIndex,o.charsLength),char:s.index.phraseIndex,msg:`Rule name '${s.index.name}' used but not defined.`}),s.index=-1):s.index=t.index)})}),o.udts.forEach(t=>{t.isBkr=!1}),o.rules.forEach(s=>{s.opcodes.forEach(n=>{n.type===r.BKR&&(s.hasBkr=!0,-1!==(t=o.ruleNames.get(n.index.name))?(o.rules[t.index].isBkr=!0,n.index=t.index):-1!==(t=o.udtNames.get(n.index.name))?(o.udts[t.index].isBkr=!0,n.index=o.rules.length+t.index):(o.errors.push({line:o.findLine(o.lines,n.index.phraseIndex,o.charsLength),char:n.index.phraseIndex,msg:`Back reference name '${n.index.name}' refers to undefined rule or unamed UDT.`}),n.index=-1))})})}return a},this.callbacks.incalt=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.definedas="=/"),a},this.callbacks.notop=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&o.opcodes.push({type:r.NOT}),a},this.callbacks.optionopen=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&o.opcodes.push({type:r.REP,min:0,max:1,char:n}),a},this.callbacks["rep-max"]=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.max=decnum(s,n,i)),a},this.callbacks["rep-min"]=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.min=decnum(s,n,i)),a},this.callbacks["rep-min-max"]=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.max=decnum(s,n,i),o.min=o.max),a},this.callbacks.repetition=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_PRE&&o.topStack.cat.children.push(o.opcodes.length),a},this.callbacks.repop=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_PRE?(o.min=0,o.max=1/0,o.topRep={type:r.REP,min:0,max:1/0},o.opcodes.push(o.topRep)):t===r.SEM_POST&&(o.min>o.max&&o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:`repetition min cannot be greater than max: min: ${o.min}: max: ${o.max}`}),o.topRep.min=o.min,o.topRep.max=o.max),a},this.callbacks.rnmop=function(s,n,i,o,a){let l=r.SEM_OK;return s===r.SEM_POST&&a.opcodes.push({type:r.RNM,index:{phraseIndex:i,name:t.utils.charsToString(n,i,o)}}),l},this.callbacks.rule=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_PRE&&(o.altStack.length=0,o.topStack=null,o.rulesLineMap.push({line:o.findLine(o.lines,n,o.charsLength),char:n})),a},this.callbacks.rulelookup=function(t,s,n,i,o){let a=r.SEM_OK;if(t===r.SEM_PRE)o.ruleName="",o.definedas="";else if(t===r.SEM_POST){let t;"="===o.definedas?-1===(t=o.ruleNames.add(o.ruleName))?(o.definedas=null,o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:`Rule name '${o.ruleName}' previously defined.`})):(o.topRule={name:t.name,lower:t.lower,opcodes:[],index:t.index},o.rules.push(o.topRule),o.opcodes=o.topRule.opcodes):-1===(t=o.ruleNames.get(o.ruleName))?(o.definedas=null,o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:`Rule name '${o.ruleName}' for incremental alternate not previously defined.`})):(o.topRule=o.rules[t.index],o.opcodes=o.topRule.opcodes)}return a},this.callbacks.rulename=function(s,n,i,o,a){let l=r.SEM_OK;return s===r.SEM_PRE&&(a.ruleName=t.utils.charsToString(n,i,o)),l},this.callbacks.tbsop=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_PRE?o.tbsstr=[]:t===r.SEM_POST&&o.opcodes.push({type:r.TBS,string:o.tbsstr}),a},this.callbacks.tlscase=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&i>0&&(83===s[n+1]||115===s[n+1])&&(o.tlscase=!1),a},this.callbacks.tlsstring=function(t,s,n,i,o){let a=r.SEM_OK;if(t===r.SEM_POST){if(o.tlscase){let t=s.slice(n,n+i);for(let r=0;r<t.length;r+=1)t[r]>=65&&t[r]<=90&&(t[r]+=32);o.opcodes.push({type:r.TLS,string:t})}else o.opcodes.push({type:r.TBS,string:s.slice(n,n+i)})}return a},this.callbacks.tlsop=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_PRE&&(o.tlscase=!0),a},this.callbacks.trgop=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_PRE?(o.min=0,o.max=0):t===r.SEM_POST&&(o.min>o.max&&o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:`TRG, (%dmin-max), min cannot be greater than max: min: ${o.min}: max: ${o.max}`}),o.opcodes.push({type:r.TRG,min:o.min,max:o.max})),a},this.callbacks["udt-empty"]=function(s,n,i,o,a){let l=r.SEM_OK;if(s===r.SEM_POST){let s=t.utils.charsToString(n,i,o),l=a.udtNames.add(s);if(-1===l){if(-1===(l=a.udtNames.get(s)))throw Error("semUdtEmpty: name look up error")}else a.udts.push({name:l.name,lower:l.lower,index:l.index,empty:!0});a.opcodes.push({type:r.UDT,empty:!0,index:l.index})}return l},this.callbacks["udt-non-empty"]=function(s,n,i,o,a){let l=r.SEM_OK;if(s===r.SEM_POST){let s=t.utils.charsToString(n,i,o),l=a.udtNames.add(s);if(-1===l){if(-1===(l=a.udtNames.get(s)))throw Error("semUdtNonEmpty: name look up error")}else a.udts.push({name:l.name,lower:l.lower,index:l.index,empty:!1});a.opcodes.push({type:r.UDT,empty:!1,index:l.index,syntax:null,semantic:null})}return l},this.callbacks.xmax=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.max=hexnum(s,n,i)),a},this.callbacks.xmin=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&(o.min=hexnum(s,n,i)),a},this.callbacks.xstring=function(t,s,n,i,o){let a=r.SEM_OK;return t===r.SEM_POST&&o.tbsstr.push(hexnum(s,n,i)),a}}},40367:function(t){t.exports=function(){let t="show-rules.js";return function(r=[],s=[],n="index"){let i;let o="showRules",a=[],l=[],c=[],h=[],d=r.length,u=s.length,m="RULE/UDT NAMES";if(!(Array.isArray(r)&&r.length))throw Error(`${t}:${o}: rules arg must be array with length > 0`);if(!Array.isArray(s))throw Error(`${t}:${o}: udts arg must be array`);for(i=0;i<d;i+=1)c.push(i);if((a=c.slice(0)).sort(function(t,s){return r[t].lower<r[s].lower?-1:r[t].lower>r[s].lower?1:0}),u){for(i=0;i<u;i+=1)h.push(i);(l=h.slice(0)).sort(function(t,r){return s[t].lower<s[r].lower?-1:s[t].lower>s[r].lower?1:0})}if(97===n.charCodeAt(0)){for(m+=" - alphabetical by rule/UDT name\n",i=0;i<d;i+=1)m+=`${i}: ${a[i]}: ${r[a[i]].name}
`;if(u)for(i=0;i<u;i+=1)m+=`${i}: ${l[i]}: ${s[l[i]].name}
`}else{for(m+=" - ordered by rule/UDT index\n",i=0;i<d;i+=1)m+=`${i}: ${r[i].name}
`;if(u)for(i=0;i<u;i+=1)m+=`${i}: ${s[i].name}
`}return m}}()},40110:function(t,r,s){t.exports=function(){let t;let r="syntax-callbacks.js: ",n=s(26198),i=n.ids;this.callbacks=[],this.callbacks.andop=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:o.strict&&o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"AND operator(&) found - strict ABNF specified."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.basicelementerr=function(s,n,o,a){switch(s.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:!1===t.basicError&&a.errors.push({line:a.findLine(a.lines,o,a.charsLength),char:o,msg:"Unrecognized SABNF element."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.clsclose=function(s,n,o,a){switch(s.state){case i.ACTIVE:case i.EMPTY:break;case i.NOMATCH:a.errors.push({line:a.findLine(a.lines,t.clsOpen),char:t.clsOpen,msg:"Case-sensitive literal string('...') opened but not closed."}),t.clsOpen=null,t.basicError=!0;break;case i.MATCH:a.strict&&a.errors.push({line:a.findLine(a.lines,t.clsOpen),char:t.clsOpen,msg:"Case-sensitive string operator('...') found - strict ABNF specified."}),t.clsOpen=null;break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.clsopen=function(s,n,o){switch(s.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:t.clsOpen=o;break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.clsstring=function(t,s,n,o){switch(t.state){case i.ACTIVE:o.stringTabChar=!1;break;case i.EMPTY:case i.NOMATCH:break;case i.MATCH:!1!==o.stringTabChar&&o.errors.push({line:o.findLine(o.lines,o.stringTabChar),char:o.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.definedaserror=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"Expected '=' or '=/'. Not found."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.file=function(t,s,n,o){switch(t.state){case i.ACTIVE:o.altStack=[],o.repCount=0;break;case i.EMPTY:o.errors.push({line:0,char:0,msg:"grammar file is empty"});break;case i.MATCH:0===o.ruleCount&&o.errors.push({line:0,char:0,msg:"no rules defined"});break;case i.NOMATCH:throw Error(`${r}synFile: grammar file NOMATCH: design error: should never happen.`);default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.groupclose=function(s,n,o,a){switch(s.state){case i.ACTIVE:case i.EMPTY:break;case i.NOMATCH:a.errors.push({line:a.findLine(a.lines,t.groupOpen),char:t.groupOpen,msg:'Group "(...)" opened but not closed.'}),(t=a.altStack.pop()).groupError=!0;break;case i.MATCH:t=a.altStack.pop();break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.groupopen=function(s,n,o,a){switch(s.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:t={groupOpen:o,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},a.altStack.push(t);break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.lineenderror=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"Unrecognized grammar element or characters."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.lineend=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:if(1===t.phraseLength&&o.strict){let t=13===s[n]?"CR":"LF";o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:`Line end '${t}' found - strict ABNF specified, only CRLF allowed.`})}break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.notop=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:o.strict&&o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"NOT operator(!) found - strict ABNF specified."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.optionclose=function(s,n,o,a){switch(s.state){case i.ACTIVE:case i.EMPTY:break;case i.NOMATCH:a.errors.push({line:a.findLine(a.lines,t.optionOpen),char:t.optionOpen,msg:'Option "[...]" opened but not closed.'}),(t=a.altStack.pop()).optionError=!0;break;case i.MATCH:t=a.altStack.pop();break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.optionopen=function(s,n,o,a){switch(s.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:t={groupOpen:null,groupError:!1,optionOpen:o,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},a.altStack.push(t);break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.prosvalclose=function(s,n,o,a){switch(s.state){case i.ACTIVE:case i.EMPTY:break;case i.NOMATCH:a.errors.push({line:a.findLine(a.lines,t.prosValOpen),char:t.prosValOpen,msg:"Prose value operator(<...>) opened but not closed."}),t.basicError=!0,t.prosValOpen=null;break;case i.MATCH:a.errors.push({line:a.findLine(a.lines,t.prosValOpen),char:t.prosValOpen,msg:"Prose value operator(<...>) found. The ABNF syntax is valid, but a parser cannot be generated from this grammar."}),t.prosValOpen=null;break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.prosvalopen=function(s,n,o){switch(s.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:t.prosValOpen=o;break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.prosvalstring=function(t,s,n,o){switch(t.state){case i.ACTIVE:o.stringTabChar=!1;break;case i.EMPTY:case i.NOMATCH:break;case i.MATCH:!1!==o.stringTabChar&&o.errors.push({line:o.findLine(o.lines,o.stringTabChar),char:o.stringTabChar,msg:"Tab character (\\t, x09) not allowed in prose value string."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.repetition=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:break;case i.NOMATCH:case i.MATCH:o.repCount+=1;break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.rule=function(s,n,o,a){switch(s.state){case i.ACTIVE:a.altStack.length=0,t={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},a.altStack.push(t);break;case i.EMPTY:throw Error(`${r}synRule: EMPTY: rule cannot be empty`);case i.NOMATCH:break;case i.MATCH:a.ruleCount+=1;break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.ruleerror=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"Unrecognized SABNF line. Invalid rule, comment or blank line."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.rulenameerror=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"Rule names must be alphanum and begin with alphabetic character."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.stringtab=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:o.stringTabChar=n;break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.tlsclose=function(s,n,o,a){switch(s.state){case i.ACTIVE:case i.EMPTY:break;case i.NOMATCH:a.errors.push({line:a.findLine(a.lines,t.tlsOpen),char:t.tlsOpen,msg:'Case-insensitive literal string("...") opened but not closed.'}),t.basicError=!0,t.tlsOpen=null;break;case i.MATCH:t.tlsOpen=null;break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.tlsopen=function(s,n,o){switch(s.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:t.tlsOpen=o;break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.tlsstring=function(t,s,n,o){switch(t.state){case i.ACTIVE:o.stringTabChar=!1;break;case i.EMPTY:case i.NOMATCH:break;case i.MATCH:!1!==o.stringTabChar&&o.errors.push({line:o.findLine(o.lines,o.stringTabChar),char:o.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.udtop=function(t,s,o,a){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:if(a.strict){let r=n.utils.charsToString(s,o,t.phraseLength);a.errors.push({line:a.findLine(a.lines,o,a.charsLength),char:o,msg:`UDT operator found(${r}) - strict ABNF specified.`})}break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.bkaop=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:o.strict?o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"Positive look-behind operator(&&) found - strict ABNF specified."}):o.lite&&o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"Positive look-behind operator(&&) found - apg-lite specified."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.bknop=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:o.strict?o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"Negative look-behind operator(!!) found - strict ABNF specified."}):o.lite&&o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"Negative look-behind operator(!!) found - apg-lite specified."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.bkrop=function(t,s,o,a){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:if(a.strict){let r=n.utils.charsToString(s,o,t.phraseLength);a.errors.push({line:a.findLine(a.lines,o,a.charsLength),char:o,msg:`Back reference operator(${r}) found - strict ABNF specified.`})}else if(a.lite){let r=n.utils.charsToString(s,o,t.phraseLength);a.errors.push({line:a.findLine(a.lines,o,a.charsLength),char:o,msg:`Back reference operator(${r}) found - apg-lite specified.`})}break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.abgop=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:o.strict?o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"Beginning of string anchor(%^) found - strict ABNF specified."}):o.lite&&o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"Beginning of string anchor(%^) found - apg-lite specified."});break;default:throw Error(`${r}synFile: unrecognized case.`)}},this.callbacks.aenop=function(t,s,n,o){switch(t.state){case i.ACTIVE:case i.EMPTY:case i.NOMATCH:break;case i.MATCH:o.strict?o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"End of string anchor(%$) found - strict ABNF specified."}):o.lite&&o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:"End of string anchor(%$) found - apg-lite specified."});break;default:throw Error(`${r}synFile: unrecognized case.`)}}}},62803:function(t,r,s){let{Buffer:n}=s(67133),i=s(88434),o="UTF8",a="UTF16",l="UTF16BE",c="UTF16LE",h="UTF32",d="UTF32BE",u="UTF32LE",m="UINT7",g="ASCII",T="BINARY",E="UINT8",A="UINT16",x="UINT16LE",k="UINT16BE",C="UINT32",w="UINT32LE",M="UINT32BE",O="ESCAPED",L="STRING",bom8=function(t){t.type=o;let r=t.data;t.bom=0,r.length>=3&&239===r[0]&&187===r[1]&&191===r[2]&&(t.bom=3)},bom16=function(t){let r=t.data;switch(t.bom=0,t.type){case a:t.type=l,r.length>=2&&(254===r[0]&&255===r[1]?t.bom=2:255===r[0]&&254===r[1]&&(t.type=c,t.bom=2));break;case l:if(t.type=l,r.length>=2){if(254===r[0]&&255===r[1])t.bom=2;else if(255===r[0]&&254===r[1])throw TypeError(`src type: "${l}" specified but BOM is for "${c}"`)}break;case c:if(t.type=c,r.length>=0){if(254===r[0]&&255===r[1])throw TypeError(`src type: "${c}" specified but BOM is for "${l}"`);255===r[0]&&254===r[1]&&(t.bom=2)}break;default:throw TypeError(`UTF16 BOM: src type "${t.type}" unrecognized`)}},bom32=function(t){let r=t.data;switch(t.bom=0,t.type){case h:t.type=d,r.length>=4&&(0===r[0]&&0===r[1]&&254===r[2]&&255===r[3]&&(t.bom=4),255===r[0]&&254===r[1]&&0===r[2]&&0===r[3]&&(t.type=u,t.bom=4));break;case d:if(t.type=d,r.length>=4&&(0===r[0]&&0===r[1]&&254===r[2]&&255===r[3]&&(t.bom=4),255===r[0]&&254===r[1]&&0===r[2]&&0===r[3]))throw TypeError(`src type: ${d} specified but BOM is for ${u}"`);break;case u:if(t.type=u,r.length>=4){if(0===r[0]&&0===r[1]&&254===r[2]&&255===r[3])throw TypeError(`src type: "${u}" specified but BOM is for "${d}"`);255===r[0]&&254===r[1]&&0===r[2]&&0===r[3]&&(t.bom=4)}break;default:throw TypeError(`UTF32 BOM: src type "${t.type}" unrecognized`)}},validateSrc=function(t,r){let s=function(t){let r={type:"",base64:!1},s=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(t);return s&&(s[2]&&(r.type=s[2].toUpperCase()),s[1]&&(r.base64=!0)),r}(t.toUpperCase());if(s.base64){if(s.type===L)throw TypeError(`type: "${t} "BASE64:" prefix not allowed with type ${L}`);if(n.isBuffer(r))s.data=i.base64.decode(r);else if("string"==typeof r){let t=n.from(r,"ascii");s.data=i.base64.decode(t)}else throw TypeError(`type: "${t} unrecognized data type: typeof(data): ${typeof r}`)}else s.data=r;switch(s.type){case o:bom8(s);break;case a:case l:case c:bom16(s);break;case h:case d:case u:bom32(s);break;case A:s.type=k;break;case C:s.type=M;break;case g:s.type=m;break;case T:s.type=E;break;case m:case E:case x:case k:case w:case M:case L:case O:break;default:throw TypeError(`type: "${t}" not recognized`)}if(s.type===L){if("string"!=typeof s.data)throw TypeError(`type: "${t}" but data is not a string`)}else if(!n.isBuffer(s.data))throw TypeError(`type: "${t}" but data is not a Buffer`);return s},validateDst=function(t,r){if(!Array.isArray(r))throw TypeError(`dst chars: not array: "${typeof r}`);if("string"!=typeof t)throw TypeError(`dst type: not string: "${typeof t}`);let s=function(t){let r,s;let n={crlf:!1,lf:!1,base64:!1,type:""};for(;;){if(s=t,"CRLF:"===(r=t.slice(0,5))){n.crlf=!0,s=t.slice(5);break}"LF:"===(r=t.slice(0,3))&&(n.lf=!0,s=t.slice(3));break}return 1===(r=s.split(":")).length?n.type=r[0]:2===r.length&&"BASE64"===r[1]&&(n.base64=!0,n.type=r[0]),n}(t.toUpperCase());switch(s.type){case o:case l:case c:case d:case u:case m:case E:case x:case k:case w:case M:case O:break;case L:if(s.base64)throw TypeError(`":BASE64" suffix not allowed with type ${L}`);break;case g:s.type=m;break;case T:s.type=E;break;case a:s.type=l;break;case h:s.type=d;break;case A:s.type=k;break;case C:s.type=M;break;default:throw TypeError(`dst type unrecognized: "${t}" : must have form [crlf:|lf:]type[:base64]`)}return s},encode=function(t,r){switch(t){case o:return i.utf8.encode(r);case l:return i.utf16be.encode(r);case c:return i.utf16le.encode(r);case d:return i.utf32be.encode(r);case u:return i.utf32le.encode(r);case m:return i.uint7.encode(r);case E:return i.uint8.encode(r);case k:return i.uint16be.encode(r);case x:return i.uint16le.encode(r);case M:return i.uint32be.encode(r);case w:return i.uint32le.encode(r);case L:return i.string.encode(r);case O:return i.escaped.encode(r);default:throw TypeError(`encode type "${t}" not recognized`)}},decode=function(t){switch(t.type){case o:return i.utf8.decode(t.data,t.bom);case c:return i.utf16le.decode(t.data,t.bom);case l:return i.utf16be.decode(t.data,t.bom);case d:return i.utf32be.decode(t.data,t.bom);case u:return i.utf32le.decode(t.data,t.bom);case m:return i.uint7.decode(t.data);case E:return i.uint8.decode(t.data);case k:return i.uint16be.decode(t.data);case x:return i.uint16le.decode(t.data);case M:return i.uint32be.decode(t.data);case w:return i.uint32le.decode(t.data);case L:return i.string.decode(t.data);case O:return i.escaped.decode(t.data);default:throw TypeError(`decode type "${t.type}" not recognized`)}};r.decode=function(t,r){let s=validateSrc(t,r);return decode(s)},r.encode=function(t,r){let s,n;let o=validateDst(t,r);return o.crlf?(s=i.lineEnds.crlf(r),n=encode(o.type,s)):o.lf?(s=i.lineEnds.lf(r),n=encode(o.type,s)):n=encode(o.type,r),o.base64&&(n=i.base64.encode(n)),n},r.convert=function(t,s,n){return r.encode(n,r.decode(t,s))}},88434:function(t,r,s){let{Buffer:n}=s(67133),i=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],o=[];"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(t=>{o.push(t.charCodeAt(0))}),r.utf8={encode(t){let r=[];return t.forEach(t=>{if(t>=0&&t<=127)r.push(t);else if(t<=2047)r.push(192+(t>>6&31)),r.push(128+(63&t));else if(t<55296||t>57343&&t<=65535)r.push(224+(t>>12&15)),r.push(128+(t>>6&63)),r.push(128+(63&t));else if(t>=65536&&t<=1114111){let s=t>>16&31;r.push(240+(s>>2)),r.push(128+((3&s)<<4)+(t>>12&15)),r.push(128+(t>>6&63)),r.push(128+(63&t))}else throw RangeError(`utf8.encode: character out of range: char: ${t}`)}),n.from(r)},decode(t,r){let s,n,i,o,a,l;let c=t.length,h=r?3:0,d=[];for(;h<c;){for(n=t[h],s=4294967295;;){if(n>=0&&n<=127){s=n,l=1;break}if((i=h+1)<c&&n>=194&&n<=223){s=function(t,r){if((192&r)!=128)return 4294967293;let s=((31&t)<<6)+(63&r);return s<128?4294967292:s}(n,t[i]),l=2;break}if((o=h+2)<c&&n>=224&&n<=239){s=function(t,r,s){if((192&s)!=128||(192&r)!=128)return 4294967293;let n=((15&t)<<12)+((63&r)<<6)+(63&s);return n<2048?4294967292:n>=55296&&n<=57343?4294967294:n}(n,t[i],t[o]),l=3;break}(a=h+3)<c&&n>=240&&n<=244&&(s=function(t,r,s,n){if((192&n)!=128||(192&s)!=128||(192&r)!=128)return 4294967293;let i=(((7&t)<<2)+(r>>4&3)<<16)+((15&r)<<12)+((63&s)<<6)+(63&n);return i<65536?4294967292:i>1114111?4294967294:i}(n,t[i],t[o],t[a]),l=4);break}if(s>1114111){let t=`byte[${h}]`;if(4294967295===s)throw RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${t}`);if(4294967293===s)throw RangeError(`utf8.decode: illegal trailing byte found at: ${t}`);if(4294967294===s)throw RangeError(`utf8.decode: code point out of range found at: ${t}`);if(4294967292===s)throw RangeError(`utf8.decode: non-shortest form found at: ${t}`);throw RangeError(`utf8.decode: unrecognized error found at: ${t}`)}d.push(s),h+=l}return d}},r.utf16be={encode(t){let r,s,i;let o=[];for(let n=0;n<t.length;n+=1)if((r=t[n])>=0&&r<=55295||r>=57344&&r<=65535)o.push(r>>8&255),o.push(255&r);else if(r>=65536&&r<=1114111)s=55296+((i=r-65536)>>10),i=56320+(1023&i),o.push(s>>8&255),o.push(255&s),o.push(i>>8&255),o.push(255&i);else throw RangeError(`utf16be.encode: UTF16BE value out of range: char[${n}]: ${r}`);return n.from(o)},decode(t,r){let s,n,i,o,a,l;if(t.length%2>0)throw RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${t.length}`);let c=[],h=t.length,d=r?2:0,u=0;for(;d<h;){for(;;){if((i=d+1)<h){if((a=(t[d]<<8)+t[i])<55296||a>57343){s=a,n=2;break}if((o=d+3)<h&&(l=(t[d+2]<<8)+t[o],a<=56319&&l>=56320&&l<=57343)){s=65536+(a-55296<<10)+(l-56320),n=4;break}}throw RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${d}]`)}c[u++]=s,d+=n}return c}},r.utf16le={encode(t){let r,s,i;let o=[];for(let n=0;n<t.length;n+=1)if((r=t[n])>=0&&r<=55295||r>=57344&&r<=65535)o.push(255&r),o.push(r>>8&255);else if(r>=65536&&r<=1114111)s=55296+((i=r-65536)>>10),i=56320+(1023&i),o.push(255&s),o.push(s>>8&255),o.push(255&i),o.push(i>>8&255);else throw RangeError(`utf16le.encode: UTF16LE value out of range: char[${n}]: ${r}`);return n.from(o)},decode(t,r){let s,n,i,o,a,l;if(t.length%2>0)throw RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${t.length}`);let c=[],h=t.length,d=r?2:0,u=0;for(;d<h;){for(;;){if((i=d+1)<h){if((a=(t[i]<<8)+t[d])<55296||a>57343){s=a,n=2;break}if((o=d+3)<h&&(l=(t[o]<<8)+t[d+2],a<=56319&&l>=56320&&l<=57343)){s=65536+(a-55296<<10)+(l-56320),n=4;break}}throw RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${d}]`)}c[u++]=s,d+=n}return c}},r.utf32be={encode(t){let r=n.alloc(4*t.length),s=0;return t.forEach(t=>{if(t>=55296&&t<=57343||t>1114111)throw RangeError(`utf32be.encode: UTF32BE character code out of range: char[${s/4}]: ${t}`);r[s++]=t>>24&255,r[s++]=t>>16&255,r[s++]=t>>8&255,r[s++]=255&t}),r},decode(t,r){if(t.length%4>0)throw RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${t.length}`);let s=[],n=r?4:0;for(;n<t.length;n+=4){let r=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];if(r>=55296&&r<=57343||r>1114111)throw RangeError(`utf32be.decode: UTF32BE character code out of range: char[${n/4}]: ${r}`);s.push(r)}return s}},r.utf32le={encode(t){let r=n.alloc(4*t.length),s=0;return t.forEach(t=>{if(t>=55296&&t<=57343||t>1114111)throw RangeError(`utf32le.encode: UTF32LE character code out of range: char[${s/4}]: ${t}`);r[s++]=255&t,r[s++]=t>>8&255,r[s++]=t>>16&255,r[s++]=t>>24&255}),r},decode(t,r){if(t.length%4>0)throw RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${t.length}`);let s=[],n=r?4:0;for(;n<t.length;n+=4){let r=(t[n+3]<<24)+(t[n+2]<<16)+(t[n+1]<<8)+t[n];if(r>=55296&&r<=57343||r>1114111)throw RangeError(`utf32le.encode: UTF32LE character code out of range: char[${n/4}]: ${r}`);s.push(r)}return s}},r.uint7={encode(t){let r=n.alloc(t.length);for(let s=0;s<t.length;s+=1){if(t[s]>127)throw RangeError(`uint7.encode: UINT7 character code out of range: char[${s}]: ${t[s]}`);r[s]=t[s]}return r},decode(t){let r=[];for(let s=0;s<t.length;s+=1){if(t[s]>127)throw RangeError(`uint7.decode: UINT7 character code out of range: byte[${s}]: ${t[s]}`);r[s]=t[s]}return r}},r.uint8={encode(t){let r=n.alloc(t.length);for(let s=0;s<t.length;s+=1){if(t[s]>255)throw RangeError(`uint8.encode: UINT8 character code out of range: char[${s}]: ${t[s]}`);r[s]=t[s]}return r},decode(t){let r=[];for(let s=0;s<t.length;s+=1)r[s]=t[s];return r}},r.uint16be={encode(t){let r=n.alloc(2*t.length),s=0;return t.forEach(t=>{if(t>65535)throw RangeError(`uint16be.encode: UINT16BE character code out of range: char[${s/2}]: ${t}`);r[s++]=t>>8&255,r[s++]=255&t}),r},decode(t){if(t.length%2>0)throw RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${t.length}`);let r=[];for(let s=0;s<t.length;s+=2)r.push((t[s]<<8)+t[s+1]);return r}},r.uint16le={encode(t){let r=n.alloc(2*t.length),s=0;return t.forEach(t=>{if(t>65535)throw RangeError(`uint16le.encode: UINT16LE character code out of range: char[${s/2}]: ${t}`);r[s++]=255&t,r[s++]=t>>8&255}),r},decode(t){if(t.length%2>0)throw RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${t.length}`);let r=[];for(let s=0;s<t.length;s+=2)r.push((t[s+1]<<8)+t[s]);return r}},r.uint32be={encode(t){let r=n.alloc(4*t.length),s=0;return t.forEach(t=>{r[s++]=t>>24&255,r[s++]=t>>16&255,r[s++]=t>>8&255,r[s++]=255&t}),r},decode(t){if(t.length%4>0)throw RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${t.length}`);let r=[];for(let s=0;s<t.length;s+=4)r.push((t[s]<<24)+(t[s+1]<<16)+(t[s+2]<<8)+t[s+3]);return r}},r.uint32le={encode(t){let r=n.alloc(4*t.length),s=0;return t.forEach(t=>{r[s++]=255&t,r[s++]=t>>8&255,r[s++]=t>>16&255,r[s++]=t>>24&255}),r},decode(t){if(t.length%4>0)throw RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${t.length}`);let r=[];for(let s=0;s<t.length;s+=4)r.push((t[s+3]<<24)+(t[s+2]<<16)+(t[s+1]<<8)+t[s]);return r}},r.string={encode:t=>r.utf16le.encode(t).toString("utf16le"),decode:t=>r.utf16le.decode(n.from(t,"utf16le"),0)},r.escaped={encode(t){let r=[];for(let s=0;s<t.length;s+=1){let o=t[s];if(96===o)r.push(o),r.push(o);else if(10===o)r.push(o);else if(o>=32&&o<=126)r.push(o);else{let t="";if(o>=0&&o<=31)t+=`\`x${i[o]}`;else if(o>=127&&o<=255)t+=`\`x${i[o]}`;else if(o>=256&&o<=65535)t+=`\`u${i[o>>8&255]}${i[255&o]}`;else if(o>=65536&&o<=4294967295){t+="`u{";let r=o>>24&255;r>0&&(t+=i[r]),t+=`${i[o>>16&255]+i[o>>8&255]+i[255&o]}}`}else throw Error("escape.encode(char): char > 0xffffffff not allowed");let s=n.from(t);s.forEach(t=>{r.push(t)})}}return n.from(r)},decode(t){let r,s,n;function isHex(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}let i=[],o=t.length,a=0;for(;a<o;){for(;;){if(n=!0,96!==t[a]){i.push(t[a]),a+=1,n=!1;break}if((r=a+1)>=o)break;if(96===t[r]){i.push(96),a+=2,n=!1;break}if(120===t[r]){if((s=function(t,r,s){let n={char:null,nexti:t+2,error:!0};if(t+1<r&&isHex(s[t])&&isHex(s[t+1])){let r=String.fromCodePoint(s[t],s[t+1]);n.char=parseInt(r,16),Number.isNaN(n.char)||(n.error=!1)}return n}(r+1,o,t)).error)break;i.push(s.char),a=s.nexti,n=!1;break}if(117===t[r]){if(123===t[r+1]){if((s=function(t,r,s){let n={char:null,nexti:t+4,error:!0},i="";for(;t<r&&isHex(s[t]);)i+=String.fromCodePoint(s[t]),t+=1;return n.char=parseInt(i,16),125!==s[t]||Number.isNaN(n.char)||(n.error=!1),n.nexti=t+1,n}(r+2,o,t)).error)break;i.push(s.char),a=s.nexti,n=!1;break}if((s=function(t,r,s){let n={char:null,nexti:t+4,error:!0};if(t+3<r&&isHex(s[t])&&isHex(s[t+1])&&isHex(s[t+2])&&isHex(s[t+3])){let r=String.fromCodePoint(s[t],s[t+1],s[t+2],s[t+3]);n.char=parseInt(r,16),Number.isNaN(n.char)||(n.error=!1)}return n}(r+1,o,t)).error)break;i.push(s.char),a=s.nexti,n=!1}break}if(n)throw Error(`escaped.decode: ill-formed escape sequence at buf[${a}]`)}return i}},r.lineEnds={crlf(t){let r=[],s=0;for(;s<t.length;)switch(t[s]){case 13:s+1<t.length&&10===t[s+1]?s+=2:s+=1,r.push(13),r.push(10);break;case 10:r.push(13),r.push(10),s+=1;break;default:r.push(t[s]),s+=1}return r.length>0&&10!==r[r.length-1]&&(r.push(13),r.push(10)),r},lf(t){let r=[],s=0;for(;s<t.length;)switch(t[s]){case 13:s+1<t.length&&10===t[s+1]?s+=2:s+=1,r.push(10);break;case 10:r.push(10),s+=1;break;default:r.push(t[s]),s+=1}return r.length>0&&10!==r[r.length-1]&&r.push(10),r}},r.base64={encode(t){let r,s,i;if(0===t.length)return n.alloc(0);let a=t.length%3;a=a>0?3-a:0;let l=(t.length+a)/3,c=n.alloc(4*l);a>0&&(l-=1),r=0,s=0;for(let n=0;n<l;n+=1)i=(t[r++]<<16)+(t[r++]<<8)+t[r++],c[s++]=o[i>>18&63],c[s++]=o[i>>12&63],c[s++]=o[i>>6&63],c[s++]=o[63&i];return 0===a?c:1===a?(i=(t[r++]<<16)+(t[r]<<8),c[s++]=o[i>>18&63],c[s++]=o[i>>12&63],c[s++]=o[i>>6&63],c[s]=o[64],c):2===a?(i=t[r]<<16,c[s++]=o[i>>18&63],c[s++]=o[i>>12&63],c[s++]=o[64],c[s]=o[64],c):void 0},decode(t){let r,s,i;if(0===t.length)return n.alloc(0);let o=function(t){let r=[],s=0;for(let n=0;n<t.length;n+=1){let i=t[n];for(;32!==i&&9!==i&&10!==i&&13!==i;){if(i>=65&&i<=90){r.push(i-65);break}if(i>=97&&i<=122){r.push(i-71);break}if(i>=48&&i<=57){r.push(i+4);break}if(43===i){r.push(62);break}if(47===i){r.push(63);break}if(61===i){r.push(64),s+=1;break}throw RangeError(`base64.decode: invalid character buf[${n}]: ${i}`)}}if(r.length%4>0)throw RangeError(`base64.decode: string length not integral multiple of 4: ${r.length}`);switch(s){case 0:break;case 1:if(64!==r[r.length-1])throw RangeError("base64.decode: one tail character found: not last character");break;case 2:if(64!==r[r.length-1]||64!==r[r.length-2])throw RangeError("base64.decode: two tail characters found: not last characters");break;default:throw RangeError(`base64.decode: more than two tail characters found: ${s}`)}return{tail:s,buf:n.from(r)}}(t),{tail:a}=o,l=o.buf,c=l.length/4,h=n.alloc(3*c-a);a>0&&(c-=1),s=0,r=0;for(let t=0;t<c;t+=1)i=(l[r++]<<18)+(l[r++]<<12)+(l[r++]<<6)+l[r++],h[s++]=i>>16&255,h[s++]=i>>8&255,h[s++]=255&i;return 1===a&&(i=(l[r++]<<18)+(l[r++]<<12)+(l[r]<<6),h[s++]=i>>16&255,h[s]=i>>8&255),2===a&&(i=(l[r++]<<18)+(l[r++]<<12),h[s]=i>>16&255),h},toString(t){if(t.length%4>0)throw RangeError(`base64.toString: input buffer length not multiple of 4: ${t.length}`);let r="",s=0;for(let i=0;i<t.length;i+=4){for(let r=i;r<i+4;r+=1){var n;if(!((n=t[r])>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57||43===n||47===n||61===n))throw RangeError(`base64.toString: buf[${r}]: ${t[r]} : not valid base64 character code`)}!function(t,n,i,o){switch(s){case 76:r+=`\r
${t}${n}${i}${o}`,s=4;break;case 75:r+=`${t}\r
${n}${i}${o}`,s=3;break;case 74:r+=`${t+n}\r
${i}${o}`,s=2;break;case 73:r+=`${t+n+i}\r
${o}`,s=1;break;default:r+=t+n+i+o,s+=4}}(String.fromCharCode(t[i]),String.fromCharCode(t[i+1]),String.fromCharCode(t[i+2]),String.fromCharCode(t[i+3]))}return r}}},32252:function(t,r,s){t.exports=function(){let t=s(33874),r=s(59804),n=this,i=null,o=null,a=null,l=0,c=[],h=[],d=[],u=[];function indent(t){let r="";for(let s=0;s<t;s+=1)r+=" ";return r}this.callbacks=[],this.astObject="astObject",this.init=function(t,r,s){let m;d.length=0,u.length=0,c.length=0,l=0,i=t,o=r,a=s;let g=[];for(m=0;m<i.length;m+=1)g.push(i[m].lower);for(m=0;m<o.length;m+=1)g.push(o[m].lower);for(m=0,l=i.length+o.length;m<l;m+=1)c[m]=!1,h[m]=null;for(let t in n.callbacks){let r=t.toLowerCase();if((m=g.indexOf(r))<0)throw Error(`ast.js: init: node '${t}' not a rule or udt name`);"function"==typeof n.callbacks[t]&&(c[m]=!0,h[m]=n.callbacks[t]),!0===n.callbacks[t]&&(c[m]=!0)}},this.ruleDefined=function(t){return!1!==c[t]},this.udtDefined=function(t){return!1!==c[i.length+t]},this.down=function(r,s){let n=u.length;return d.push(n),u.push({name:s,thisIndex:n,thatIndex:null,state:t.SEM_PRE,callbackIndex:r,phraseIndex:null,phraseLength:null,stack:d.length}),n},this.up=function(r,s,n,i){let o=u.length,a=d.pop();return u.push({name:s,thisIndex:o,thatIndex:a,state:t.SEM_POST,callbackIndex:r,phraseIndex:n,phraseLength:i,stack:d.length}),u[a].thatIndex=o,u[a].phraseIndex=n,u[a].phraseLength=i,o},this.translate=function(r){let s,n;for(let i=0;i<u.length;i+=1)s=h[(n=u[i]).callbackIndex],n.state===t.SEM_PRE?null!==s&&s(t.SEM_PRE,a,n.phraseIndex,n.phraseLength,r)===t.SEM_SKIP&&(i=n.thatIndex):null!==s&&s(t.SEM_POST,a,n.phraseIndex,n.phraseLength,r)},this.setLength=function(t){u.length=t,t>0?d.length=u[t-1].stack:d.length=0},this.getLength=function(){return u.length},this.toXml=function(s){let n=r.charsToDec,i="decimal integer character codes";if("string"==typeof s&&s.length>=3){let t=s.slice(0,3).toLowerCase();"asc"===t?(n=r.charsToAscii,i="ASCII for printing characters, hex for non-printing"):"hex"===t?(n=r.charsToHex,i="hexadecimal integer character codes"):"uni"===t&&(n=r.charsToUnicode,i="Unicode UTF-32 integer character codes")}let o="",l=0;return o+=`<?xml version="1.0" encoding="utf-8"?>
<root nodes="${u.length/2}" characters="${a.length}">
<!-- input string, ${i} -->
`+indent(l+2)+n(a)+"\n",u.forEach(r=>{r.state===t.SEM_PRE?(l+=1,o+=indent(l)+`<node name="${r.name}" index="${r.phraseIndex}" length="${r.phraseLength}">
`+indent(l+2)+n(a,r.phraseIndex,r.phraseLength)+"\n"):(o+=indent(l)+`</node><!-- name="${r.name}" -->
`,l-=1)}),o+="</root>\n"},this.phrases=function(){let r,s;let n={};for(r=0;r<u.length;r+=1)(s=u[r]).state===t.SEM_PRE&&(Array.isArray(n[s.name])||(n[s.name]=[]),n[s.name].push({index:s.phraseIndex,length:s.phraseLength}));return n}}},4599:function(t){t.exports=function(){let t=-1,r=0;this.init=function(s){if("number"!=typeof s||s<=0)throw Error("circular-buffer.js: init: circular buffer size must an integer > 0");r=Math.ceil(s),t=-1},this.increment=function(){return((t+=1)+r)%r},this.maxSize=function(){return r},this.items=function(){return t+1},this.getListIndex=function(s){return -1===t||s<0||s>t||t-s>=r?-1:(s+r)%r},this.forEach=function(s){if(-1!==t){if(t<r){for(let r=0;r<=t;r+=1)s(r,r);return}for(let n=t-r+1;n<=t;n+=1){let t=(n+r)%r;s(t,n)}}}}},59058:function(t){t.exports=function(){return"/* This file automatically generated by jsonToless() and LESS. */\n.apg-mono {\n  font-family: monospace;\n}\n.apg-active {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-match {\n  font-weight: bold;\n  color: #264BFF;\n}\n.apg-empty {\n  font-weight: bold;\n  color: #0fbd0f;\n}\n.apg-nomatch {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-lh-match {\n  font-weight: bold;\n  color: #1A97BA;\n}\n.apg-lb-match {\n  font-weight: bold;\n  color: #5F1687;\n}\n.apg-remainder {\n  font-weight: bold;\n  color: #999999;\n}\n.apg-ctrl-char {\n  font-weight: bolder;\n  font-style: italic;\n  font-size: 0.6em;\n}\n.apg-line-end {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-error {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-phrase {\n  color: #000000;\n  background-color: #8caae6;\n}\n.apg-empty-phrase {\n  color: #0fbd0f;\n}\ntable.apg-state {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th,\ntable.apg-state td {\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th:nth-last-child(2),\ntable.apg-state td:nth-last-child(2) {\n  text-align: right;\n}\ntable.apg-state caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-stats {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats th,\ntable.apg-stats td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace th,\ntable.apg-trace td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace th:last-child,\ntable.apg-trace th:nth-last-child(2),\ntable.apg-trace td:last-child,\ntable.apg-trace td:nth-last-child(2) {\n  text-align: left;\n}\ntable.apg-grammar {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-grammar th,\ntable.apg-grammar td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar th:last-child,\ntable.apg-grammar td:last-child {\n  text-align: left;\n}\ntable.apg-rules {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-rules th,\ntable.apg-rules td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules a {\n  color: #003399 !important;\n}\ntable.apg-rules a:hover {\n  color: #8caae6 !important;\n}\ntable.apg-attrs {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-attrs th,\ntable.apg-attrs td {\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs th:nth-child(1),\ntable.apg-attrs th:nth-child(2),\ntable.apg-attrs th:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs td:nth-child(1),\ntable.apg-attrs td:nth-child(2),\ntable.apg-attrs td:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs a {\n  color: #003399 !important;\n}\ntable.apg-attrs a:hover {\n  color: #8caae6 !important;\n}\n"}},33874:function(t){t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},26198:function(t,r,s){t.exports={ast:s(32252),circular:s(4599),ids:s(33874),parser:s(61586),stats:s(53252),trace:s(86985),utils:s(59804),emitcss:s(59058),style:s(96315)}},61586:function(t,r,s){t.exports=function(){let t,r,n,i,o;let a=s(33874),l=s(59804),c="parser.js: ",h=this;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let d=null,u=null,m=0,g=0,T=0,E=null,A=null,x=null,k=null,C=null,w=0,M=1/0,O=1/0,evaluateRule=function(r,s,n){let o=`${c}evaluateRule(): `;if(r>=x.length)throw Error(`${o}rule index: ${r} out of range`);if(s>=i)throw Error(`${o}phrase index: ${s} out of range`);let{length:l}=d;d.push({type:a.RNM,index:r}),t(l,s,n),d.pop()},evaluateUdt=function(r,s,n){let o=`${c}evaluateUdt(): `;if(r>=k.length)throw Error(`${o}udt index: ${r} out of range`);if(s>=i)throw Error(`${o}phrase index: ${s} out of range`);let{length:l}=d;d.push({type:a.UDT,empty:k[r].empty,index:r}),t(l,s,n),d.pop()},clear=function(){m=0,g=0,T=0,w=0,o=[{lookAround:a.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],x=null,k=null,u=null,r=0,n=0,i=0,E=null,A=null,C=null,d=null},backRef=function(){let t=[],copy=function(){let r=t[t.length-1],s={};for(let t in r)s[t]=r[t];return s};this.push=function(){t.push(copy())},this.pop=function(r){let s=r;if(s||(s=t.length-1),s<1||s>t.length)throw Error(`${c}backRef.pop(): bad length: ${s}`);return t.length=s,t[t.length-1]},this.length=function(){return t.length},this.savePhrase=function(r,s,n){t[t.length-1][r]={phraseIndex:s,phraseLength:n}},this.getPhrase=function(r){return t[t.length-1][r]},function(){let r={};x.forEach(t=>{t.isBkr&&(r[t.lower]=null)}),k.length>0&&k.forEach(t=>{t.isBkr&&(r[t.lower]=null)}),t.push(r)}()},systemData=function(){let t=this;this.state=a.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=o[o.length-1],this.uFrame=new backRef,this.pFrame=new backRef,this.evaluateRule=evaluateRule,this.evaluateUdt=evaluateUdt,this.refresh=function(){t.state=a.ACTIVE,t.phraseLength=0,t.lookAround=o[o.length-1]}},lookAroundValue=function(){return o[o.length-1]},inLookAround=function(){return o.length>1},initializeAst=function(){let t=`${c}initializeAst(): `;for(;;){if(void 0===h.ast){h.ast=null;break}if(null===h.ast)break;if("astObject"!==h.ast.astObject)throw Error(`${t}ast object not recognized`);break}null!==h.ast&&h.ast.init(x,k,u)},initializeTrace=function(){let t=`${c}initializeTrace(): `;for(;;){if(void 0===h.trace){h.trace=null;break}if(null===h.trace)break;if("traceObject"!==h.trace.traceObject)throw Error(`${t}trace object not recognized`);break}null!==h.trace&&h.trace.init(x,k,u)},initializeStats=function(){let t=`${c}initializeStats(): `;for(;;){if(void 0===h.stats){h.stats=null;break}if(null===h.stats)break;if("statsObject"!==h.stats.statsObject)throw Error(`${t}stats object not recognized`);break}null!==h.stats&&h.stats.init(x,k)},initializeGrammar=function(t){let r=`${c}initializeGrammar(): `;if(!t)throw Error(`${r}grammar object undefined`);if("grammarObject"!==t.grammarObject)throw Error(`${r}bad grammar object`);x=t.rules,k=t.udts},initializeStartRule=function(t){let r=`${c}initializeStartRule(): `,s=null;if("number"==typeof t){if(t>=x.length)throw Error(`${r}start rule index too large: max: ${x.length}: index: ${t}`);s=t}else if("string"==typeof t){let n=t.toLowerCase();for(let t=0;t<x.length;t+=1)if(n===x[t].lower){s=x[t].index;break}if(null===s)throw Error(`${r}start rule name '${t}' not recognized`)}else throw Error(`${r}type of start rule '${typeof t}' not recognized`);return s},initializeInputChars=function(t,s,o){let a=`${c}initializeInputChars(): `,h=t,d=s,m=o;if(void 0===h)throw Error(`${a}input string is undefined`);if(null===h)throw Error(`${a}input string is null`);if("string"==typeof h)h=l.stringToChars(h);else if(!Array.isArray(h))throw Error(`${a}input string is not a string or array`);if(h.length>0&&"number"!=typeof h[0])throw Error(`${a}input string not an array of integers`);if("number"!=typeof d)d=0;else if((d=Math.floor(d))<0||d>h.length)throw Error(`${a}input beginning index out of range: ${d}`);if("number"!=typeof m)m=h.length-d;else if((m=Math.floor(m))<0||m>h.length-d)throw Error(`${a}input length out of range: ${m}`);u=h,i=(r=d)+(n=m)},initializeCallbacks=function(){let t,r;let s=`${c}initializeCallbacks(): `;for(t=0,E=[],A=[];t<x.length;t+=1)E[t]=null;for(t=0;t<k.length;t+=1)A[t]=null;let n=[];for(t=0;t<x.length;t+=1)n.push(x[t].lower);for(t=0;t<k.length;t+=1)n.push(k[t].lower);for(let i in h.callbacks){if((t=n.indexOf(i.toLowerCase()))<0)throw Error(`${s}syntax callback '${i}' not a rule or udt name`);if((r=h.callbacks[i])||(r=null),"function"==typeof r||null===r)t<x.length?E[t]=r:A[t-x.length]=r;else throw Error(`${s}syntax callback[${i}] must be function reference or 'false' (false/null/undefined/etc.)`)}for(t=0;t<k.length;t+=1)if(null===A[t])throw Error(`${s}all UDT callbacks must be defined. UDT callback[${k[t].lower}] not a function reference`)};this.setMaxTreeDepth=function(t){if("number"!=typeof t||(M=Math.floor(t))<=0)throw Error(`parser: max tree depth must be integer > 0: ${t}`)},this.setMaxNodeHits=function(t){if("number"!=typeof t||(O=Math.floor(t))<=0)throw Error(`parser: max node hits must be integer > 0: ${t}`)};let privateParse=function(s,o,l){let h;let m=`${c}parse(): `;initializeGrammar(s);let E=initializeStartRule(o);initializeCallbacks(),initializeTrace(),initializeStats(),initializeAst();let A=new systemData;switch(null!=l&&(C=l),d=[{type:a.RNM,index:E}],t(0,r,A),d=null,A.state){case a.ACTIVE:throw Error(`${m}final state should never be 'ACTIVE'`);case a.NOMATCH:h=!1;break;case a.EMPTY:case a.MATCH:h=A.phraseLength===n;break;default:throw Error("unrecognized state")}return{success:h,state:A.state,length:n,matched:A.phraseLength,maxMatched:w,maxTreeDepth:g,nodeHits:T,inputLength:u.length,subBegin:r,subEnd:i,subLength:n}};this.parseSubstring=function(t,r,s,n,i,o){return clear(),initializeInputChars(s,n,i),privateParse(t,r,o)},this.parse=function(t,r,s,n){return clear(),initializeInputChars(s,0,s.length),privateParse(t,r,n)};let opALT=function(r,s,n){let i=d[r];for(let r=0;r<i.children.length&&(t(i.children[r],s,n),n.state===a.NOMATCH);r+=1);},opCAT=function(r,s,n){let i,o,l,c;let u=d[r],m=n.uFrame.length(),g=n.pFrame.length();h.ast&&(o=h.ast.getLength()),i=!0,l=s,c=0;for(let r=0;r<u.children.length;r+=1){if(t(u.children[r],l,n),n.state===a.NOMATCH){i=!1;break}l+=n.phraseLength,c+=n.phraseLength}i?(n.state=0===c?a.EMPTY:a.MATCH,n.phraseLength=c):(n.state=a.NOMATCH,n.phraseLength=0,n.uFrame.pop(m),n.pFrame.pop(g),h.ast&&h.ast.setLength(o))},opREP=function(r,s,n){let o,l,c,u;let m=d[r];if(0===m.max){n.state=a.EMPTY,n.phraseLength=0;return}l=s,c=0,u=0;let g=n.uFrame.length(),T=n.pFrame.length();for(h.ast&&(o=h.ast.getLength());!(l>=i)&&(t(r+1,l,n),n.state!==a.NOMATCH&&n.state!==a.EMPTY&&(u+=1,c+=n.phraseLength,l+=n.phraseLength,u!==m.max)););n.state===a.EMPTY?(n.state=0===c?a.EMPTY:a.MATCH,n.phraseLength=c):u>=m.min?(n.state=0===c?a.EMPTY:a.MATCH,n.phraseLength=c):(n.state=a.NOMATCH,n.phraseLength=0,n.uFrame.pop(g),n.pFrame.pop(T),h.ast&&h.ast.setLength(o))},validateRnmCallbackResult=function(t,r,s,n){if(r.phraseLength>s){let n=`${c}opRNM(${t.name}): callback function error: `;throw Error(n+=`sysData.phraseLength: ${r.phraseLength} must be <= remaining chars: ${s}`)}switch(r.state){case a.ACTIVE:if(!0!==n)throw Error(`${c}opRNM(${t.name}): callback function return error. ACTIVE state not allowed.`);break;case a.EMPTY:r.phraseLength=0;break;case a.MATCH:0===r.phraseLength&&(r.state=a.EMPTY);break;case a.NOMATCH:r.phraseLength=0;break;default:throw Error(`${c}opRNM(${t.name}): callback function return error. Unrecognized return state: ${r.state}`)}},opRNM=function(r,s,n){let o,l,c,m,g,T;let A=d[r],k=x[A.index],w=E[k.index],M=!inLookAround();if(M&&((l=h.ast&&h.ast.ruleDefined(A.index))&&(o=h.ast.getLength(),h.ast.down(A.index,x[A.index].name)),m=n.uFrame.length(),g=n.pFrame.length(),n.uFrame.push(),n.pFrame.push(),T=n.pFrame,n.pFrame=new backRef),null===w)c=d,d=k.opcodes,t(0,s,n),d=c;else{let r=i-s;n.ruleIndex=k.index,w(n,u,s,C),validateRnmCallbackResult(k,n,r,!0),n.state===a.ACTIVE&&(c=d,d=k.opcodes,t(0,s,n),d=c,n.ruleIndex=k.index,w(n,u,s,C),validateRnmCallbackResult(k,n,r,!1))}M&&(l&&(n.state===a.NOMATCH?h.ast.setLength(o):h.ast.up(A.index,k.name,s,n.phraseLength)),n.pFrame=T,n.state===a.NOMATCH?(n.uFrame.pop(m),n.pFrame.pop(g)):k.isBkr&&(n.pFrame.savePhrase(k.lower,s,n.phraseLength),n.uFrame.savePhrase(k.lower,s,n.phraseLength)))},validateUdtCallbackResult=function(t,r,s){if(r.phraseLength>s){let n=`${c}opUDT(${t.name}): callback function error: `;throw Error(n+=`sysData.phraseLength: ${r.phraseLength} must be <= remaining chars: ${s}`)}switch(r.state){case a.ACTIVE:throw Error(`${c}opUDT(${t.name}): callback function return error. ACTIVE state not allowed.`);case a.EMPTY:if(!1===t.empty)throw Error(`${c}opUDT(${t.name}): callback function return error. May not return EMPTY.`);r.phraseLength=0;break;case a.MATCH:if(0===r.phraseLength){if(!1===t.empty)throw Error(`${c}opUDT(${t.name}): callback function return error. May not return EMPTY.`);r.state=a.EMPTY}break;case a.NOMATCH:r.phraseLength=0;break;default:throw Error(`${c}opUDT(${t.name}): callback function return error. Unrecognized return state: ${r.state}`)}},opUDT=function(t,r,s){let n,o,l,c,m,g;let T=d[t],E=k[T.index];s.UdtIndex=E.index;let w=!inLookAround();w&&((l=h.ast&&h.ast.udtDefined(T.index))&&(o=x.length+T.index,n=h.ast.getLength(),h.ast.down(o,E.name)),c=s.uFrame.length(),m=s.pFrame.length(),s.uFrame.push(),s.pFrame.push(),g=s.pFrame,s.pFrame=new backRef);let M=i-r;A[T.index](s,u,r,C),validateUdtCallbackResult(E,s,M),w&&(l&&(s.state===a.NOMATCH?h.ast.setLength(n):h.ast.up(o,E.name,r,s.phraseLength)),s.pFrame=g,s.state===a.NOMATCH?(s.uFrame.pop(c),s.pFrame.pop(m)):E.isBkr&&(s.pFrame.savePhrase(E.lower,r,s.phraseLength),s.uFrame.savePhrase(E.lower,r,s.phraseLength)))},opAND=function(s,l,c){o.push({lookAround:a.LOOKAROUND_AHEAD,anchor:l,charsEnd:i,charsLength:n}),i=u.length,n=u.length-r,t(s+1,l,c);let h=o.pop();switch(i=h.charsEnd,n=h.charsLength,c.phraseLength=0,c.state){case a.EMPTY:case a.MATCH:c.state=a.EMPTY;break;case a.NOMATCH:c.state=a.NOMATCH;break;default:throw Error(`opAND: invalid state ${c.state}`)}},opNOT=function(s,l,c){o.push({lookAround:a.LOOKAROUND_AHEAD,anchor:l,charsEnd:i,charsLength:n}),i=u.length,n=u.length-r,t(s+1,l,c);let h=o.pop();switch(i=h.charsEnd,n=h.charsLength,c.phraseLength=0,c.state){case a.EMPTY:case a.MATCH:c.state=a.NOMATCH;break;case a.NOMATCH:c.state=a.EMPTY;break;default:throw Error(`opNOT: invalid state ${c.state}`)}},opTRG=function(t,r,s){let n=d[t];s.state=a.NOMATCH,r<i&&n.min<=u[r]&&u[r]<=n.max&&(s.state=a.MATCH,s.phraseLength=1)},opTBS=function(t,r,s){let n;let o=d[t],l=o.string.length;if(s.state=a.NOMATCH,r+l<=i){for(n=0;n<l;n+=1)if(u[r+n]!==o.string[n])return;s.state=a.MATCH,s.phraseLength=l}},opTLS=function(t,r,s){let n,o;let l=d[t];s.state=a.NOMATCH;let c=l.string.length;if(0===c){s.state=a.EMPTY;return}if(r+c<=i){for(n=0;n<c;n+=1)if((o=u[r+n])>=65&&o<=90&&(o+=32),o!==l.string[n])return;s.state=a.MATCH,s.phraseLength=c}},opABG=function(t,r,s){s.state=a.NOMATCH,s.phraseLength=0,s.state=0===r?a.EMPTY:a.NOMATCH},opAEN=function(t,r,s){s.state=a.NOMATCH,s.phraseLength=0,s.state=r===u.length?a.EMPTY:a.NOMATCH},opBKR=function(t,r,s){let n,o,l,c;let h=d[t];s.state=a.NOMATCH,c=h.index<x.length?x[h.index].lower:k[h.index-x.length].lower;let m=h.bkrMode===a.BKR_MODE_PM?s.pFrame.getPhrase(c):s.uFrame.getPhrase(c),g=h.bkrCase===a.BKR_MODE_CI;if(null===m)return;let T=m.phraseIndex,E=m.phraseLength;if(0===E){s.state=a.EMPTY;return}if(r+E<=i){if(g){for(n=0;n<E;n+=1)if(o=u[r+n],l=u[T+n],o>=65&&o<=90&&(o+=32),l>=65&&l<=90&&(l+=32),o!==l)return;s.state=a.MATCH,s.phraseLength=E}else for(n=0;n<E;n+=1)if((o=u[r+n])!==(l=u[T+n]))return;s.state=a.MATCH,s.phraseLength=E}},opBKA=function(r,s,n){switch(o.push({lookAround:a.LOOKAROUND_BEHIND,anchor:s}),t(r+1,s,n),o.pop(),n.phraseLength=0,n.state){case a.EMPTY:case a.MATCH:n.state=a.EMPTY;break;case a.NOMATCH:n.state=a.NOMATCH;break;default:throw Error(`opBKA: invalid state ${n.state}`)}},opBKN=function(r,s,n){switch(o.push({lookAround:a.LOOKAROUND_BEHIND,anchor:s}),t(r+1,s,n),o.pop(),n.phraseLength=0,n.state){case a.EMPTY:case a.MATCH:n.state=a.NOMATCH;break;case a.NOMATCH:n.state=a.EMPTY;break;default:throw Error(`opBKN: invalid state ${n.state}`)}},opCATBehind=function(r,s,n){let i,o,l,c;let u=d[r],m=n.uFrame.length(),g=n.pFrame.length();h.ast&&(o=h.ast.getLength()),i=!0,l=s,c=0;for(let r=u.children.length-1;r>=0;r-=1)if(t(u.children[r],l,n),l-=n.phraseLength,c+=n.phraseLength,n.state===a.NOMATCH){i=!1;break}i?(n.state=0===c?a.EMPTY:a.MATCH,n.phraseLength=c):(n.state=a.NOMATCH,n.phraseLength=0,n.uFrame.pop(m),n.pFrame.pop(g),h.ast&&h.ast.setLength(o))},opREPBehind=function(r,s,n){let i,o,l,c;let u=d[r];o=s,l=0,c=0;let m=n.uFrame.length(),g=n.pFrame.length();for(h.ast&&(i=h.ast.getLength());!(o<=0)&&(t(r+1,o,n),n.state!==a.NOMATCH&&n.state!==a.EMPTY&&(c+=1,l+=n.phraseLength,o-=n.phraseLength,c!==u.max)););n.state===a.EMPTY?(n.state=0===l?a.EMPTY:a.MATCH,n.phraseLength=l):c>=u.min?(n.state=0===l?a.EMPTY:a.MATCH,n.phraseLength=l):(n.state=a.NOMATCH,n.phraseLength=0,n.uFrame.pop(m),n.pFrame.pop(g),h.ast&&h.ast.setLength(i))},opTRGBehind=function(t,r,s){let n=d[t];if(s.state=a.NOMATCH,s.phraseLength=0,r>0){let t=u[r-1];n.min<=t&&t<=n.max&&(s.state=a.MATCH,s.phraseLength=1)}},opTBSBehind=function(t,r,s){let n;let i=d[t];s.state=a.NOMATCH;let o=i.string.length,l=r-o;if(l>=0){for(n=0;n<o;n+=1)if(u[l+n]!==i.string[n])return;s.state=a.MATCH,s.phraseLength=o}},opTLSBehind=function(t,r,s){let n;let i=d[t];s.state=a.NOMATCH;let o=i.string.length;if(0===o){s.state=a.EMPTY;return}let l=r-o;if(l>=0){for(let t=0;t<o;t+=1)if((n=u[l+t])>=65&&n<=90&&(n+=32),n!==i.string[t])return;s.state=a.MATCH,s.phraseLength=o}},opBKRBehind=function(t,r,s){let n,i,o,l;let c=d[t];s.state=a.NOMATCH,s.phraseLength=0,l=c.index<x.length?x[c.index].lower:k[c.index-x.length].lower;let h=c.bkrMode===a.BKR_MODE_PM?s.pFrame.getPhrase(l):s.uFrame.getPhrase(l),m=c.bkrCase===a.BKR_MODE_CI;if(null===h)return;let g=h.phraseIndex,T=h.phraseLength;if(0===T){s.state=a.EMPTY,s.phraseLength=0;return}let E=r-T;if(E>=0){if(m){for(n=0;n<T;n+=1)if(i=u[E+n],o=u[g+n],i>=65&&i<=90&&(i+=32),o>=65&&o<=90&&(o+=32),i!==o)return;s.state=a.MATCH,s.phraseLength=T}else for(n=0;n<T;n+=1)if((i=u[E+n])!==(o=u[g+n]))return;s.state=a.MATCH,s.phraseLength=T}};t=function(t,r,s){let n=!0,i=d[t];if((T+=1)>O)throw Error(`parser: maximum number of node hits exceeded: ${O}`);if((m+=1)>g&&(g=m)>M)throw Error(`parser: maximum parse tree depth exceeded: ${M}`);if(s.refresh(),null!==h.trace){let t=lookAroundValue();h.trace.down(i,s.state,r,s.phraseLength,t.anchor,t.lookAround)}if(o[o.length-1].lookAround===a.LOOKAROUND_BEHIND)switch(i.type){case a.ALT:opALT(t,r,s);break;case a.CAT:opCATBehind(t,r,s);break;case a.REP:opREPBehind(t,r,s);break;case a.RNM:opRNM(t,r,s);break;case a.UDT:opUDT(t,r,s);break;case a.AND:opAND(t,r,s);break;case a.NOT:opNOT(t,r,s);break;case a.TRG:opTRGBehind(t,r,s);break;case a.TBS:opTBSBehind(t,r,s);break;case a.TLS:opTLSBehind(t,r,s);break;case a.BKR:opBKRBehind(t,r,s);break;case a.BKA:opBKA(t,r,s);break;case a.BKN:opBKN(t,r,s);break;case a.ABG:opABG(t,r,s);break;case a.AEN:opAEN(t,r,s);break;default:n=!1}else switch(i.type){case a.ALT:opALT(t,r,s);break;case a.CAT:opCAT(t,r,s);break;case a.REP:opREP(t,r,s);break;case a.RNM:opRNM(t,r,s);break;case a.UDT:opUDT(t,r,s);break;case a.AND:opAND(t,r,s);break;case a.NOT:opNOT(t,r,s);break;case a.TRG:opTRG(t,r,s);break;case a.TBS:opTBS(t,r,s);break;case a.TLS:opTLS(t,r,s);break;case a.BKR:opBKR(t,r,s);break;case a.BKA:opBKA(t,r,s);break;case a.BKN:opBKN(t,r,s);break;case a.ABG:opABG(t,r,s);break;case a.AEN:opAEN(t,r,s);break;default:n=!1}if(!inLookAround()&&r+s.phraseLength>w&&(w=r+s.phraseLength),null!==h.stats&&h.stats.collect(i,s),null!==h.trace){let t=lookAroundValue();h.trace.up(i,s.state,r,s.phraseLength,t.anchor,t.lookAround)}return m-=1,n}}},53252:function(t,r,s){t.exports=function(){let t;let r=s(33874),n=s(59804),i=s(96315),o=[],a=[],l=[],c=[],h=[];this.statsObject="statsObject";let sortAlpha=function(t,r){return t.lower<r.lower?-1:t.lower>r.lower?1:0},sortHits=function(t,r){return t.total<r.total?1:t.total>r.total?-1:sortAlpha(t,r)},sortIndex=function(t,r){return t.index<r.index?-1:t.index>r.index?1:0},EmptyStat=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},clear=function(){l.length=0,t=new EmptyStat,l[r.ALT]=new EmptyStat,l[r.CAT]=new EmptyStat,l[r.REP]=new EmptyStat,l[r.RNM]=new EmptyStat,l[r.TRG]=new EmptyStat,l[r.TBS]=new EmptyStat,l[r.TLS]=new EmptyStat,l[r.UDT]=new EmptyStat,l[r.AND]=new EmptyStat,l[r.NOT]=new EmptyStat,l[r.BKR]=new EmptyStat,l[r.BKA]=new EmptyStat,l[r.BKN]=new EmptyStat,l[r.ABG]=new EmptyStat,l[r.AEN]=new EmptyStat,c.length=0;for(let t=0;t<o.length;t+=1)c.push({empty:0,match:0,nomatch:0,total:0,name:o[t].name,lower:o[t].lower,index:o[t].index});if(a.length>0){h.length=0;for(let t=0;t<a.length;t+=1)h.push({empty:0,match:0,nomatch:0,total:0,name:a[t].name,lower:a[t].lower,index:a[t].index})}},incStat=function(t,s){switch(t.total+=1,s){case r.EMPTY:t.empty+=1;break;case r.MATCH:t.match+=1;break;case r.NOMATCH:t.nomatch+=1;break;default:throw Error(`stats.js: collect(): incStat(): unrecognized state: ${s}`)}},displayRow=function(t,r){return`<tr><td class="${i.CLASS_ACTIVE}">${t}</td><td class="${i.CLASS_EMPTY}">${r.empty}</td><td class="${i.CLASS_MATCH}">${r.match}</td><td class="${i.CLASS_NOMATCH}">${r.nomatch}</td><td class="${i.CLASS_ACTIVE}">${r.total}</td></tr>
`},displayOpsOnly=function(){return""+(displayRow("ALT",l[r.ALT])+displayRow("CAT",l[r.CAT])+displayRow("REP",l[r.REP])+displayRow("RNM",l[r.RNM])+displayRow("TRG",l[r.TRG])+displayRow("TBS",l[r.TBS])+displayRow("TLS",l[r.TLS])+displayRow("UDT",l[r.UDT])+displayRow("AND",l[r.AND])+displayRow("NOT",l[r.NOT])+displayRow("BKR",l[r.BKR])+displayRow("BKA",l[r.BKA])+displayRow("BKN",l[r.BKN])+displayRow("ABG",l[r.ABG])+displayRow("AEN",l[r.AEN])+displayRow("totals",t))},displayRules=function(){let t="";t+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>\n";for(let r=0;r<o.length;r+=1)c[r].total>0&&(t+=`<tr><td class="${i.CLASS_ACTIVE}">${c[r].name}</td><td class="${i.CLASS_EMPTY}">${c[r].empty}</td><td class="${i.CLASS_MATCH}">${c[r].match}</td><td class="${i.CLASS_NOMATCH}">${c[r].nomatch}</td><td class="${i.CLASS_ACTIVE}">${c[r].total}</td></tr>
`);if(a.length>0){t+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>\n";for(let r=0;r<a.length;r+=1)h[r].total>0&&(t+=`<tr><td class="${i.CLASS_ACTIVE}">${h[r].name}</td><td class="${i.CLASS_EMPTY}">${h[r].empty}</td><td class="${i.CLASS_MATCH}">${h[r].match}</td><td class="${i.CLASS_NOMATCH}">${h[r].nomatch}</td><td class="${i.CLASS_ACTIVE}">${h[r].total}</td></tr>
`)}return t};this.validate=function(t){let r=!1;return"string"==typeof t&&"stats"===t&&(r=!0),r},this.init=function(t,r){o=t,a=r,clear()},this.collect=function(s,n){incStat(t,n.state,n.phraseLength),incStat(l[s.type],n.state,n.phraseLength),s.type===r.RNM&&incStat(c[s.index],n.state,n.phraseLength),s.type===r.UDT&&incStat(h[s.index],n.state,n.phraseLength)},this.toHtml=function(t,r){let s="";for(s+=`<table class="${i.CLASS_STATS}">
`,"string"==typeof r&&(s+=`<caption>${r}</caption>
`),s+=`<tr><th class="${i.CLASS_ACTIVE}">ops</th>
<th class="${i.CLASS_EMPTY}">EMPTY</th>
<th class="${i.CLASS_MATCH}">MATCH</th>
<th class="${i.CLASS_NOMATCH}">NOMATCH</th>
<th class="${i.CLASS_ACTIVE}">totals</th></tr>
`;;){if(null==t||"ops"===t){s+=displayOpsOnly();break}if("index"===t){c.sort(sortIndex),h.length>0&&h.sort(sortIndex),s+=displayOpsOnly()+displayRules();break}if("hits"===t){c.sort(sortHits),h.length>0&&h.sort(sortIndex),s+=displayOpsOnly()+displayRules();break}"alpha"===t&&(c.sort(sortAlpha),h.length>0&&h.sort(sortAlpha),s+=displayOpsOnly()+displayRules());break}return s+"</table>\n"},this.toHtmlPage=function(t,r,s){return n.htmlToPage(this.toHtml(t,r),s)}}},96315:function(t){t.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}},86985:function(t,r,s){t.exports=function(){let t=s(59804),r=s(96315),n=new(s(4599)),i=s(33874),o="trace.js: ",a=this,l=[],c=5e3,h=-1,d=0,u=0,m=[],g=null,T=null,E=null,A=[],x=[],k=`<span class="${r.CLASS_LINEEND}">&bull;</span>`,C=`<span class="${r.CLASS_LINEEND}">&hellip;</span>`,w=`<span class="${r.CLASS_EMPTY}">&#120634;</span>`,initOperatorFilter=function(){let setOperators=function(t){A[i.ALT]=t,A[i.CAT]=t,A[i.REP]=t,A[i.TLS]=t,A[i.TBS]=t,A[i.TRG]=t,A[i.AND]=t,A[i.NOT]=t,A[i.BKR]=t,A[i.BKA]=t,A[i.BKN]=t,A[i.ABG]=t,A[i.AEN]=t},t=0;for(let r in a.filter.operators)t+=1;if(0===t){setOperators(!1);return}for(let t in a.filter.operators){let r=t.toUpperCase();if("<ALL>"===r){setOperators(!0);return}if("<NONE>"===r){setOperators(!1);return}}for(let t in setOperators(!1),a.filter.operators){let r=t.toUpperCase();if("ALT"===r)A[i.ALT]=!0===a.filter.operators[t];else if("CAT"===r)A[i.CAT]=!0===a.filter.operators[t];else if("REP"===r)A[i.REP]=!0===a.filter.operators[t];else if("AND"===r)A[i.AND]=!0===a.filter.operators[t];else if("NOT"===r)A[i.NOT]=!0===a.filter.operators[t];else if("TLS"===r)A[i.TLS]=!0===a.filter.operators[t];else if("TBS"===r)A[i.TBS]=!0===a.filter.operators[t];else if("TRG"===r)A[i.TRG]=!0===a.filter.operators[t];else if("BKR"===r)A[i.BKR]=!0===a.filter.operators[t];else if("BKA"===r)A[i.BKA]=!0===a.filter.operators[t];else if("BKN"===r)A[i.BKN]=!0===a.filter.operators[t];else if("ABG"===r)A[i.ABG]=!0===a.filter.operators[t];else if("AEN"===r)A[i.AEN]=!0===a.filter.operators[t];else throw Error(`${o}initOpratorFilter: '${t}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`)}},initRuleFilter=function(){let t,r;let setRules=function(t){A[i.RNM]=t,A[i.UDT]=t;let r=T.length+E.length;x.length=0;for(let s=0;s<r;s+=1)x.push(t)},s=[];for(r=0;r<T.length;r+=1)s.push(T[r].lower);for(r=0;r<E.length;r+=1)s.push(E[r].lower);for(let r in x.length=0,t=0,a.filter.rules)t+=1;if(0===t){setRules(!0);return}for(let t in a.filter.rules){let r=t.toLowerCase();if("<all>"===r){setRules(!0);return}if("<none>"===r){setRules(!1);return}}for(let t in setRules(!1),A[i.RNM]=!0,A[i.UDT]=!0,a.filter.rules){let n=t.toLowerCase();if((r=s.indexOf(n))<0)throw Error(`${o}initRuleFilter: '${t}' not a valid rule or udt name`);x[r]=!0===a.filter.rules[t]}};this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(t,r){if(h=-1,"number"==typeof t&&t>0)c=Math.ceil(t);else{c=0;return}"number"==typeof r&&(h=Math.floor(r))<0&&(h=-1)},this.getMaxRecords=function(){return c},this.getLastRecord=function(){return h},this.init=function(t,r,s){l.length=0,m.length=0,d=0,u=0,g=s,T=t,E=r,initOperatorFilter(),initRuleFilter(),n.init(c)};let filterOps=function(t){return t.type===i.RNM?!!A[t.type]&&!!x[t.index]:t.type===i.UDT?!!A[t.type]&&!!x[T.length+t.index]:A[t.type]},filterRecords=function(t){return -1===h||t<=h};this.down=function(t,r,s,i,o,a){filterRecords(d)&&filterOps(t)&&(m.push(d),l[n.increment()]={dirUp:!1,depth:u,thisLine:d,thatLine:void 0,opcode:t,state:r,phraseIndex:s,phraseLength:i,lookAnchor:o,lookAround:a},d+=1,u+=1)},this.up=function(t,r,s,i,o,a){if(filterRecords(d)&&filterOps(t)){let c=d,h=m.pop(),g=n.getListIndex(h);-1!==g&&(l[g].thatLine=c),u-=1,l[n.increment()]={dirUp:!0,depth:u,thisLine:c,thatLine:h,opcode:t,state:r,phraseIndex:s,phraseLength:i,lookAnchor:o,lookAround:a},d+=1}};let toTreeObj=function(){let r,s,o,a,c;function nodeOpcode(r,s){let n,o,a;if(s)switch(r.op={id:s.type,name:t.opcodeToString(s.type)},r.opData=void 0,s.type){case i.RNM:r.opData=T[s.index].name;break;case i.UDT:r.opData=E[s.index].name;break;case i.BKR:n=s.index<T.length?T[s.index].name:E[s.index-T.length].name,o=s.bkrCase===i.BKR_MODE_CI?"%i":"%s",a=s.bkrMode===i.BKR_MODE_UM?"%u":"%p",r.opData=`\\\\${o}${a}${n}`;break;case i.TLS:r.opData=[];for(let t=0;t<s.string.length;t+=1)r.opData.push(s.string[t]);break;case i.TBS:r.opData=[];for(let t=0;t<s.string.length;t+=1)r.opData.push(s.string[t]);break;case i.TRG:case i.REP:r.opData=[s.min,s.max];break;default:throw Error("unrecognized opcode")}else r.op={id:void 0,name:void 0},r.opData=void 0}function nodePhrase(t,r,s){return t===i.MATCH?{index:r,length:s}:t===i.NOMATCH||t===i.EMPTY?{index:r,length:0}:null}let h=-1;function nodeDown(r,s,n){let i={id:h++,branch:-1,parent:r,up:!1,down:!1,depth:n,children:[]};return s?(i.down=!0,i.state={id:s.state,name:t.stateToString(s.state)},i.phrase=null,nodeOpcode(i,s.opcode)):(i.state={id:void 0,name:void 0},i.phrase=nodePhrase(),nodeOpcode(i,void 0)),i}function nodeUp(r,s){s&&(r.up=!0,r.state={id:s.state,name:t.stateToString(s.state)},r.phrase=nodePhrase(s.state,s.phraseIndex,s.phraseLength),r.down||nodeOpcode(r,s.opcode))}let d=0,m=-1,A=1,x=[],k=!0,C=nodeDown(null,null,-1);for(x.push(C),s=C,n.forEach(t=>{if(a=l[t],k&&(k=!1,a.depth>0)){let t=a.dirUp?a.depth+1:a.depth;for(let r=0;r<t;r+=1)o=s,s=nodeDown(s,null,r),x.push(s),o.children.push(s)}a.dirUp?(nodeUp(s=x.pop(),a),s=x[x.length-1]):(o=s,s=nodeDown(s,a,a.depth),x.push(s),o.children.push(s))});x.length>1;)nodeUp(s=x.pop(),null);if(0===C.children.length)throw Error("trace.toTree(): parse tree has no nodes");if(0===x.length)throw Error("trace.toTree(): integrity check: dummy root node disappeared?");let w=r=C.children[0];for(;r&&!r.down&&!r.up;)w=r,r=r.children[0];(r=w).leftMost=!0,r.rightMost=!0,function walk(t){if(m+=1,t.branch=A,m>u&&(u=m),0===t.children.length)d+=1;else for(let r=0;r<t.children.length;r+=1)r>0&&(A+=1),t.children[r].leftMost=!1,t.children[r].rightMost=!1,t.leftMost&&(t.children[r].leftMost=0===r),t.rightMost&&(t.children[r].rightMost=r===t.children.length-1),walk(t.children[r]);m-=1}(r),r.branch=0;let M={};M.string=[];for(let t=0;t<g.length;t+=1)M.string[t]=g[t];M.rules=[];for(let t=0;t<T.length;t+=1)M.rules[t]=T[t].name;M.udts=[];for(let t=0;t<E.length;t+=1)M.udts[t]=E[t].name;return M.id={},M.id.ALT={id:i.ALT,name:"ALT"},M.id.CAT={id:i.CAT,name:"CAT"},M.id.REP={id:i.REP,name:"REP"},M.id.RNM={id:i.RNM,name:"RNM"},M.id.TLS={id:i.TLS,name:"TLS"},M.id.TBS={id:i.TBS,name:"TBS"},M.id.TRG={id:i.TRG,name:"TRG"},M.id.UDT={id:i.UDT,name:"UDT"},M.id.AND={id:i.AND,name:"AND"},M.id.NOT={id:i.NOT,name:"NOT"},M.id.BKR={id:i.BKR,name:"BKR"},M.id.BKA={id:i.BKA,name:"BKA"},M.id.BKN={id:i.BKN,name:"BKN"},M.id.ABG={id:i.ABG,name:"ABG"},M.id.AEN={id:i.AEN,name:"AEN"},M.id.ACTIVE={id:i.ACTIVE,name:"ACTIVE"},M.id.MATCH={id:i.MATCH,name:"MATCH"},M.id.EMPTY={id:i.EMPTY,name:"EMPTY"},M.id.NOMATCH={id:i.NOMATCH,name:"NOMATCH"},M.treeDepth=u,M.leafNodes=d,c=r.down?r.up?"none":"right":r.up?"left":"both",M.branchesIncomplete=c,M.tree=function display(t,r){let s;let n={};if(n.id=t.id,n.branch=t.branch,n.leftMost=t.leftMost,n.rightMost=t.rightMost,s=t.state.name?t.state.name:"ACTIVE",n.state={id:t.state.id,name:s},s=t.op.name?t.op.name:"?",n.op={id:t.op.id,name:s},"string"==typeof t.opData)n.opData=t.opData;else if(Array.isArray(t.opData)){n.opData=[];for(let r=0;r<t.opData.length;r+=1)n.opData[r]=t.opData[r]}else n.opData=void 0;t.phrase?n.phrase={index:t.phrase.index,length:t.phrase.length}:n.phrase=null,n.depth=t.depth,n.children=[];for(let s=0;s<t.children.length;s+=1){let i=s!==t.children.length-1;n.children[s]=display(t.children[s],r,i)}return n}(r,r.depth,!1),M};this.toTree=function(t){let r=toTreeObj();return t?JSON.stringify(r):r},this.toHtmlPage=function(r,s,n){return t.htmlToPage(this.toHtml(r,s),n)};let htmlHeader=function(t,s){let n;switch(t){case 16:n="hexadecimal";break;case 10:n="decimal";break;case 8:n="ASCII";break;case 32:n="UNICODE";break;default:throw Error(`${o}htmlHeader: unrecognized mode: ${t}`)}let i="";return i+=`<p>display mode: ${n}</p>
<table class="${r.CLASS_TRACE}">
`,"string"==typeof s&&(i+=`<caption>${s}</caption>`),i};this.indent=function(t){let r="";for(let s=0;s<t;s+=1)r+=".";return r};let displayTrg=function(t,r){let s="";if(r.type===i.TRG){if(16===t||32===t){let n=r.min.toString(16).toUpperCase();n.length%2!=0&&(n=`0${n}`),s+=(16===t?"%x":"U+")+n,(n=r.max.toString(16).toUpperCase()).length%2!=0&&(n=`0${n}`),s+=`&ndash;${n}`}else s=`%d${r.min.toString(10)}&ndash;${r.max.toString(10)}`}return s},displayRep=function(t,r){let s="";if(r.type===i.REP){if(16===t){let t=r.min.toString(16).toUpperCase();t.length%2!=0&&(t=`0${t}`),s=`x${t}`,r.max<1/0?(t=r.max.toString(16).toUpperCase()).length%2!=0&&(t=`0${t}`):t="inf",s+=`&ndash;${t}`}else s=r.max<1/0?`${r.min.toString(10)}&ndash;${r.max.toString(10)}`:`${r.min.toString(10)}&ndash;inf`}return s},displayTbs=function(t,r){let s="";if(r.type===i.TBS){let n=Math.min(r.string.length,10);if(16===t||32===t){s+=16===t?"%x":"U+";for(let t=0;t<n;t+=1){let n;t>0&&(s+="."),(n=r.string[t].toString(16).toUpperCase()).length%2!=0&&(n=`0${n}`),s+=n}}else{s="%d";for(let t=0;t<n;t+=1)t>0&&(s+="."),s+=r.string[t].toString(10)}n<r.string.length&&(s+=C)}return s},displayTls=function(r,s){let n="";if(s.type===i.TLS){let i=Math.min(s.string.length,5);if(16===r||10===r){let t,o,a;16===r?(n="%x",a=16):(n="%d",a=10);for(let r=0;r<i;r+=1)r>0&&(n+="."),(o=s.string[r])>=97&&o<=122?(t=o-32,n+=`${t.toString(a)}/${o.toString(a)}`.toUpperCase()):o>=65&&o<=90?(t=o,o+=32,n+=`${t.toString(a)}/${o.toString(a)}`.toUpperCase()):n+=o.toString(a).toUpperCase();i<s.string.length&&(n+=C)}else{n='"';for(let r=0;r<i;r+=1)n+=t.asciiChars[s.string[r]];i<s.string.length&&(n+=C),n+='"'}}return n},subPhrase=function(r,s,n,i,o){if(0===i)return"";let a="",l=o?",":"";switch(r){case 16:a=l+t.charsToHex(s,n,i);break;case 10:if(o)return`,${t.charsToDec(s,n,i)}`;a=l+t.charsToDec(s,n,i);break;case 32:a=t.charsToUnicode(s,n,i);break;default:a=t.charsToAsciiHtml(s,n,i)}return a},displayBehind=function(t,s,n,o,a,l){let c,h,d,u,m="",g=k,T=`<span class="${r.CLASS_LOOKBEHIND}">`,E=`<span class="${r.CLASS_REMAINDER}">`,A="</span>",x=!1;switch(n){case i.EMPTY:m+=w;case i.NOMATCH:case i.MATCH:case i.ACTIVE:h=l-(c=o-a),d=l,u=s.length-d;break;default:throw Error("unrecognized state")}return g=k,h>80?(h=80,g=C,u=0):h+u>80&&(g=C,u=80-h),h>0&&(m+=T+subPhrase(t,s,c,h,x)+A,x=!0),u>0&&(m+=E+subPhrase(t,s,d,u,x)+A),m+g},displayForward=function(t,s,n,o,a,l){let c,h,d,u,m="",g=k,T=`<span class="${r.CLASS_REMAINDER}">`,E="</span>",A=!1;switch(n){case i.EMPTY:m+=w;case i.NOMATCH:case i.ACTIVE:c=o,h=0,d=o,u=s.length-d;break;case i.MATCH:c=o,d=o+(h=a),u=s.length-d;break;default:throw Error("unrecognized state")}return g=k,h>80?(h=80,g=C,u=0):h+u>80&&(g=C,u=80-h),h>0&&(m+=l+subPhrase(t,s,c,h,A)+E,A=!0),u>0&&(m+=T+subPhrase(t,s,d,u,A)+E),m+g},displayAhead=function(t,s,n,i,o){let a=`<span class="${r.CLASS_LOOKAHEAD}">`;return displayForward(t,s,n,i,o,a)},displayNone=function(t,s,n,i,o){let a=`<span class="${r.CLASS_MATCH}">`;return displayForward(t,s,n,i,o,a)},htmlTable=function(s){let o,c,h,d,u,m;if(null===T)return"";let A="";return A+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th><th>operator</th><th>phrase</th></tr>\n",n.forEach(n=>{let x=l[n];switch(o=x.thisLine,c=void 0!==x.thatLine?x.thatLine:"--",h=!1,d=!1,u=!1,x.lookAround===i.LOOKAROUND_AHEAD&&(h=!0,u=!0,m=x.lookAnchor),(x.opcode.type===i.AND||x.opcode.type===i.NOT)&&(h=!0,u=!0,m=x.phraseIndex),x.lookAround===i.LOOKAROUND_BEHIND&&(d=!0,u=!0,m=x.lookAnchor),(x.opcode.type===i.BKA||x.opcode.type===i.BKN)&&(d=!0,u=!0,m=x.phraseIndex),A+=`<tr><td>${o}</td><td>${c}</td><td>${x.phraseIndex}</td><td>${x.phraseLength}</td><td>${x.depth}</td><td>`,x.state){case i.ACTIVE:A+=`<span class="${r.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case i.MATCH:A+=`<span class="${r.CLASS_MATCH}">&uarr;M</span>`;break;case i.NOMATCH:A+=`<span class="${r.CLASS_NOMATCH}">&uarr;N</span>`;break;case i.EMPTY:A+=`<span class="${r.CLASS_EMPTY}">&uarr;E</span>`;break;default:A+=`<span class="${r.CLASS_ACTIVE}">--</span>`}if(A+="</td><td>"+a.indent(x.depth),h?A+=`<span class="${r.CLASS_LOOKAHEAD}">`:d&&(A+=`<span class="${r.CLASS_LOOKBEHIND}">`),A+=t.opcodeToString(x.opcode.type),x.opcode.type===i.RNM&&(A+=`(${T[x.opcode.index].name}) `),x.opcode.type===i.BKR){let t=x.opcode.bkrCase===i.BKR_MODE_CI?"%i":"%s",r=x.opcode.bkrMode===i.BKR_MODE_UM?"%u":"%p";A+=`(\\${t}${r}${T[x.opcode.index].name}) `}x.opcode.type===i.UDT&&(A+=`(${E[x.opcode.index].name}) `),x.opcode.type===i.TRG&&(A+=`(${displayTrg(s,x.opcode)}) `),x.opcode.type===i.TBS&&(A+=`(${displayTbs(s,x.opcode)}) `),x.opcode.type===i.TLS&&(A+=`(${displayTls(s,x.opcode)}) `),x.opcode.type===i.REP&&(A+=`(${displayRep(s,x.opcode)}) `),u&&(A+="</span>"),A+="</td><td>",d?A+=displayBehind(s,g,x.state,x.phraseIndex,x.phraseLength,m):h?A+=displayAhead(s,g,x.state,x.phraseIndex,x.phraseLength):A+=displayNone(s,g,x.state,x.phraseIndex,x.phraseLength),A+="</td></tr>\n"}),A+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th><th>operator</th><th>phrase</th></tr>\n</table>\n"};this.toHtml=function(t,s){let n=8;if("string"==typeof t&&t.length>=3){let r=t.toLowerCase().slice(0,3);"hex"===r?n=16:"dec"===r?n=10:"uni"===r&&(n=32)}return htmlHeader(n,s)+htmlTable(n)+""+`</table>
<p class="${r.CLASS_MONOSPACE}">legend:<br>
(a)&nbsp;-&nbsp;line number<br>
(b)&nbsp;-&nbsp;matching line number<br>
(c)&nbsp;-&nbsp;phrase offset<br>
(d)&nbsp;-&nbsp;phrase length<br>
(e)&nbsp;-&nbsp;tree depth<br>
(f)&nbsp;-&nbsp;operator state<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_MATCH}">&uarr;M</span> phrase matched<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>
operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>
phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_MATCH}">matched characters</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${r.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${w} empty string<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${k} end of input string<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${C} input string display truncated<br>
</p>
<p class="${r.CLASS_MONOSPACE}">
<sup>&dagger;</sup>original ABNF operators:<br>
ALT - alternation<br>
CAT - concatenation<br>
REP - repetition<br>
RNM - rule name<br>
TRG - terminal range<br>
TLS - terminal literal string (case insensitive)<br>
TBS - terminal binary string (case sensitive)<br>
<br>
<sup>&Dagger;</sup>super set SABNF operators:<br>
UDT - user-defined terminal<br>
AND - positive look ahead<br>
NOT - negative look ahead<br>
BKA - positive look behind<br>
BKN - negative look behind<br>
BKR - back reference<br>
ABG - anchor - begin of input string<br>
AEN - anchor - end of input string<br>
</p>
`}}},59804:function(t,r,s){let n=s(96315),i=s(62803),o=s(59058),a=s(33874),l="utilities.js: ",getBounds=function(t,r,s){let n;let i=r;for(;;){if(t<=0){i=0,n=0;break}if("number"!=typeof i){i=0,n=t;break}if(i>=t){i=t,n=t;break}if("number"!=typeof s){n=t;break}(n=i+s)>t&&(n=t);break}return{beg:i,end:n}};r.htmlToPage=function(t,r){if("string"!=typeof t)throw Error(`${l}htmlToPage: input HTML is not a string`);return`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>${"string"!=typeof r?"htmlToPage":r}</title>
<style>
`+o()+"</style>\n</head>\n<body>\n"+`<p>${new Date}</p>
`+t+"</body>\n</html>\n"},r.parserResultToHtml=function(t,r){let s,i,o=null;"string"==typeof r&&""!==r&&(o=r),s=!0===t.success?`<span class="${n.CLASS_MATCH}">true</span>`:`<span class="${n.CLASS_NOMATCH}">false</span>`,i=t.state===a.EMPTY?`<span class="${n.CLASS_EMPTY}">EMPTY</span>`:t.state===a.MATCH?`<span class="${n.CLASS_MATCH}">MATCH</span>`:t.state===a.NOMATCH?`<span class="${n.CLASS_NOMATCH}">NOMATCH</span>`:`<span class="${n.CLASS_NOMATCH}">unrecognized</span>`;let l="";return l+=`<table class="${n.CLASS_STATE}">
`,o&&(l+=`<caption>${o}</caption>
`),l+=`<tr><th>state item</th><th>value</th><th>description</th></tr>
<tr><td>parser success</td><td>${s}</td>
<td><span class="${n.CLASS_MATCH}">true</span> if the parse succeeded,
 <span class="${n.CLASS_NOMATCH}">false</span> otherwise<br><i>NOTE: for success, entire string must be matched</i></td></tr>
<tr><td>parser state</td><td>${i}</td>
<td><span class="${n.CLASS_EMPTY}">EMPTY</span>, <span class="${n.CLASS_MATCH}">MATCH</span> or 
<span class="${n.CLASS_NOMATCH}">NOMATCH</span></td></tr>
<tr><td>string length</td><td>${t.length}</td><td>length of the input (sub)string</td></tr>
<tr><td>matched length</td><td>${t.matched}</td><td>number of input string characters matched</td></tr>
<tr><td>max matched</td><td>${t.maxMatched}</td><td>maximum number of input string characters matched</td></tr>
<tr><td>max tree depth</td><td>${t.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>
<tr><td>node hits</td><td>${t.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>
<tr><td>input length</td><td>${t.inputLength}</td><td>length of full input string</td></tr>
<tr><td>sub-string begin</td><td>${t.subBegin}</td><td>sub-string first character index</td></tr>
<tr><td>sub-string end</td><td>${t.subEnd}</td><td>sub-string end-of-string index</td></tr>
<tr><td>sub-string length</td><td>${t.subLength}</td><td>sub-string length</td></tr>
</table>
`},r.charsToString=function(t,r,s){let n,o;if("number"==typeof r){if(r>=t.length)return"";n=r<0?0:r}else n=0;if("number"==typeof s){if(s<=0)return"";o=s>t.length-n?t.length:n+s}else o=t.length;return n<o?i.encode("UTF16LE",t.slice(n,o)).toString("utf16le"):""},r.stringToChars=function(t){return i.decode("STRING",t)},r.opcodeToString=function(t){let r="unknown";switch(t){case a.ALT:r="ALT";break;case a.CAT:r="CAT";break;case a.RNM:r="RNM";break;case a.UDT:r="UDT";break;case a.AND:r="AND";break;case a.NOT:r="NOT";break;case a.REP:r="REP";break;case a.TRG:r="TRG";break;case a.TBS:r="TBS";break;case a.TLS:r="TLS";break;case a.BKR:r="BKR";break;case a.BKA:r="BKA";break;case a.BKN:r="BKN";break;case a.ABG:r="ABG";break;case a.AEN:r="AEN";break;default:throw Error("unrecognized opcode")}return r},r.stateToString=function(t){let r="unknown";switch(t){case a.ACTIVE:r="ACTIVE";break;case a.MATCH:r="MATCH";break;case a.EMPTY:r="EMPTY";break;case a.NOMATCH:r="NOMATCH";break;default:throw Error("unrecognized state")}return r},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(t){let r=t.toString(16).toUpperCase();switch(r.length){case 1:case 3:case 7:r=`0${r}`;break;case 2:case 6:r=`00${r}`;break;case 4:break;case 5:r=`000${r}`;break;default:throw Error("unrecognized option")}return r},r.charsToDec=function(t,r,s){let n="";if(!Array.isArray(t))throw Error(`${l}charsToDec: input must be an array of integers`);let i=getBounds(t.length,r,s);if(i.end>i.beg){n+=t[i.beg];for(let r=i.beg+1;r<i.end;r+=1)n+=`,${t[r]}`}return n},r.charsToHex=function(t,s,n){let i="";if(!Array.isArray(t))throw Error(`${l}charsToHex: input must be an array of integers`);let o=getBounds(t.length,s,n);if(o.end>o.beg){i+=`\\x${r.charToHex(t[o.beg])}`;for(let s=o.beg+1;s<o.end;s+=1)i+=`,\\x${r.charToHex(t[s])}`}return i},r.charsToHtmlEntities=function(t,r,s){let n="";if(!Array.isArray(t))throw Error(`${l}charsToHex: input must be an array of integers`);let i=getBounds(t.length,r,s);if(i.end>i.beg)for(let r=i.beg;r<i.end;r+=1)n+=`&#x${t[r].toString(16)};`;return n},r.charsToUnicode=function(t,s,n){let i="";if(!Array.isArray(t))throw Error(`${l}charsToUnicode: input must be an array of integers`);let o=getBounds(t.length,s,n);if(o.end>o.beg)for(let s=o.beg;s<o.end;s+=1){var a;((a=t[s])>=55296&&a<=57343||a>1114111?1:0)?i+=` U+${r.charToHex(t[s])}`:i+=`&#${t[s]};`}return i},r.charsToJsUnicode=function(t,s,n){let i="";if(!Array.isArray(t))throw Error(`${l}charsToJsUnicode: input must be an array of integers`);let o=getBounds(t.length,s,n);if(o.end>o.beg){i+=`\\u${r.charToHex(t[o.beg])}`;for(let s=o.beg+1;s<o.end;s+=1)i+=`,\\u${r.charToHex(t[s])}`}return i},r.charsToAscii=function(t,s,n){let i="";if(!Array.isArray(t))throw Error(`${l}charsToAscii: input must be an array of integers`);let o=getBounds(t.length,s,n);for(let s=o.beg;s<o.end;s+=1){let n=t[s];n>=32&&n<=126?i+=String.fromCharCode(n):i+=`\\x${r.charToHex(n)}`}return i},r.charsToAsciiHtml=function(t,s,i){let o;if(!Array.isArray(t))throw Error(`${l}charsToAsciiHtml: input must be an array of integers`);let a="",c=getBounds(t.length,s,i);for(let s=c.beg;s<c.end;s+=1)(o=t[s])<32||127===o?a+=`<span class="${n.CLASS_CTRLCHAR}">${r.asciiChars[o]}</span>`:o>127?a+=`<span class="${n.CLASS_CTRLCHAR}">U+${r.charToHex(o)}</span>`:a+=r.asciiChars[o];return a},r.stringToAsciiHtml=function(t){let r=i.decode("STRING",t);return this.charsToAsciiHtml(r)}},93088:function(t,r,s){"use strict";s.d(r,{Z:function(){return i}});var n=s(23289);let i=(0,n.Z)("Moon",[["path",{d:"M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"1rit1i"}]])},13239:function(t,r,s){"use strict";s.d(r,{Z:function(){return i}});var n=s(23289);let i=(0,n.Z)("SunMedium",[["path",{d:"M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z",key:"1r4kox"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]])},44135:function(t,r,s){"use strict";s.d(r,{Z:function(){return i}});var n=s(23289);let i=(0,n.Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},6435:function(t,r,s){"use strict";s.d(r,{F:function(){return y},f:function(){return $}});var n=s(2265);let i=["light","dark"],o="(prefers-color-scheme: dark)",a="undefined"==typeof window,l=(0,n.createContext)(void 0),c={setTheme:t=>{},themes:[]},y=()=>{var t;return null!==(t=(0,n.useContext)(l))&&void 0!==t?t:c},$=t=>(0,n.useContext)(l)?n.createElement(n.Fragment,null,t.children):n.createElement(f,t),h=["light","dark"],f=({forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:s=!0,enableColorScheme:a=!0,storageKey:c="theme",themes:u=h,defaultTheme:m=s?"system":"light",attribute:g="data-theme",value:T,children:E,nonce:A})=>{let[x,k]=(0,n.useState)(()=>S(c,m)),[C,w]=(0,n.useState)(()=>S(c)),M=T?Object.values(T):u,O=(0,n.useCallback)(t=>{let n=t;if(!n)return;"system"===t&&s&&(n=p());let o=T?T[n]:n,l=r?b():null,c=document.documentElement;if("class"===g?(c.classList.remove(...M),o&&c.classList.add(o)):o?c.setAttribute(g,o):c.removeAttribute(g),a){let t=i.includes(m)?m:null,r=i.includes(n)?n:t;c.style.colorScheme=r}null==l||l()},[]),L=(0,n.useCallback)(t=>{k(t);try{localStorage.setItem(c,t)}catch(t){}},[t]),N=(0,n.useCallback)(r=>{let n=p(r);w(n),"system"===x&&s&&!t&&O("system")},[x,t]);(0,n.useEffect)(()=>{let t=window.matchMedia(o);return t.addListener(N),N(t),()=>t.removeListener(N)},[N]),(0,n.useEffect)(()=>{let e=t=>{t.key===c&&L(t.newValue||m)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[L]),(0,n.useEffect)(()=>{O(null!=t?t:x)},[t,x]);let R=(0,n.useMemo)(()=>({theme:x,setTheme:L,forcedTheme:t,resolvedTheme:"system"===x?C:x,themes:s?[...u,"system"]:u,systemTheme:s?C:void 0}),[x,L,t,C,s,u]);return n.createElement(l.Provider,{value:R},n.createElement(d,{forcedTheme:t,disableTransitionOnChange:r,enableSystem:s,enableColorScheme:a,storageKey:c,themes:u,defaultTheme:m,attribute:g,value:T,children:E,attrs:M,nonce:A}),E)},d=(0,n.memo)(({forcedTheme:t,storageKey:r,attribute:s,enableSystem:a,enableColorScheme:l,defaultTheme:c,value:h,attrs:d,nonce:u})=>{let m="system"===c,g="class"===s?`var d=document.documentElement,c=d.classList;c.remove(${d.map(t=>`'${t}'`).join(",")});`:`var d=document.documentElement,n='${s}',s='setAttribute';`,T=l?i.includes(c)&&c?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${c}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",$=(t,r=!1,n=!0)=>{let o=h?h[t]:t,a=r?t+"|| ''":`'${o}'`,c="";return l&&n&&!r&&i.includes(t)&&(c+=`d.style.colorScheme = '${t}';`),"class"===s?c+=r||o?`c.add(${a})`:"null":o&&(c+=`d[s](n,${a})`),c},E=t?`!function(){${g}${$(t)}}()`:a?`!function(){try{${g}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${m})){var t='${o}',m=window.matchMedia(t);if(m.media!==t||m.matches){${$("dark")}}else{${$("light")}}}else if(e){${h?`var x=${JSON.stringify(h)};`:""}${$(h?"x[e]":"e",!0)}}${m?"":"else{"+$(c,!1,!1)+"}"}${T}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${r}');if(e){${h?`var x=${JSON.stringify(h)};`:""}${$(h?"x[e]":"e",!0)}}else{${$(c,!1,!1)};}${T}}catch(t){}}();`;return n.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:E}})},()=>!0),S=(t,r)=>{let s;if(!a){try{s=localStorage.getItem(t)||void 0}catch(t){}return s||r}},b=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},p=t=>(t||(t=window.matchMedia(o)),t.matches?"dark":"light")},60602:function(){},53978:function(){},62067:function(t){t.exports={style:{fontFamily:"'__Inter_e66fe9', '__Inter_Fallback_e66fe9'",fontStyle:"normal"},className:"__className_e66fe9",variable:"__variable_e66fe9"}},35983:function(t){t.exports={style:{fontFamily:"'__JetBrains_Mono_bd9c35', '__JetBrains_Mono_Fallback_bd9c35'",fontStyle:"normal"},className:"__className_bd9c35",variable:"__variable_bd9c35"}},29474:function(t,r,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,r,s,n){void 0===n&&(n=s);var i=Object.getOwnPropertyDescriptor(r,s);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[s]}}),Object.defineProperty(t,n,i)}:function(t,r,s,n){void 0===n&&(n=s),t[n]=r[s]}),i=this&&this.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var s in t)"default"!==s&&Object.prototype.hasOwnProperty.call(t,s)&&n(r,t,s);return i(r,t),r},a=this&&this.__awaiter||function(t,r,s,n){return new(s||(s=Promise))(function(i,o){function fulfilled(t){try{step(n.next(t))}catch(t){o(t)}}function rejected(t){try{step(n.throw(t))}catch(t){o(t)}}function step(t){var r;t.done?i(t.value):((r=t.value)instanceof s?r:new s(function(t){t(r)})).then(fulfilled,rejected)}step((n=n.apply(t,r||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.SiweMessage=void 0;let l=s(22484),c=o(s(48621)),h=s(78445),d=s(82617),u=s(22684);r.SiweMessage=class{constructor(t){if("string"==typeof t){let r=new l.ParsedMessage(t);this.domain=r.domain,this.address=r.address,this.statement=r.statement,this.uri=r.uri,this.version=r.version,this.nonce=r.nonce,this.issuedAt=r.issuedAt,this.expirationTime=r.expirationTime,this.notBefore=r.notBefore,this.requestId=r.requestId,this.chainId=r.chainId,this.resources=r.resources}else Object.assign(this,t),"string"==typeof this.chainId&&(this.chainId=(0,l.parseIntegerNumber)(this.chainId));this.nonce=this.nonce||(0,u.generateNonce)(),this.validateMessage()}toMessage(){this.validateMessage();let t=`${this.domain} wants you to sign in with your Ethereum account:`,r=`URI: ${this.uri}`,s=[t,this.address].join("\n"),n=`Version: ${this.version}`;this.nonce||(this.nonce=(0,u.generateNonce)());let i="Chain ID: "+this.chainId,o=`Nonce: ${this.nonce}`,a=[r,n,i,o];if(this.issuedAt=this.issuedAt||new Date().toISOString(),a.push(`Issued At: ${this.issuedAt}`),this.expirationTime){let t=`Expiration Time: ${this.expirationTime}`;a.push(t)}this.notBefore&&a.push(`Not Before: ${this.notBefore}`),this.requestId&&a.push(`Request ID: ${this.requestId}`),this.resources&&a.push(["Resources:",...this.resources.map(t=>`- ${t}`)].join("\n"));let l=a.join("\n");return s=[s,this.statement].join("\n\n"),this.statement&&(s+="\n"),[s,l].join("\n")}prepareMessage(){let t;return this.version,this.toMessage()}validate(t,r){return a(this,void 0,void 0,function*(){return console.warn("validate() has been deprecated, please update your code to use verify(). validate() may be removed in future versions."),this.verify({signature:t},{provider:r,suppressExceptions:!1}).then(({data:t})=>t).catch(({error:t})=>{throw t})})}verify(t,r={suppressExceptions:!1}){return a(this,void 0,void 0,function*(){return new Promise((s,n)=>{var i,o,a;let l,c;let fail=t=>r.suppressExceptions?s(t):n(t),m=(0,u.checkInvalidKeys)(t,d.VerifyParamsKeys);m.length>0&&fail({success:!1,data:this,error:Error(`${m.join(", ")} is/are not valid key(s) for VerifyParams.`)});let g=(0,u.checkInvalidKeys)(r,d.VerifyOptsKeys);m.length>0&&fail({success:!1,data:this,error:Error(`${g.join(", ")} is/are not valid key(s) for VerifyOpts.`)});let{signature:T,domain:E,nonce:A,time:x}=t;E&&E!==this.domain&&fail({success:!1,data:this,error:new d.SiweError(d.SiweErrorType.DOMAIN_MISMATCH,E,this.domain)}),A&&A!==this.nonce&&fail({success:!1,data:this,error:new d.SiweError(d.SiweErrorType.NONCE_MISMATCH,A,this.nonce)});let k=new Date(x||new Date);if(this.expirationTime){let t=new Date(this.expirationTime);k.getTime()>=t.getTime()&&fail({success:!1,data:this,error:new d.SiweError(d.SiweErrorType.EXPIRED_MESSAGE,`${k.toISOString()} < ${t.toISOString()}`,`${k.toISOString()} >= ${t.toISOString()}`)})}if(this.notBefore){let t=new Date(this.notBefore);k.getTime()<t.getTime()&&fail({success:!1,data:this,error:new d.SiweError(d.SiweErrorType.NOT_YET_VALID_MESSAGE,`${k.toISOString()} >= ${t.toISOString()}`,`${k.toISOString()} < ${t.toISOString()}`)})}try{l=this.prepareMessage()}catch(t){fail({success:!1,data:this,error:t})}try{c=(0,h.verifyMessage)(l,T)}catch(t){console.error(t)}if(c===this.address)return s({success:!0,data:this});{let n=(0,u.checkContractWalletSignature)(this,T,r.provider).then(t=>t?{success:!0,data:this}:{success:!1,data:this,error:new d.SiweError(d.SiweErrorType.INVALID_SIGNATURE,c,`Resolved address to be ${this.address}`)}).catch(t=>({success:!1,data:this,error:t}));Promise.all([n,null===(a=null===(o=null===(i=null==r?void 0:r.verificationFallback)||void 0===i?void 0:i.call(r,t,r,this,n))||void 0===o?void 0:o.then(t=>t))||void 0===a?void 0:a.catch(t=>t)]).then(([t,r])=>{if(r){if(r.success)return s(r);fail(r)}else{if(t.success)return s(t);fail(t)}})}})})}validateMessage(...t){var r;if(t.length>0)throw new d.SiweError(d.SiweErrorType.UNABLE_TO_PARSE,"Unexpected argument in the validateMessage function.");if(!this.domain||0===this.domain.length||!/[^#?]*/.test(this.domain))throw new d.SiweError(d.SiweErrorType.INVALID_DOMAIN,`${this.domain} to be a valid domain.`);if(!(0,l.isEIP55Address)(this.address))throw new d.SiweError(d.SiweErrorType.INVALID_ADDRESS,(0,h.getAddress)(this.address),this.address);if(!c.isUri(this.uri))throw new d.SiweError(d.SiweErrorType.INVALID_URI,`${this.uri} to be a valid uri.`);if("1"!==this.version)throw new d.SiweError(d.SiweErrorType.INVALID_MESSAGE_VERSION,"1",this.version);let s=null===(r=this===null||void 0===this?void 0:this.nonce)||void 0===r?void 0:r.match(/[a-zA-Z0-9]{8,}/);if(!s||this.nonce.length<8||s[0]!==this.nonce)throw new d.SiweError(d.SiweErrorType.INVALID_NONCE,`Length > 8 (${s.length}). Alphanumeric.`,this.nonce);if(this.issuedAt&&!(0,u.isValidISO8601Date)(this.issuedAt)||this.expirationTime&&!(0,u.isValidISO8601Date)(this.expirationTime)||this.notBefore&&!(0,u.isValidISO8601Date)(this.notBefore))throw Error(d.SiweErrorType.INVALID_TIME_FORMAT)}}},78445:function(t,r,s){"use strict";var n,i,o;Object.defineProperty(r,"__esModule",{value:!0}),r.getAddress=r.hashMessage=r.verifyMessage=void 0;let a=s(25431);r.verifyMessage=null!==(n=null===a.utils||void 0===a.utils?void 0:a.utils.verifyMessage)&&void 0!==n?n:a.verifyMessage,r.hashMessage=null!==(i=null===a.utils||void 0===a.utils?void 0:a.utils.hashMessage)&&void 0!==i?i:a.hashMessage,r.getAddress=null!==(o=null===a.utils||void 0===a.utils?void 0:a.utils.getAddress)&&void 0!==o?o:a.getAddress},96386:function(t,r,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,r,s,n){void 0===n&&(n=s);var i=Object.getOwnPropertyDescriptor(r,s);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[s]}}),Object.defineProperty(t,n,i)}:function(t,r,s,n){void 0===n&&(n=s),t[n]=r[s]}),i=this&&this.__exportStar||function(t,r){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(r,s)||n(r,t,s)};Object.defineProperty(r,"__esModule",{value:!0}),i(s(29474),r),i(s(82617),r),i(s(22684),r)},82617:function(t,r){"use strict";var s;Object.defineProperty(r,"__esModule",{value:!0}),r.SiweErrorType=r.SiweError=r.VerifyOptsKeys=r.VerifyParamsKeys=void 0,r.VerifyParamsKeys=["signature","domain","nonce","time"],r.VerifyOptsKeys=["provider","suppressExceptions","verificationFallback"],r.SiweError=class{constructor(t,r,s){this.type=t,this.expected=r,this.received=s}},(s=r.SiweErrorType||(r.SiweErrorType={})).EXPIRED_MESSAGE="Expired message.",s.INVALID_DOMAIN="Invalid domain.",s.DOMAIN_MISMATCH="Domain does not match provided domain for verification.",s.NONCE_MISMATCH="Nonce does not match provided nonce for verification.",s.INVALID_ADDRESS="Invalid address.",s.INVALID_URI="URI does not conform to RFC 3986.",s.INVALID_NONCE="Nonce size smaller then 8 characters or is not alphanumeric.",s.NOT_YET_VALID_MESSAGE="Message is not valid yet.",s.INVALID_SIGNATURE="Signature does not match address of the message.",s.INVALID_TIME_FORMAT="Invalid time format.",s.INVALID_MESSAGE_VERSION="Invalid message version.",s.UNABLE_TO_PARSE="Unable to parse the message."},22684:function(t,r,s){"use strict";var n=this&&this.__awaiter||function(t,r,s,n){return new(s||(s=Promise))(function(i,o){function fulfilled(t){try{step(n.next(t))}catch(t){o(t)}}function rejected(t){try{step(n.throw(t))}catch(t){o(t)}}function step(t){var r;t.done?i(t.value):((r=t.value)instanceof s?r:new s(function(t){t(r)})).then(fulfilled,rejected)}step((n=n.apply(t,r||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.checkInvalidKeys=r.isValidISO8601Date=r.generateNonce=r.checkContractWalletSignature=void 0;let i=s(35077),o=s(25431),a=s(78445),l=["function isValidSignature(bytes32 _message, bytes _signature) public view returns (bytes4)"],c=/^(?<date>[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/;r.checkContractWalletSignature=(t,r,s)=>n(void 0,void 0,void 0,function*(){if(!s)return!1;let n=new o.Contract(t.address,l,s),i=(0,a.hashMessage)(t.prepareMessage()),c=yield n.isValidSignature(i,r);return"0x1626ba7e"==c}),r.generateNonce=()=>{let t=(0,i.randomStringForEntropy)(96);if(!t||t.length<8)throw Error("Error during nonce creation.");return t},r.isValidISO8601Date=t=>{let r=c.exec(t);if(!t)return!1;let s=new Date(r.groups.date).toISOString(),n=c.exec(s);return r.groups.date===n.groups.date},r.checkInvalidKeys=(t,r)=>{let s=[];return Object.keys(t).forEach(t=>{r.includes(t)||s.push(t)}),s}},48621:function(t,r,s){!function(t){"use strict";t.exports.is_uri=is_iri,t.exports.is_http_uri=is_http_iri,t.exports.is_https_uri=is_https_iri,t.exports.is_web_uri=is_web_iri,t.exports.isUri=is_iri,t.exports.isHttpUri=is_http_iri,t.exports.isHttpsUri=is_https_iri,t.exports.isWebUri=is_web_iri;var splitUri=function(t){return t.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function is_iri(t){if(!(!t||/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(t)||/%[^0-9a-f]/i.test(t)||/%[0-9a-f](:?[^0-9a-f]|$)/i.test(t))){var r=[],s="",n="",i="",o="",a="",l="";if(s=(r=splitUri(t))[1],n=r[2],i=r[3],o=r[4],a=r[5],s&&s.length&&i.length>=0){if(n&&n.length){if(!(0===i.length||/^\//.test(i)))return}else if(/^\/\//.test(i))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(s.toLowerCase()))return l+=s+":",n&&n.length&&(l+="//"+n),l+=i,o&&o.length&&(l+="?"+o),a&&a.length&&(l+="#"+a),l}}}function is_http_iri(t,r){if(is_iri(t)){var s=[],n="",i="",o="",a="",l="",c="",h="";if(n=(s=splitUri(t))[1],i=s[2],o=s[3],l=s[4],c=s[5],n){if(r){if("https"!=n.toLowerCase())return}else if("http"!=n.toLowerCase())return;if(!i)return;return/:(\d+)$/.test(i)&&(a=i.match(/:(\d+)$/)[0],i=i.replace(/:\d+$/,"")),h+=n+"://"+i,a&&(h+=a),h+=o,l&&l.length&&(h+="?"+l),c&&c.length&&(h+="#"+c),h}}}function is_https_iri(t){return is_http_iri(t,!0)}function is_web_iri(t){return is_http_iri(t)||is_https_iri(t)}}(t=s.nmd(t))},43118:function(t,r,s){"use strict";s.d(r,{w_:function(){return GenIcon}});var n=s(2265),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=n.createContext&&n.createContext(i),a=["attr","size","title"];function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}).apply(this,arguments)}function ownKeys(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),s.push.apply(s,n)}return s}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(s),!0).forEach(function(r){var n,i;n=r,i=s[r],(n=function(t){var r=function(t,r){if("object"!=typeof t||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var n=s.call(t,r||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof r?r:String(r)}(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function GenIcon(t){return r=>n.createElement(IconBase,_extends({attr:_objectSpread({},t.attr)},r),function Tree2Element(t){return t&&t.map((t,r)=>n.createElement(t.tag,_objectSpread({key:r},t.attr),Tree2Element(t.child)))}(t.child))}function IconBase(t){var elem=r=>{var s,{attr:i,size:o,title:l}=t,c=function(t,r){if(null==t)return{};var s,n,i=function(t,r){if(null==t)return{};var s,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)s=o[n],r.indexOf(s)>=0||(i[s]=t[s]);return i}(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)s=o[n],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}(t,a),h=o||r.size||"1em";return r.className&&(s=r.className),t.className&&(s=(s?s+" ":"")+t.className),n.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,c,{className:s,style:_objectSpread(_objectSpread({color:t.color||r.color},r.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),t.children)};return void 0!==o?n.createElement(o.Consumer,null,t=>elem(t)):elem(i)}}}]);