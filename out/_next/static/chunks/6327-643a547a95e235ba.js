"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6327],{47905:function(e,i,a){var s,c,d,u,f,h,p,g,y,m,_,b,S,E,O,M,P,j,T,A,C,$,x,B,H,X=(e,i,a)=>{if(!i.has(e))throw TypeError("Cannot "+a)},w=(e,i,a)=>(X(e,i,"read from private field"),a?a.call(e):i.get(e)),R=(e,i,a)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,a)},I=(e,i,a,s)=>(X(e,i,"write to private field"),s?s.call(e,a):i.set(e,a),a),k=(e,i,a)=>(X(e,i,"access private method"),a);Object.defineProperty(i,Symbol.toStringTag,{value:"Module"});var D=((u=D||{}).eur="eur",u),U=((f=U||{}).corporate="corporate",f.personal="personal",f),W=((h=W||{}).read="read",h.write="write",h),N=((p=N||{}).absent="absent",p.submitted="submitted",p.pending="pending",p.confirmed="confirmed",p),q=((g=q||{}).approved="approved",g.rejected="rejected",g.unknown="unknown",g),F=((y=F||{}).requested="requested",y.approved="approved",y.pending="pending",y),z=((m=z||{}).iban="iban",m.scan="scan",m.chain="chain",m),L=((_=L||{}).redeem="redeem",_.issue="issue",_),G=((b=G||{}).placed="placed",b.pending="pending",b.processed="processed",b.rejected="rejected",b);let te=e=>{if("Invalid Date"===e.toString())throw e;let t=e=>e<10?"0"+e:e;return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+(e=>{if(0===e)return"Z";let i=e>0?"-":"+";return i+t(Math.floor((e=Math.abs(e))/60))+":"+t(e%60)})(e.getTimezoneOffset())},Z=e=>{var i;return e&&(null==(i=Object.entries(e))?void 0:i.length)>0?Object.entries(e).map(([e,i])=>`${encodeURIComponent(e)}=${encodeURIComponent(i)}`).join("&"):""},K=e=>{switch(e){case 1:case 5:return"ethereum";case 100:case 10200:return"gnosis";case 137:case 80001:return"polygon";default:throw Error(`Chain not supported: ${e}`)}},re=e=>{switch(e){case 1:case 100:case 137:return"mainnet";case 5:return"goerli";case 10200:return"chiado";case 80001:return"mumbai";default:throw Error(`Network not supported: ${e}`)}},Q=e=>{if(null!=e&&e.chainId){let{chainId:i,...a}=e;return{...a,chain:K(i),network:re(i)}}return e},V={environments:{production:{api:"https://api.monerium.app",web:"https://monerium.app",wss:"wss://api.monerium.app"},sandbox:{api:"https://api.monerium.dev",web:"https://sandbox.monerium.dev",wss:"wss://api.monerium.dev"}}},Y="monerium.sdk.code_verifier",J="monerium.sdk.refresh_token";var et="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof a.g?a.g:"u">typeof self?self:{};function we(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var er={exports:{}},en={exports:{}};let ei=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})),ea=function(e){if(e.__esModule)return e;var i=e.default;if("function"==typeof i){var r=function n(){return this instanceof n?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};r.prototype=i.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}),r}(ei);function me(){var e;return S||(S=1,en.exports=e=e||function(e,i){if("u">typeof window&&window.crypto&&(a=window.crypto),"u">typeof self&&self.crypto&&(a=self.crypto),"u">typeof globalThis&&globalThis.crypto&&(a=globalThis.crypto),!a&&"u">typeof window&&window.msCrypto&&(a=window.msCrypto),!a&&"u">typeof et&&et.crypto&&(a=et.crypto),!a)try{a=ea}catch{}var a,v=function(){if(a){if("function"==typeof a.getRandomValues)try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof a.randomBytes)try{return a.randomBytes(4).readInt32LE()}catch{}}throw Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function o(){}return function(e){var i;return o.prototype=e,i=new o,o.prototype=null,i}}(),c={},d=c.lib={},u=d.Base={extend:function(e){var i=s(this);return e&&i.mixIn(e),i.hasOwnProperty("init")&&this.init!==i.init||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var i in e)e.hasOwnProperty(i)&&(this[i]=e[i]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},f=d.WordArray=u.extend({init:function(e,i){e=this.words=e||[],void 0!=i?this.sigBytes=i:this.sigBytes=4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var i=this.words,a=e.words,s=this.sigBytes,c=e.sigBytes;if(this.clamp(),s%4)for(var d=0;d<c;d++){var u=a[d>>>2]>>>24-d%4*8&255;i[s+d>>>2]|=u<<24-(s+d)%4*8}else for(var f=0;f<c;f+=4)i[s+f>>>2]=a[f>>>2];return this.sigBytes+=c,this},clamp:function(){var i=this.words,a=this.sigBytes;i[a>>>2]&=4294967295<<32-a%4*8,i.length=e.ceil(a/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var i=[],a=0;a<e;a+=4)i.push(v());return new f.init(i,e)}}),h=c.enc={},p=h.Hex={stringify:function(e){for(var i=e.words,a=e.sigBytes,s=[],c=0;c<a;c++){var d=i[c>>>2]>>>24-c%4*8&255;s.push((d>>>4).toString(16)),s.push((15&d).toString(16))}return s.join("")},parse:function(e){for(var i=e.length,a=[],s=0;s<i;s+=2)a[s>>>3]|=parseInt(e.substr(s,2),16)<<24-s%8*4;return new f.init(a,i/2)}},g=h.Latin1={stringify:function(e){for(var i=e.words,a=e.sigBytes,s=[],c=0;c<a;c++){var d=i[c>>>2]>>>24-c%4*8&255;s.push(String.fromCharCode(d))}return s.join("")},parse:function(e){for(var i=e.length,a=[],s=0;s<i;s++)a[s>>>2]|=(255&e.charCodeAt(s))<<24-s%4*8;return new f.init(a,i)}},y=h.Utf8={stringify:function(e){try{return decodeURIComponent(escape(g.stringify(e)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(e){return g.parse(unescape(encodeURIComponent(e)))}},m=d.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=y.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(i){var a,s=this._data,c=s.words,d=s.sigBytes,u=this.blockSize,h=d/(4*u),p=(h=i?e.ceil(h):e.max((0|h)-this._minBufferSize,0))*u,g=e.min(4*p,d);if(p){for(var y=0;y<p;y+=u)this._doProcessBlock(c,y);a=c.splice(0,p),s.sigBytes-=g}return new f.init(a,g)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});d.Hasher=m.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(i,a){return new e.init(a).finalize(i)}},_createHmacHelper:function(e){return function(i,a){return new _.HMAC.init(e,a).finalize(i)}}});var _=c.algo={};return c}(Math)),en.exports}er.exports=(c=(s=me()).lib.WordArray,s.enc.Base64url={stringify:function(e,i){void 0===i&&(i=!0);var a=e.words,s=e.sigBytes,c=i?this._safe_map:this._map;e.clamp();for(var d=[],u=0;u<s;u+=3)for(var f=a[u>>>2]>>>24-u%4*8&255,h=a[u+1>>>2]>>>24-(u+1)%4*8&255,p=a[u+2>>>2]>>>24-(u+2)%4*8&255,g=f<<16|h<<8|p,y=0;y<4&&u+.75*y<s;y++)d.push(c.charAt(g>>>6*(3-y)&63));var m=c.charAt(64);if(m)for(;d.length%4;)d.push(m);return d.join("")},parse:function(e,i){void 0===i&&(i=!0);var a=e.length,s=i?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var u=0;u<s.length;u++)d[s.charCodeAt(u)]=u}var f=s.charAt(64);if(f){var h=e.indexOf(f);-1!==h&&(a=h)}return function(e,i,a){for(var s=[],d=0,u=0;u<i;u++)if(u%4){var f=a[e.charCodeAt(u-1)]<<u%4*2|a[e.charCodeAt(u)]>>>6-u%4*2;s[d>>>2]|=f<<24-d%4*8,d++}return c.create(s,d)}(e,a,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},s.enc.Base64url);var eo=er.exports;let es=we(eo);var ec={exports:{}};ec.exports=(d=me(),function(e){var i=d.lib,a=i.WordArray,s=i.Hasher,c=d.algo,u=[],f=[];(function(){function l(e){return(e-(0|e))*4294967296|0}for(var i=2,a=0;a<64;)(function(i){for(var a=e.sqrt(i),s=2;s<=a;s++)if(!(i%s))return!1;return!0})(i)&&(a<8&&(u[a]=l(e.pow(i,.5))),f[a]=l(e.pow(i,1/3)),a++),i++})();var h=[],p=c.SHA256=s.extend({_doReset:function(){this._hash=new a.init(u.slice(0))},_doProcessBlock:function(e,i){for(var a=this._hash.words,s=a[0],c=a[1],d=a[2],u=a[3],p=a[4],g=a[5],y=a[6],m=a[7],_=0;_<64;_++){if(_<16)h[_]=0|e[i+_];else{var b=h[_-15],S=(b<<25|b>>>7)^(b<<14|b>>>18)^b>>>3,E=h[_-2],O=(E<<15|E>>>17)^(E<<13|E>>>19)^E>>>10;h[_]=S+h[_-7]+O+h[_-16]}var M=p&g^~p&y,P=s&c^s&d^c&d,j=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),T=m+((p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25))+M+f[_]+h[_],A=j+P;m=y,y=g,g=p,p=u+T|0,u=d,d=c,c=s,s=T+A|0}a[0]=a[0]+s|0,a[1]=a[1]+c|0,a[2]=a[2]+d|0,a[3]=a[3]+u|0,a[4]=a[4]+p|0,a[5]=a[5]+g|0,a[6]=a[6]+y|0,a[7]=a[7]+m|0},_doFinalize:function(){var i=this._data,a=i.words,s=8*this._nDataBytes,c=8*i.sigBytes;return a[c>>>5]|=128<<24-c%32,a[(c+64>>>9<<4)+14]=e.floor(s/4294967296),a[(c+64>>>9<<4)+15]=s,i.sigBytes=4*a.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});d.SHA256=s._createHelper(p),d.HmacSHA256=s._createHmacHelper(p)}(Math),d.SHA256);var el=ec.exports;let ed=we(el),Me=(e,i)=>{let{client_id:a,redirect_uri:s,scope:c,state:d,chainId:u,chain:f,network:h,address:p,signature:g}=e,y=p?{address:p,...void 0!==g?{signature:g}:{},...void 0!==u||void 0!==f?{chain:u?K(u):f}:{},...void 0!==u||void 0!==h?{network:u?re(u):h}:{}}:{};return Z({client_id:a,redirect_uri:s,...void 0!==c?{scope:c}:{},...void 0!==d?{state:d}:{},code_challenge:i,code_challenge_method:"S256",response_type:"code",...y})},Le=()=>{let e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=i.length,s=0;for(;s<128;)e+=i.charAt(Math.floor(Math.random()*a)),s+=1;return e},Ne=e=>es.stringify(ed(e)),se=(e,i)=>{let a=Le(),s=Ne(a);return localStorage.setItem(Y,a||""),`${e}/auth?${Me(i,s)}`},ie=()=>{let e=window.location.href;if(!e||!(null!=e&&e.includes("?")))return;let[i,a]=e.split("?");a&&window.history.replaceState(null,"",i)},ae=e=>null!=e.code,je=e=>null!=e.refresh_token,qe=e=>null!=e.client_secret,Fe=async(e,i,a,s)=>{let c;let d=await fetch(`${e}`,{method:i,headers:s,body:a}),u=await d.text();try{c=JSON.parse(u)}catch{throw u}if(!d.ok)throw c;return c},eu=typeof window>"u";E=new WeakMap,O=new WeakMap,M=new WeakMap,P=new WeakMap,j=new WeakMap,T=new WeakSet,A=async function(e){let i;if(ae(e))i={...e,grant_type:"authorization_code"};else if(je(e))i={...e,grant_type:"refresh_token"};else if(qe(e))i={...e,grant_type:"client_credentials"};else throw Error("Authorization grant type could not be detected.");return await k(this,C,$).call(this,"post","auth/token",i,!0).then(e=>{var i;this.bearerProfile=e,this.isAuthorized=!!e,I(this,O,`Bearer ${null==e?void 0:e.access_token}`),eu||window.localStorage.setItem(J,(null==(i=this.bearerProfile)?void 0:i.refresh_token)||"")}).catch(e=>{throw eu||(localStorage.removeItem(Y),localStorage.removeItem(J),ie()),Error(null==e?void 0:e.message)}),ae(e)&&ie(),this.bearerProfile},C=new WeakSet,$=async function(e,i,a,s){return Fe(`${w(this,E).api}/${i}`,e,s?Z(a):a,{Authorization:w(this,O)||"","Content-Type":`application/${s?"x-www-form-urlencoded":"json"}`})},x=new WeakMap,B=new WeakMap,H=new WeakMap,i.AccountState=F,i.Currency=D,i.KYCOutcome=q,i.KYCState=N,i.MoneriumClient=class{constructor(e){if(R(this,T),R(this,C),R(this,E,void 0),R(this,O,void 0),R(this,M,void 0),R(this,P,void 0),R(this,j,void 0),R(this,x,void 0),R(this,B,void 0),R(this,H,void 0),I(this,P,new Map),this.isAuthorized=!!this.bearerProfile,I(this,x,async(e,i,a)=>{let s=localStorage.getItem(Y)||"";if(!s)throw Error("Code verifier not found");return this.codeVerifier=s,localStorage.removeItem(Y),await k(this,T,A).call(this,{code:a,redirect_uri:i,client_id:e,code_verifier:s})}),I(this,B,async({clientId:e,clientSecret:i})=>await k(this,T,A).call(this,{client_id:e,client_secret:i})),I(this,H,async(e,i)=>await k(this,T,A).call(this,{refresh_token:i,client_id:e})),this.subscribeToOrderNotifications=()=>{var e,i;let a=`${w(this,E).wss}/profiles/${null==(e=this.bearerProfile)?void 0:e.profile}/orders?access_token=${null==(i=this.bearerProfile)?void 0:i.access_token}`,s=new WebSocket(a);return s.addEventListener("open",()=>{console.info(`Socket connected: ${a}`)}),s.addEventListener("error",e=>{throw console.error(e),Error(`Socket error: ${a}`)}),s.addEventListener("message",e=>{var i;let a=JSON.parse(e.data);null==(i=w(this,P).get(a.meta.state))||i(a)}),s.addEventListener("close",()=>{console.info(`Socket connection closed: ${a}`)}),s},this.auth=async e=>await k(this,T,A).call(this,e),this.connect=async e=>await k(this,T,A).call(this,e),this.getAuthFlowURI=e=>{let i=se(w(this,E).api,e);return this.codeVerifier=localStorage.getItem(Y),i},this.pkceRequest=e=>this.getAuthFlowURI(e),this.getEnvironment=()=>w(this,E),!e){I(this,E,V.environments.sandbox);return}if("string"==typeof e)I(this,E,V.environments[e]);else if(I(this,E,V.environments[e.environment||"sandbox"]),eu){let{clientId:i,clientSecret:a}=e;I(this,j,{clientId:i,clientSecret:a})}else{let{clientId:i,redirectUrl:a}=e;I(this,j,{clientId:i,redirectUrl:a})}}async authorize(e){var i,a;let s=(null==e?void 0:e.clientId)||(null==(i=w(this,j))?void 0:i.clientId),c=(null==e?void 0:e.redirectUrl)||(null==(a=w(this,j))?void 0:a.redirectUrl);if(!s)throw Error("Missing ClientId");if(!c)throw Error("Missing RedirectUrl");let d=se(w(this,E).api,{client_id:s,redirect_uri:c,address:null==e?void 0:e.address,signature:null==e?void 0:e.signature,chainId:null==e?void 0:e.chainId});window.location.replace(d)}async getAccess(e){var i,a,s;let c=(null==e?void 0:e.clientId)||(null==(i=w(this,j))?void 0:i.clientId);if((null==e?void 0:e.clientSecret)||(null==(a=w(this,j))?void 0:a.clientSecret)){if(!eu)throw Error("Only use client credentials on server side");return await w(this,B).call(this,w(this,j)),!!this.bearerProfile}let d=(null==e?void 0:e.redirectUrl)||(null==(s=w(this,j))?void 0:s.redirectUrl);if(!c)throw Error("Missing ClientId");if(eu)throw Error("This only works client side");let u=new URLSearchParams(window.location.search).get("code")||void 0,f=localStorage.getItem(J)||void 0;return f?await w(this,H).call(this,c,f):u&&await w(this,x).call(this,c,d,u),!!this.bearerProfile}getAuthContext(){return k(this,C,$).call(this,"get","auth/context")}getProfile(e){return k(this,C,$).call(this,"get",`profiles/${e}`)}getBalances(e){return e?k(this,C,$).call(this,"get",`profiles/${e}/balances`):k(this,C,$).call(this,"get","balances")}getOrders(e){let i=Z(e);return k(this,C,$).call(this,"get",`orders?${i}`)}getOrder(e){return k(this,C,$).call(this,"get",`orders/${e}`)}getTokens(){return k(this,C,$).call(this,"get","tokens")}linkAddress(e,i){return(i=Q(i)).accounts=i.accounts.map(e=>Q(e)),k(this,C,$).call(this,"post",`profiles/${e}/addresses`,JSON.stringify(i))}placeOrder(e,i){let a={kind:"redeem",currency:"eur",...Q(e),counterpart:{...e.counterpart,identifier:Q(e.counterpart.identifier)}};return i?k(this,C,$).call(this,"post",`profiles/${i}/orders`,JSON.stringify(a)):k(this,C,$).call(this,"post","orders",JSON.stringify(a))}uploadSupportingDocument(e){let i=Z(e);return k(this,C,$).call(this,"post","files/supporting-document",i,!0)}async connectOrderSocket(){var e;null!=(e=this.bearerProfile)&&e.access_token&&w(this,P).size>0&&I(this,M,this.subscribeToOrderNotifications())}async disconnect(){var e;eu||localStorage.removeItem(Y),w(this,P).clear(),null==(e=w(this,M))||e.close(),I(this,O,void 0),this.bearerProfile=void 0}async revokeAccess(){eu||localStorage.removeItem(J),this.disconnect()}subscribeOrders(e,i){w(this,P).set(e,i)}unsubscribeOrders(e){var i;w(this,P).delete(e),0===w(this,P).size&&(null==(i=w(this,M))||i.close(),I(this,M,void 0))}},i.OrderKind=L,i.OrderState=G,i.PaymentStandard=z,i.Permission=W,i.ProfileType=U,i.constants={LINK_MESSAGE:"I hereby declare that I am the address owner.",STORAGE_CODE_VERIFIER:Y,STORAGE_REFRESH_TOKEN:J},i.getChain=K,i.getNetwork=re,i.placeOrderMessage=(e,i,a,s)=>{let c=`${(null==s?void 0:s.toUpperCase())||"EUR"}`;return a?`Send ${c} ${e} to ${i} on ${K(a)} at ${te(new Date)}`:`Send ${c} ${e} to ${i} at ${te(new Date)}`},i.rfc3339=te},82597:function(e,i){Object.defineProperty(i,"__esModule",{value:!0}),i.OnRampKitBasePack=void 0,i.OnRampKitBasePack=class{}},66456:function(e,i,a){var s=this&&this.__createBinding||(Object.create?function(e,i,a,s){void 0===s&&(s=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,s,c)}:function(e,i,a,s){void 0===s&&(s=a),e[s]=i[a]}),c=this&&this.__exportStar||function(e,i){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(i,a)||s(i,e,a)};Object.defineProperty(i,"__esModule",{value:!0}),c(a(71437),i),c(a(78829),i),c(a(82597),i)},11144:function(e,i){Object.defineProperty(i,"__esModule",{value:!0}),i.getErrorMessage=void 0,i.getErrorMessage=function(e){return function(e){if("object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message)return e;try{return Error(JSON.stringify(e))}catch{return Error(String(e))}}(e).message}},82201:function(e,i,a){var s,c,d,u,f,h,p,g,y,m=this&&this.__classPrivateFieldSet||function(e,i,a,s,c){if("m"===s)throw TypeError("Private method is not writable");if("a"===s&&!c)throw TypeError("Private accessor was defined without a setter");if("function"==typeof i?e!==i||!c:!i.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?c.call(e,a):c?c.value=a:i.set(e,a),a},_=this&&this.__classPrivateFieldGet||function(e,i,a,s){if("a"===a&&!s)throw TypeError("Private accessor was defined without a getter");if("function"==typeof i?e!==i||!s:!i.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?s:"a"===a?s.call(e):s?s.value:i.get(e)};Object.defineProperty(i,"__esModule",{value:!0}),i.MoneriumPack=void 0;let b=a(47905),S=a(11144),E=a(82597),O=a(35836),M=a(32512),P="OnRampKit__monerium_code_verifier",j="I hereby declare that I am the address owner.";let MoneriumPack=class MoneriumPack extends E.OnRampKitBasePack{constructor(e){super(),s.add(this),c.set(this,void 0),d.set(this,void 0),u.set(this,new Map),m(this,c,e,"f")}async init(e){if(!e?.safeSdk)throw Error("You need to provide an instance of the protocol kit");this.client=new O.SafeMoneriumClient(_(this,c,"f").environment,e.safeSdk)}async open(e){if(!this.client)throw Error("Monerium client not initialized");try{let i=await this.client.getSafeAddress();return e.authCode?await _(this,s,"m",f).call(this,e.authCode,i,e.redirectUrl||""):e.refreshToken?await _(this,s,"m",h).call(this,i,e.refreshToken):await _(this,s,"m",p).call(this,i,e.redirectUrl||""),this.client.bearerProfile?.access_token&&_(this,u,"f").size>0&&m(this,d,(0,M.connectToOrderNotifications)({profile:this.client.bearerProfile?.profile,env:_(this,c,"f").environment,accessToken:this.client.bearerProfile?.access_token,subscriptions:_(this,u,"f")}),"f"),this.client}catch(e){throw Error((0,S.getErrorMessage)(e))}}async close(){localStorage.removeItem(P),_(this,u,"f").clear(),_(this,d,"f")?.close()}subscribe(e,i){_(this,u,"f").set(e,i)}unsubscribe(e){_(this,u,"f").delete(e),0===_(this,u,"f").size&&(_(this,d,"f")?.close(),m(this,d,void 0,"f"))}};i.MoneriumPack=MoneriumPack,c=new WeakMap,d=new WeakMap,u=new WeakMap,s=new WeakSet,f=async function(e,i,a){if(!this.client)return;let d=sessionStorage.getItem(P)||"";await this.client.auth({client_id:_(this,c,"f").clientId,code:e,code_verifier:d,redirect_uri:a}),await _(this,s,"m",g).call(this,i),_(this,s,"m",y).call(this),localStorage.removeItem(P)},h=async function(e,i){this.client&&(await this.client.auth({client_id:_(this,c,"f").clientId,refresh_token:i}),_(this,s,"m",g).call(this,e))},p=async function(e,i){if(!this.client)return;if(e){let i=await this.client.isMessageSigned(e,j);if(!i){let i=await this.client.isSignMessagePending(e,j);i||await this.client.signMessage(e,j)}}let a=this.client.getAuthFlowURI({client_id:_(this,c,"f").clientId,redirect_uri:i,address:e,signature:"0x",chain:await this.client.getChain(),network:await this.client.getNetwork()});sessionStorage.setItem(P,this.client.codeVerifier||""),window.location.replace(a)},g=async function(e){if(!this.client)return;let i=await this.client.getAuthContext();if(!i)return;let a=await this.client.getProfile(i.defaultProfile);if(a){let s=a.accounts.some(i=>i.address===e);s||await this.client.linkAddress(i.defaultProfile,{address:e,message:j,signature:"0x",network:await this.client.getNetwork(),chain:await this.client.getChain(),accounts:[{network:await this.client.getNetwork(),chain:await this.client.getChain(),currency:b.Currency.eur}]})}},y=function(){let e=window.location.href,[i,a]=e.split("?");a&&window.history.replaceState(null,"",i)}},35836:function(e,i,a){var s,c,d,u,f,h,p=this&&this.__classPrivateFieldSet||function(e,i,a,s,c){if("m"===s)throw TypeError("Private method is not writable");if("a"===s&&!c)throw TypeError("Private accessor was defined without a setter");if("function"==typeof i?e!==i||!c:!i.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?c.call(e,a):c?c.value=a:i.set(e,a),a},g=this&&this.__classPrivateFieldGet||function(e,i,a,s){if("a"===a&&!s)throw TypeError("Private accessor was defined without a getter");if("function"==typeof i?e!==i||!s:!i.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?s:"a"===a?s.call(e):s?s.value:i.get(e)},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.SafeMoneriumClient=void 0;let m=a(89613),_=a(57273),b=a(47905),S=a(31040),E=y(a(81786)),O=a(11144),M=a(17127),P=a(52513);let SafeMoneriumClient=class SafeMoneriumClient extends b.MoneriumClient{constructor(e,i){super(e),s.add(this),c.set(this,void 0),d.set(this,void 0),p(this,c,i,"f"),p(this,d,i.getEthAdapter(),"f")}async getSafeAddress(){return g(this,c,"f").getAddress()}async send(e){let i=await this.getSafeAddress(),a=await g(this,s,"m",f).call(this,i,e);try{await this.placeOrder(a);let e=await this.signMessage(i,a.message);return e}catch(e){throw Error((0,O.getErrorMessage)(e))}}async isMessageSigned(e,i){let a=(0,m.hashMessage)(i),c=await g(this,s,"m",u).call(this,e,a);return c}async isSignMessagePending(e,i){let a=new E.default({txServiceUrl:await this.getTransactionServiceUrl(),ethAdapter:g(this,d,"f")}),s=await a.getPendingTransactions(e);return s.results.some(e=>e?.dataDecoded?.method==="signMessage"&&e?.dataDecoded?.parameters[0]?.value===(0,m.hashMessage)(i))}async signMessage(e,i){try{let a=await g(this,c,"f").getContractVersion(),s=await (0,S.getSignMessageLibContract)({ethAdapter:g(this,d,"f"),safeVersion:a}),u=s.encode("signMessage",[(0,m.hashMessage)(i)]),f=await g(this,c,"f").createTransaction({safeTransactionData:{to:s.getAddress(),value:"0",data:u,operation:M.OperationType.DelegateCall}}),h=await g(this,c,"f").getTransactionHash(f),p=await g(this,c,"f").signTransactionHash(h),y=new E.default({txServiceUrl:await this.getTransactionServiceUrl(),ethAdapter:g(this,d,"f")});await y.proposeTransaction({safeAddress:e,safeTransactionData:f.data,safeTxHash:h,senderAddress:await g(this,d,"f").getSignerAddress()||"",senderSignature:p.data});let _=await y.getTransaction(h);return _}catch(e){throw Error((0,O.getErrorMessage)(e))}}async getChain(){let e=await g(this,c,"f").getChainId();switch(e){case 1:case 5:return"ethereum";case 100:case 10200:return"gnosis";case 137:case 80001:return"polygon";default:throw Error(`Chain not supported: ${e}`)}}async getNetwork(){let e=await g(this,c,"f").getChainId();switch(e){case 1:case 100:case 137:return"mainnet";case 5:return"goerli";case 10200:return"chiado";case 80001:return"mumbai";default:throw Error(`Network not supported: ${e}`)}}async getTransactionServiceUrl(){let e=await g(this,c,"f").getChainId();switch(e){case 1:return"https://safe-transaction-mainnet.safe.global";case 5:return"https://safe-transaction-goerli.safe.global";case 100:return"https://safe-transaction-gnosis.safe.global";case 137:return"https://safe-transaction-polygon.safe.global";default:throw Error(`Chain not supported: ${e}`)}}};i.SafeMoneriumClient=SafeMoneriumClient,c=new WeakMap,d=new WeakMap,s=new WeakSet,u=async function(e,i){try{let a=P.EIP_1271_INTERFACE.encodeFunctionData("isValidSignature",[i,"0x"]),s=(0,_.arrayify)(i),c=P.EIP_1271_BYTES_INTERFACE.encodeFunctionData("isValidSignature",[s,"0x"]),u=[g(this,d,"f").call({from:e,to:e,data:a}),g(this,d,"f").call({from:e,to:e,data:c})],f=await Promise.all(u);return!!f.length&&(f[0].slice(0,10).toLowerCase()===P.MAGIC_VALUE||f[1].slice(0,10).toLowerCase()===P.MAGIC_VALUE_BYTES)}catch(e){throw Error((0,O.getErrorMessage)(e))}},f=async function(e,i){return{kind:b.OrderKind.redeem,amount:i.amount,signature:"0x",address:e,currency:i.currency,counterpart:i.counterpart,memo:i.memo,message:g(this,s,"m",h).call(this,i),chain:await this.getChain(),network:await this.getNetwork(),supportingDocumentId:""}},h=function(e){let i=new Date().toISOString();return`Send ${e.currency.toUpperCase()} ${e.amount} to ${e.counterpart.identifier.iban} at ${i}`}},78829:function(e,i,a){var s=this&&this.__createBinding||(Object.create?function(e,i,a,s){void 0===s&&(s=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,s,c)}:function(e,i,a,s){void 0===s&&(s=a),e[s]=i[a]}),c=this&&this.__exportStar||function(e,i){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(i,a)||s(i,e,a)};Object.defineProperty(i,"__esModule",{value:!0}),c(a(82201),i),c(a(35836),i),c(a(8131),i)},52513:function(e,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.MAGIC_VALUE_BYTES=i.MAGIC_VALUE=i.EIP_1271_INTERFACE=i.EIP_1271_BYTES_INTERFACE=void 0;let s=a(39219);i.MAGIC_VALUE="0x1626ba7e",i.MAGIC_VALUE_BYTES="0x20c13b0b";let c=new s.Interface(["function isValidSignature(bytes32 _dataHash, bytes calldata _signature) external view"]);i.EIP_1271_INTERFACE=c;let d=new s.Interface(["function isValidSignature(bytes calldata _data, bytes calldata _signature) public view"]);i.EIP_1271_BYTES_INTERFACE=d},32512:function(e,i){Object.defineProperty(i,"__esModule",{value:!0}),i.connectToOrderNotifications=void 0,i.connectToOrderNotifications=({profile:e,accessToken:i,env:a,subscriptions:s})=>{let c=`${"production"===a?"wss://api.monerium.app":"wss://api.monerium.dev"}/profiles/${e}/orders?access_token=${i}`,d=new WebSocket(c);return d.addEventListener("open",()=>{console.info(`Socket connected: ${c}`)}),d.addEventListener("error",e=>{throw console.error(e),Error(`Socket error: ${c}`)}),d.addEventListener("message",e=>{let i=JSON.parse(e.data);s.get(i.meta.state)?.(i)}),d.addEventListener("close",()=>{console.info(`Socket connection closed: ${c}`)}),d}},8131:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},35923:function(e,i,a){var s,c,d,u,f=this&&this.__createBinding||(Object.create?function(e,i,a,s){void 0===s&&(s=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,s,c)}:function(e,i,a,s){void 0===s&&(s=a),e[s]=i[a]}),h=this&&this.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&f(i,e,a);return h(i,e),i},g=this&&this.__classPrivateFieldSet||function(e,i,a,s,c){if("m"===s)throw TypeError("Private method is not writable");if("a"===s&&!c)throw TypeError("Private accessor was defined without a setter");if("function"==typeof i?e!==i||!c:!i.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?c.call(e,a):c?c.value=a:i.set(e,a),a},y=this&&this.__classPrivateFieldGet||function(e,i,a,s){if("a"===a&&!s)throw TypeError("Private accessor was defined without a getter");if("function"==typeof i?e!==i||!s:!i.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?s:"a"===a?s.call(e):s?s.value:i.get(e)};Object.defineProperty(i,"__esModule",{value:!0}),i.StripePack=void 0;let m=a(94006),_=a(11144),b=a(82597),S=p(a(1553));let StripePack=class StripePack extends b.OnRampKitBasePack{constructor(e){super(),s.set(this,void 0),c.set(this,void 0),d.set(this,void 0),u.set(this,void 0),g(this,s,e,"f")}async init(){try{g(this,d,await (0,m.loadStripeOnramp)(y(this,s,"f").stripePublicKey)||void 0,"f")}catch(e){throw Error((0,_.getErrorMessage)(e))}}async open({element:e,theme:i="light",sessionId:a,defaultOptions:f}){if(!y(this,d,"f"))throw Error("The Stripe crypto SDK is not initialized");try{let h;h=a?await S.getSession(y(this,s,"f").onRampBackendUrl,a):await S.createSession(y(this,s,"f").onRampBackendUrl,f);let p=y(this,d,"f").createSession({clientSecret:h.client_secret,appearance:{theme:i}});return g(this,u,p,"f"),g(this,c,e,"f"),p.mount(e),h}catch(e){throw Error((0,_.getErrorMessage)(e))}}async close(){throw Error("Method not implemented.")}subscribe(e,i){y(this,u,"f")?.addEventListener(e,i)}unsubscribe(e,i){y(this,u,"f")?.removeEventListener(e,i)}};i.StripePack=StripePack,s=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap},71437:function(e,i,a){var s=this&&this.__createBinding||(Object.create?function(e,i,a,s){void 0===s&&(s=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,s,c)}:function(e,i,a,s){void 0===s&&(s=a),e[s]=i[a]}),c=this&&this.__exportStar||function(e,i){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(i,a)||s(i,e,a)};Object.defineProperty(i,"__esModule",{value:!0}),c(a(35923),i),c(a(12111),i)},1553:function(e,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.getSession=i.createSession=void 0;let s=a(11144),createSession=async(e,i)=>{try{let a=await fetch(`${e}/api/v1/onramp/stripe/session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok)throw Error("Couldn't create a new Stripe session");return a.json()}catch(e){throw Error((0,s.getErrorMessage)(e))}};i.createSession=createSession;let getSession=async(e,i)=>{try{let a=await fetch(`${e}/api/v1/onramp/stripe/session/${i}`);if(!a.ok)throw Error(`Couldn't get the session with id  ${i}`);return a.json()}catch(e){throw Error((0,s.getErrorMessage)(e))}};i.getSession=getSession},12111:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},99494:function(e,i,a){var s,c,d=this&&this.__classPrivateFieldSet||function(e,i,a,s,c){if("m"===s)throw TypeError("Private method is not writable");if("a"===s&&!c)throw TypeError("Private accessor was defined without a setter");if("function"==typeof i?e!==i||!c:!i.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?c.call(e,a):c?c.value=a:i.set(e,a),a},u=this&&this.__classPrivateFieldGet||function(e,i,a,s){if("a"===a&&!s)throw TypeError("Private accessor was defined without a getter");if("function"==typeof i?e!==i||!s:!i.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?s:"a"===a?s.call(e):s?s.value:i.get(e)};Object.defineProperty(i,"__esModule",{value:!0});let f=a(46117),h=a(34020);s=new WeakMap,c=new WeakMap,i.default=class{constructor({txServiceUrl:e,ethAdapter:i}){s.set(this,void 0),c.set(this,void 0),d(this,s,(0,f.getTxServiceBaseUrl)(e),"f"),d(this,c,i,"f")}async getServiceInfo(){return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/about`,method:h.HttpMethod.Get})}async getServiceMasterCopiesInfo(){return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/about/master-copies`,method:h.HttpMethod.Get})}async decodeData(e){if(""===e)throw Error("Invalid data");return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/data-decoder/`,method:h.HttpMethod.Post,body:{data:e}})}async getSafesByOwner(e){if(""===e)throw Error("Invalid owner address");let{address:i}=await u(this,c,"f").getEip3770Address(e);return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/owners/${i}/safes/`,method:h.HttpMethod.Get})}async getSafesByModule(e){if(""===e)throw Error("Invalid module address");let{address:i}=await u(this,c,"f").getEip3770Address(e);return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/modules/${i}/safes/`,method:h.HttpMethod.Get})}async getTransaction(e){if(""===e)throw Error("Invalid safeTxHash");return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/multisig-transactions/${e}/`,method:h.HttpMethod.Get})}async getTransactionConfirmations(e){if(""===e)throw Error("Invalid safeTxHash");return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/multisig-transactions/${e}/confirmations/`,method:h.HttpMethod.Get})}async confirmTransaction(e,i){if(""===e)throw Error("Invalid safeTxHash");if(""===i)throw Error("Invalid signature");return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/multisig-transactions/${e}/confirmations/`,method:h.HttpMethod.Post,body:{signature:i}})}async getSafeInfo(e){if(""===e)throw Error("Invalid Safe address");let{address:i}=await u(this,c,"f").getEip3770Address(e);return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/safes/${i}/`,method:h.HttpMethod.Get})}async getSafeDelegates({safeAddress:e,delegateAddress:i,delegatorAddress:a,label:d,limit:f,offset:p}){let g=new URL(`${u(this,s,"f")}/v1/delegates`);if(e){let{address:i}=await u(this,c,"f").getEip3770Address(e);g.searchParams.set("safe",i)}if(i){let{address:e}=await u(this,c,"f").getEip3770Address(i);g.searchParams.set("delegate",e)}if(a){let{address:e}=await u(this,c,"f").getEip3770Address(a);g.searchParams.set("delegator",e)}return d&&g.searchParams.set("label",d),f&&g.searchParams.set("limit",f),p&&g.searchParams.set("offset",p),(0,h.sendRequest)({url:g.toString(),method:h.HttpMethod.Get})}async addSafeDelegate({safeAddress:e,delegateAddress:i,delegatorAddress:a,label:d,signer:f}){if(""===i)throw Error("Invalid Safe delegate address");if(""===a)throw Error("Invalid Safe delegator address");if(""===d)throw Error("Invalid label");let{address:p}=await u(this,c,"f").getEip3770Address(i),{address:g}=await u(this,c,"f").getEip3770Address(a),y=Math.floor(Date.now()/1e3/3600),m=p+y,_=await f.signMessage(m),b={safe:e?(await u(this,c,"f").getEip3770Address(e)).address:null,delegate:p,delegator:g,label:d,signature:_};return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/delegates/`,method:h.HttpMethod.Post,body:b})}async removeSafeDelegate({delegateAddress:e,delegatorAddress:i,signer:a}){if(""===e)throw Error("Invalid Safe delegate address");if(""===i)throw Error("Invalid Safe delegator address");let{address:d}=await u(this,c,"f").getEip3770Address(e),{address:f}=await u(this,c,"f").getEip3770Address(i),p=Math.floor(Date.now()/1e3/3600),g=await a.signMessage(d+p);return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/delegates/${d}`,method:h.HttpMethod.Delete,body:{delegate:d,delegator:f,signature:g}})}async getSafeCreationInfo(e){if(""===e)throw Error("Invalid Safe address");let{address:i}=await u(this,c,"f").getEip3770Address(e);return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/safes/${i}/creation/`,method:h.HttpMethod.Get})}async estimateSafeTransaction(e,i){if(""===e)throw Error("Invalid Safe address");let{address:a}=await u(this,c,"f").getEip3770Address(e);return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/safes/${a}/multisig-transactions/estimations/`,method:h.HttpMethod.Post,body:i})}async proposeTransaction({safeAddress:e,safeTransactionData:i,safeTxHash:a,senderAddress:d,senderSignature:f,origin:p}){if(""===e)throw Error("Invalid Safe address");let{address:g}=await u(this,c,"f").getEip3770Address(e),{address:y}=await u(this,c,"f").getEip3770Address(d);if(""===a)throw Error("Invalid safeTxHash");return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/safes/${g}/multisig-transactions/`,method:h.HttpMethod.Post,body:{...i,contractTransactionHash:a,sender:y,signature:f,origin:p}})}async getIncomingTransactions(e){if(""===e)throw Error("Invalid Safe address");let{address:i}=await u(this,c,"f").getEip3770Address(e);return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/safes/${i}/incoming-transfers?executed=true`,method:h.HttpMethod.Get})}async getModuleTransactions(e){if(""===e)throw Error("Invalid Safe address");let{address:i}=await u(this,c,"f").getEip3770Address(e);return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/safes/${i}/module-transactions/`,method:h.HttpMethod.Get})}async getMultisigTransactions(e){if(""===e)throw Error("Invalid Safe address");let{address:i}=await u(this,c,"f").getEip3770Address(e);return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/safes/${i}/multisig-transactions/`,method:h.HttpMethod.Get})}async getPendingTransactions(e,i){if(""===e)throw Error("Invalid Safe address");let{address:a}=await u(this,c,"f").getEip3770Address(e),d=i||(await this.getSafeInfo(a)).nonce;return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/safes/${a}/multisig-transactions/?executed=false&nonce__gte=${d}`,method:h.HttpMethod.Get})}async getAllTransactions(e,i){if(""===e)throw Error("Invalid Safe address");let{address:a}=await u(this,c,"f").getEip3770Address(e),d=new URL(`${u(this,s,"f")}/v1/safes/${a}/all-transactions/`),f=i?.trusted?.toString()||"true";d.searchParams.set("trusted",f);let p=i?.queued?.toString()||"true";d.searchParams.set("queued",p);let g=i?.executed?.toString()||"false";return d.searchParams.set("executed",g),(0,h.sendRequest)({url:d.toString(),method:h.HttpMethod.Get})}async getNextNonce(e){if(""===e)throw Error("Invalid Safe address");let{address:i}=await u(this,c,"f").getEip3770Address(e),a=await this.getPendingTransactions(i);if(a.results.length>0){let e=a.results.map(e=>e.nonce),i=Math.max(...e);return i+1}let s=await this.getSafeInfo(i);return s.nonce}async getTokenList(){return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/tokens/`,method:h.HttpMethod.Get})}async getToken(e){if(""===e)throw Error("Invalid token address");let{address:i}=await u(this,c,"f").getEip3770Address(e);return(0,h.sendRequest)({url:`${u(this,s,"f")}/v1/tokens/${i}/`,method:h.HttpMethod.Get})}}},81786:function(e,i,a){var s=this&&this.__createBinding||(Object.create?function(e,i,a,s){void 0===s&&(s=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,s,c)}:function(e,i,a,s){void 0===s&&(s=a),e[s]=i[a]}),c=this&&this.__exportStar||function(e,i){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(i,a)||s(i,e,a)},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0});let u=d(a(99494));c(a(84988),i),i.default=u.default},84988:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},34020:function(e,i,a){var s,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.sendRequest=i.HttpMethod=void 0;let d=c(a(23200));async function sendRequest({url:e,method:i,body:a}){let s;let c=await (0,d.default)(e,{method:i,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});try{s=await c.json()}catch(e){if(!c.ok)throw Error(c.statusText)}if(c.ok)return s;if(s.data)throw Error(s.data);if(s.detail)throw Error(s.detail);if(s.message)throw Error(s.message);if(s.nonFieldErrors)throw Error(s.nonFieldErrors);if(s.delegate)throw Error(s.delegate);if(s.safe)throw Error(s.safe);if(s.delegator)throw Error(s.delegator);throw Error(c.statusText)}(s=i.HttpMethod||(i.HttpMethod={})).Get="get",s.Post="post",s.Delete="delete",i.sendRequest=sendRequest},46117:function(e,i){Object.defineProperty(i,"__esModule",{value:!0}),i.getTxServiceBaseUrl=void 0,i.getTxServiceBaseUrl=function(e){return`${e}/api`}},1887:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},39771:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},80742:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},58922:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},44887:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},96334:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},22784:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},68397:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},70915:function(e,i){Object.defineProperty(i,"__esModule",{value:!0})},17127:function(e,i,a){var s=this&&this.__createBinding||(Object.create?function(e,i,a,s){void 0===s&&(s=a);var c=Object.getOwnPropertyDescriptor(i,a);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(e,s,c)}:function(e,i,a,s){void 0===s&&(s=a),e[s]=i[a]}),c=this&&this.__exportStar||function(e,i){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(i,a)||s(i,e,a)};Object.defineProperty(i,"__esModule",{value:!0}),c(a(1887),i),c(a(39771),i),c(a(80742),i),c(a(58922),i),c(a(44887),i),c(a(96334),i),c(a(22784),i),c(a(68397),i),c(a(70915),i),c(a(97305),i)},97305:function(e,i){var a;Object.defineProperty(i,"__esModule",{value:!0}),i.OperationType=void 0,(a=i.OperationType||(i.OperationType={}))[a.Call=0]="Call",a[a.DelegateCall=1]="DelegateCall"},94006:function(e,i,a){a.r(i),a.d(i,{getStandaloneOnrampUrl:function(){return getStandaloneOnrampUrl},loadStripeOnramp:function(){return loadStripeOnramp}});var s="https://js.stripe.com/v3",c=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,findScript=function(){for(var e=document.querySelectorAll('script[src^="'.concat(s,'"]')),i=0;i<e.length;i++){var a=e[i];if(c.test(a.src))return a}return null},injectScript=function(e){var i=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",a=document.createElement("script");a.src="".concat(s).concat(i);var c=document.head||document.body;if(!c)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return c.appendChild(a),a},registerWrapper=function(e,i){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:i})},d=null,initStripe=function(e,i,a){if(null===e)return null;var s=e.apply(void 0,i);return registerWrapper(s,a),s},u=Promise.resolve().then(function(){return null!==d?d:d=new Promise(function(e,i){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var a=findScript();a||(a=injectScript(null)),a.addEventListener("load",function(){window.Stripe?e(window.Stripe):i(Error("Stripe.js not available"))}),a.addEventListener("error",function(){i(Error("Failed to load Stripe.js"))})}catch(e){i(e);return}})}),f=!1;u.catch(function(e){f||console.warn(e)});var loadStripe=function(){for(var e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];f=!0;var s=Date.now();return u.then(function(e){return initStripe(e,i,s)})};function _arrayLikeToArray(e,i){(null==i||i>e.length)&&(i=e.length);for(var a=0,s=Array(i);a<i;a++)s[a]=e[a];return s}var h="https://crypto-js.stripe.com/crypto-onramp-outer.js",stripe_esm_findScript=function(){for(var e=document.querySelectorAll('script[src^="'.concat(h,'"]')),i=0;i<e.length;i++){var a=e[i];if(h===a.src)return a}return null},stripe_esm_injectScript=function(){var e=document.createElement("script");e.src=h;var i=document.head||document.body;if(!i)throw Error("Expected document.body not to be null. Stripe Crypto requires a <body> element.");return i.appendChild(e),e},stripe_esm_registerWrapper=function(e,i){e&&e._registerWrapper&&e._registerWrapper({name:"crypto-js",version:"0.0.4",startTime:i})},p=null,initStripeOnramp=function(e,i,a){if(null===e)return null;var s=e.apply(void 0,i);return stripe_esm_registerWrapper(s,a),s},g=Promise.resolve().then(function(){return null!==p?p:p=new Promise(function(e,i){if("undefined"==typeof window){e(null);return}if(window.StripeOnramp){e(window.StripeOnramp);return}try{var a=stripe_esm_findScript();a||(a=stripe_esm_injectScript()),a.addEventListener("load",function(){window.StripeOnramp?e(window.StripeOnramp):i(Error("StripeOnramp not available"))}),a.addEventListener("error",function(){i(Error("Failed to load StripeOnramp"))})}catch(e){i(e);return}})}),y=!1;g.catch(function(e){y||console.warn(e)});var loadStripeOnramp=function(){for(var e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];y=!0;var s=Date.now();return Promise.all([loadStripe.apply(void 0,i),g]).then(function(e){return initStripeOnramp((function(e){if(Array.isArray(e))return e}(e)||function(e,i){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var s,c,d,u,f=[],h=!0,p=!1;try{if(d=(a=a.call(e)).next,0===i){if(Object(a)!==a)return;h=!1}else for(;!(h=(s=d.call(a)).done)&&(f.push(s.value),f.length!==i);h=!0);}catch(e){p=!0,c=e}finally{try{if(!h&&null!=a.return&&(u=a.return(),Object(u)!==u))return}finally{if(p)throw c}}return f}}(e,2)||function(e,i){if(e){if("string"==typeof e)return _arrayLikeToArray(e,i);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(e,i)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],i,s)})},getStandaloneOnrampUrl=function(e){return g.then(function(i){return null===i?null:i.Standalone(e).getUrl()}).catch(function(){return null})}},37656:function(e,i,a){a.d(i,{Kq:function(){return B},bM:function(){return Fe}});var s,c,d,u,f,h,p,g,y,m,_,b,S,E,O,X=(e,i,a)=>{if(!i.has(e))throw TypeError("Cannot "+a)},M=((u=M||{}).eur="eur",u),P=((f=P||{}).corporate="corporate",f.personal="personal",f),j=((h=j||{}).read="read",h.write="write",h),T=((p=T||{}).absent="absent",p.submitted="submitted",p.pending="pending",p.confirmed="confirmed",p),A=((g=A||{}).approved="approved",g.rejected="rejected",g.unknown="unknown",g),C=((y=C||{}).requested="requested",y.approved="approved",y.pending="pending",y),$=((m=$||{}).iban="iban",m.scan="scan",m.chain="chain",m),x=((_=x||{}).redeem="redeem",_.issue="issue",_),B=((b=B||{}).placed="placed",b.pending="pending",b.processed="processed",b.rejected="rejected",b);let re=e=>{if("Invalid Date"===e.toString())throw e;let t=e=>e<10?"0"+e:e;return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+(e=>{if(0===e)return"Z";let i=e>0?"-":"+";return i+t(Math.floor((e=Math.abs(e))/60))+":"+t(e%60)})(e.getTimezoneOffset())},Fe=(e,i,a,s)=>{let c=`${(null==s?void 0:s.toUpperCase())||"EUR"}`;return a?`Send ${c} ${e} to ${i} on ${ee(a)} at ${re(new Date)}`:`Send ${c} ${e} to ${i} at ${re(new Date)}`},ee=e=>{switch(e){case 1:case 5:return"ethereum";case 100:case 10200:return"gnosis";case 137:case 80001:return"polygon";default:throw Error(`Chain not supported: ${e}`)}};var H="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof global?global:"u">typeof self?self:{},D={exports:{}},U={exports:{}};let W=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})),N=function(e){if(e.__esModule)return e;var i=e.default;if("function"==typeof i){var r=function n(){return this instanceof n?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};r.prototype=i.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}),r}(W);function he(){var e;return S||(S=1,U.exports=e=e||function(e,i){if("u">typeof window&&window.crypto&&(a=window.crypto),"u">typeof self&&self.crypto&&(a=self.crypto),"u">typeof globalThis&&globalThis.crypto&&(a=globalThis.crypto),!a&&"u">typeof window&&window.msCrypto&&(a=window.msCrypto),!a&&"u">typeof H&&H.crypto&&(a=H.crypto),!a)try{a=N}catch{}var a,v=function(){if(a){if("function"==typeof a.getRandomValues)try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof a.randomBytes)try{return a.randomBytes(4).readInt32LE()}catch{}}throw Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function o(){}return function(e){var i;return o.prototype=e,i=new o,o.prototype=null,i}}(),c={},d=c.lib={},u=d.Base={extend:function(e){var i=s(this);return e&&i.mixIn(e),i.hasOwnProperty("init")&&this.init!==i.init||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var i in e)e.hasOwnProperty(i)&&(this[i]=e[i]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},f=d.WordArray=u.extend({init:function(e,i){e=this.words=e||[],void 0!=i?this.sigBytes=i:this.sigBytes=4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var i=this.words,a=e.words,s=this.sigBytes,c=e.sigBytes;if(this.clamp(),s%4)for(var d=0;d<c;d++){var u=a[d>>>2]>>>24-d%4*8&255;i[s+d>>>2]|=u<<24-(s+d)%4*8}else for(var f=0;f<c;f+=4)i[s+f>>>2]=a[f>>>2];return this.sigBytes+=c,this},clamp:function(){var i=this.words,a=this.sigBytes;i[a>>>2]&=4294967295<<32-a%4*8,i.length=e.ceil(a/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var i=[],a=0;a<e;a+=4)i.push(v());return new f.init(i,e)}}),h=c.enc={},p=h.Hex={stringify:function(e){for(var i=e.words,a=e.sigBytes,s=[],c=0;c<a;c++){var d=i[c>>>2]>>>24-c%4*8&255;s.push((d>>>4).toString(16)),s.push((15&d).toString(16))}return s.join("")},parse:function(e){for(var i=e.length,a=[],s=0;s<i;s+=2)a[s>>>3]|=parseInt(e.substr(s,2),16)<<24-s%8*4;return new f.init(a,i/2)}},g=h.Latin1={stringify:function(e){for(var i=e.words,a=e.sigBytes,s=[],c=0;c<a;c++){var d=i[c>>>2]>>>24-c%4*8&255;s.push(String.fromCharCode(d))}return s.join("")},parse:function(e){for(var i=e.length,a=[],s=0;s<i;s++)a[s>>>2]|=(255&e.charCodeAt(s))<<24-s%4*8;return new f.init(a,i)}},y=h.Utf8={stringify:function(e){try{return decodeURIComponent(escape(g.stringify(e)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(e){return g.parse(unescape(encodeURIComponent(e)))}},m=d.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=y.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(i){var a,s=this._data,c=s.words,d=s.sigBytes,u=this.blockSize,h=d/(4*u),p=(h=i?e.ceil(h):e.max((0|h)-this._minBufferSize,0))*u,g=e.min(4*p,d);if(p){for(var y=0;y<p;y+=u)this._doProcessBlock(c,y);a=c.splice(0,p),s.sigBytes-=g}return new f.init(a,g)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});d.Hasher=m.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(i,a){return new e.init(a).finalize(i)}},_createHmacHelper:function(e){return function(i,a){return new _.HMAC.init(e,a).finalize(i)}}});var _=c.algo={};return c}(Math)),U.exports}D.exports=(c=(s=he()).lib.WordArray,s.enc.Base64url={stringify:function(e,i){void 0===i&&(i=!0);var a=e.words,s=e.sigBytes,c=i?this._safe_map:this._map;e.clamp();for(var d=[],u=0;u<s;u+=3)for(var f=a[u>>>2]>>>24-u%4*8&255,h=a[u+1>>>2]>>>24-(u+1)%4*8&255,p=a[u+2>>>2]>>>24-(u+2)%4*8&255,g=f<<16|h<<8|p,y=0;y<4&&u+.75*y<s;y++)d.push(c.charAt(g>>>6*(3-y)&63));var m=c.charAt(64);if(m)for(;d.length%4;)d.push(m);return d.join("")},parse:function(e,i){void 0===i&&(i=!0);var a=e.length,s=i?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var u=0;u<s.length;u++)d[s.charCodeAt(u)]=u}var f=s.charAt(64);if(f){var h=e.indexOf(f);-1!==h&&(a=h)}return function(e,i,a){for(var s=[],d=0,u=0;u<i;u++)if(u%4){var f=a[e.charCodeAt(u-1)]<<u%4*2|a[e.charCodeAt(u)]>>>6-u%4*2;s[d>>>2]|=f<<24-d%4*8,d++}return c.create(s,d)}(e,a,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},s.enc.Base64url),D.exports;var q={exports:{}};q.exports=(d=he(),function(e){var i=d.lib,a=i.WordArray,s=i.Hasher,c=d.algo,u=[],f=[];(function(){function l(e){return(e-(0|e))*4294967296|0}for(var i=2,a=0;a<64;)(function(i){for(var a=e.sqrt(i),s=2;s<=a;s++)if(!(i%s))return!1;return!0})(i)&&(a<8&&(u[a]=l(e.pow(i,.5))),f[a]=l(e.pow(i,1/3)),a++),i++})();var h=[],p=c.SHA256=s.extend({_doReset:function(){this._hash=new a.init(u.slice(0))},_doProcessBlock:function(e,i){for(var a=this._hash.words,s=a[0],c=a[1],d=a[2],u=a[3],p=a[4],g=a[5],y=a[6],m=a[7],_=0;_<64;_++){if(_<16)h[_]=0|e[i+_];else{var b=h[_-15],S=(b<<25|b>>>7)^(b<<14|b>>>18)^b>>>3,E=h[_-2],O=(E<<15|E>>>17)^(E<<13|E>>>19)^E>>>10;h[_]=S+h[_-7]+O+h[_-16]}var M=p&g^~p&y,P=s&c^s&d^c&d,j=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),T=m+((p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25))+M+f[_]+h[_],A=j+P;m=y,y=g,g=p,p=u+T|0,u=d,d=c,c=s,s=T+A|0}a[0]=a[0]+s|0,a[1]=a[1]+c|0,a[2]=a[2]+d|0,a[3]=a[3]+u|0,a[4]=a[4]+p|0,a[5]=a[5]+g|0,a[6]=a[6]+y|0,a[7]=a[7]+m|0},_doFinalize:function(){var i=this._data,a=i.words,s=8*this._nDataBytes,c=8*i.sigBytes;return a[c>>>5]|=128<<24-c%32,a[(c+64>>>9<<4)+14]=e.floor(s/4294967296),a[(c+64>>>9<<4)+15]=s,i.sigBytes=4*a.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});d.SHA256=s._createHelper(p),d.HmacSHA256=s._createHmacHelper(p)}(Math),d.SHA256),q.exports;new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakSet,new WeakSet,new WeakMap,new WeakMap,new WeakMap},43118:function(e,i,a){a.d(i,{w_:function(){return GenIcon}});var s=a(2265),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d=s.createContext&&s.createContext(c),u=["attr","size","title"];function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function ownKeys(e,i){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);i&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,s)}return a}function _objectSpread(e){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(a),!0).forEach(function(i){var s,c;s=i,c=a[i],(s=function(e){var i=function(e,i){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,i||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e,"string");return"symbol"==typeof i?i:String(i)}(s))in e?Object.defineProperty(e,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[s]=c}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function GenIcon(e){return i=>s.createElement(IconBase,_extends({attr:_objectSpread({},e.attr)},i),function Tree2Element(e){return e&&e.map((e,i)=>s.createElement(e.tag,_objectSpread({key:i},e.attr),Tree2Element(e.child)))}(e.child))}function IconBase(e){var elem=i=>{var a,{attr:c,size:d,title:f}=e,h=function(e,i){if(null==e)return{};var a,s,c=function(e,i){if(null==e)return{};var a,s,c={},d=Object.keys(e);for(s=0;s<d.length;s++)a=d[s],i.indexOf(a)>=0||(c[a]=e[a]);return c}(e,i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(s=0;s<d.length;s++)a=d[s],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}(e,u),p=d||i.size||"1em";return i.className&&(a=i.className),e.className&&(a=(a?a+" ":"")+e.className),s.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,c,h,{className:a,style:_objectSpread(_objectSpread({color:e.color||i.color},i.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),f&&s.createElement("title",null,f),e.children)};return void 0!==d?s.createElement(d.Consumer,null,e=>elem(e)):elem(c)}}}]);